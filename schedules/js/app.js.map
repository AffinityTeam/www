{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/schedulesManagement/SearchSchedule.vue?62ca","webpack:///./src/components/schedulesNavigation/SchedulesNavigation.vue?1387","webpack:///./src/components/schedulesManagement/SchedulesManagement.vue?30ab","webpack:///./external-lib/dashboard/index.vue?23d8","webpack:///./src/components/common/DatePicker.vue?ddc3","webpack:///./src/components/employeeAllocation/SearchEmployee.vue?02c2","webpack:///./src/components/employeeAllocation/EmpSchedDetail.vue?5370","webpack:///./src/components/common/AutoComplete.vue?279c","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/common/CustomSelect.vue?1f2f","webpack:///./src/components/schedulesManagement/schedulesManagement.scss?41a7","webpack:///./src/components/employeeAllocation/EmployeeSchedule.vue?1673","webpack:///./src/components/common/Modal.vue?d62d","webpack:///./src/App.vue?49c5","webpack:///./src/components/FlexSchedule/EditableCellElement.vue?c533","webpack:///./src/components/FlexSchedule/FlexSchedule.vue?2d26","webpack:///./src/components/FlexSchedule/FlexScheduleCellControl.vue?319d","webpack:///./src/components/employeeAllocation/EmployeeAllocation.vue?5c6d","webpack:///./src/components/FlexSchedule/DynamicDayCell.vue?c576","webpack:///./src/App.vue","webpack:///./src/components/schedulesNavigation/SchedulesNavigation.vue","webpack:///./src/remote/scheduleRequest.ts","webpack:///./src/components/schedulesNavigation/SchedulesNavigation.vue?f4ed","webpack:///./src/components/schedulesNavigation/SchedulesNavigation.vue?1e87","webpack:///./src/components/alert.vue","webpack:///./src/components/common/Modal.vue","webpack:///./src/components/common/Modal.vue?945b","webpack:///./src/components/common/Modal.vue?9492","webpack:///./src/components/alert.vue?9b14","webpack:///./src/components/alert.vue?b608","webpack:///./external-lib/dashboard/index.vue","webpack:///./external-lib/dashboard/header.vue","webpack:///./external-lib/dashboard/header.vue?59be","webpack:///./external-lib/dashboard/navbar.vue","webpack:///./external-lib/dashboard/nav-item.vue","webpack:///./external-lib/dashboard/nav-item.vue?6d94","webpack:///./external-lib/scrollable.vue","webpack:///./external-lib/scrollable.vue?3d17","webpack:///./external-lib/dashboard/navbar.vue?4c70","webpack:///./external-lib/dashboard/footer.vue","webpack:///./external-lib/dashboard/footer.vue?0ca6","webpack:///./external-lib/dashboard/index.vue?e8dd","webpack:///./external-lib/dashboard/index.js","webpack:///./src/App.vue?eabf","webpack:///./src/components/mySchedules/MySchedules.vue","webpack:///./src/components/dialog.ts","webpack:///./src/components/common/DatePicker.vue","webpack:///./src/components/common/DatePicker.vue?18fd","webpack:///./src/components/common/DatePicker.vue?5b75","webpack:///./src/components/mySchedules/MySchedules.vue?1412","webpack:///./src/components/mySchedules/MySchedules.vue?613e","webpack:///./src/components/schedulesManagement/SchedulesManagement.vue","webpack:///./src/components/scheduleDetail/ScheduleDetail.vue","webpack:///./src/components/scheduleDetail/ScheduleDetail.vue?bed9","webpack:///./src/components/scheduleDetail/ScheduleDetail.vue?0647","webpack:///./src/components/schedulesManagement/SearchSchedule.vue","webpack:///./src/components/schedulesManagement/SearchSchedule.vue?fcce","webpack:///./src/components/schedulesManagement/SearchSchedule.vue?6c2e","webpack:///./src/components/schedulesManagement/SchedulesManagement.vue?c73d","webpack:///./src/components/schedulesManagement/SchedulesManagement.vue?8a49","webpack:///./src/components/employeeAllocation/EmployeeAllocation.vue","webpack:///./src/components/employeeAllocation/EmployeeSchedule.vue","webpack:///./src/components/employeeAllocation/EmpSchedDetail.vue","webpack:///./src/components/employeeAllocation/EmpSchedDetail.vue?6feb","webpack:///./src/components/employeeAllocation/EmpSchedDetail.vue?c245","webpack:///./src/components/employeeAllocation/EmployeeSchedule.vue?de65","webpack:///./src/components/employeeAllocation/EmployeeSchedule.vue?a993","webpack:///./src/components/employeeAllocation/SearchEmployee.vue","webpack:///./src/components/employeeAllocation/SearchEmployee.vue?26cd","webpack:///./src/components/employeeAllocation/SearchEmployee.vue?6be3","webpack:///./src/components/employeeAllocation/EmployeeAllocation.vue?14d3","webpack:///./src/components/employeeAllocation/EmployeeAllocation.vue?eb00","webpack:///./src/components/FlexSchedule/FlexSchedule.vue","webpack:///./src/components/FlexSchedule/EditFlexSchedule.vue","webpack:///./src/store/flexScheduleModule.ts","webpack:///./src/components/common/CustomSelect.vue","webpack:///./src/components/common/CustomSelect.vue?4622","webpack:///./src/components/common/CustomSelect.vue?6905","webpack:///./src/components/FlexSchedule/EditFlexSchedule.vue?75f4","webpack:///./src/components/FlexSchedule/EditFlexSchedule.vue?a58a","webpack:///./src/components/FlexSchedule/DynamicDayCell.vue","webpack:///./src/components/FlexSchedule/EditableCellElement.vue","webpack:///./src/components/FlexSchedule/EditableCellElement.vue?e5d3","webpack:///./src/components/FlexSchedule/EditableCellElement.vue?d605","webpack:///./src/store/lookupModule.ts","webpack:///./src/components/FlexSchedule/DynamicDayCell.vue?dc68","webpack:///./src/components/FlexSchedule/DynamicDayCell.vue?0d1c","webpack:///./src/components/FlexSchedule/FlexScheduleCellControl.vue","webpack:///./src/components/FlexSchedule/FlexScheduleCellControl.vue?538c","webpack:///./src/components/FlexSchedule/FlexScheduleCellControl.vue?9489","webpack:///./src/components/common/timePicker/TimePicker.vue","webpack:///./src/components/common/timePicker/TimePicker.vue?e217","webpack:///./src/components/common/timePicker/TimePicker.vue?a315","webpack:///./src/components/common/AutoComplete.vue","webpack:///./src/components/common/AutoComplete.vue?d9a5","webpack:///./src/components/common/AutoComplete.vue?c997","webpack:///./src/components/FlexSchedule/FlexSchedule.vue?f996","webpack:///./src/components/FlexSchedule/FlexSchedule.vue?1819","webpack:///./src/components/Login/Login.vue","webpack:///./src/components/Login/Login.vue?1406","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/plugins/filters.ts","webpack:///./src/plugins/iconifyIcons.ts","webpack:///./src/main.ts","webpack:///./src/components/FlexSchedule/EditFlexSchedule.vue?d3a0","webpack:///./src/components/scheduleDetail/ScheduleDetail.vue?fe85","webpack:///./src/components/alert.vue?f4ef","webpack:///./src/components/mySchedules/mySchedules.scss?517f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","class","enable-by-config","config-url","info-url","logout-url","href","target","userFullName","user","authorizedMenus","menu","selected","selectMenu","display","ISDEV","VUE_APP_AXIOSHOST","a","defaults","baseURL","headers","common","interceptors","response","use","resp","err","status","location","reload","Promise","reject","post","then","res","JSON","parse","StandardSchedules","ShiftTypes","ScheduleDetail","PostSchedule","DeleteSchedule","AllocateSchedule","Messages","Message","RemoveEmployeeWorkSchedule","employeeNo","UpdateEmpSchedRequest","EmployeesList","EmpWorkScheds","param","EmpSchedDetailRequest","GetFlexScheduleDetail","GetFlexSchedules","params","CreateFlexSchedule","UpdateFlexSchedule","put","GetManagedEmployees","GetPosition","GetCostelements","console","log","EmployeeWorkSchedule","AuthGetInfo","menus","text","route","default","selectedMenu","computed","this","FirstName","LastName","filteredMenus","accessibleMenus","AccessibleMenus","currentMenuIteration","indexOf","methods","$router","forEach","isSelected","menuText","mounted","Affinity","find","$route","path","defaultMenu","render","__scopeId","src","ref","noBox","body","showLoader","message","showButtons","type","showCancel","tabindex","onOk","confirmButtonText","small","onCancel","cancelButtonText","show","clickWrapper","style","getCustomPosition","props","customPosition","Boolean","top","Number","left","toggleShow","isShow","$emit","position","components","Modal","dialog","emitter","on","clearDialog","inputObj","$refs","alertModalRef","enabled","showNav","hideNav","loading","error","reloadPage","title","logoUrl","onNavToggle","apps","logoutUrl","onNavHide","version","String","onMouseDown","scroll-x","enabledApps","app","index","signoutUrl","hasMenu","expanding","url","toggleMenu","Icon","Text","Name","expanded","Menu","subItem","is-owned","host","isOwned","External","toLowerCase","pathname","Url","gsap","from","duration","height","to","onComplete","scrollX","scrollY","ps","resizeDetector","strategy","onResize","update","container","suppressScrollX","suppressScrollY","listenTo","$slots","el","elm","beforeUnmount","uninstall","Array","mousedown","Enabled","encodeURI","onBodyMouseDown","evt","created","document","addEventListener","beforeDestroy","removeEventListener","NavItem","Scrollable","year","Date","getFullYear","enableByConfig","configUrl","infoUrl","legacyAuth","CompanyNo","EmployeeNo","authorize","cb","remoteConfig","method","authroot","Firstname","Lastname","PayPoint","CompanyNumber","EmployeeNumber","UseDashboard","catch","getConfig","config","Apps","Link","Forms","form","mobile","navbar","Component","Dashboard","schedulesNavigation","Alert","x-small","$filters","reformatDate","fromDate","updateDateText","$event","updateDateTime","selectDateTodayForFromDate","toDate","outlined","dense","hide-details","tile","selectDateTodayForToDate","printWorkSchedule","schedules","schedule","weekName","weekDateRange","detailArr","detail","getWeekDayByIndex","displayScheduleDetail","shiftDescription","startTime","finishTime","hours","date","dateModalTop","leftInput","dateModalLeft","datePickerTargetDay","testDialog","emit","okColor","checkChange","input","clear","alert","calculateLeft","cancelPickDate","previousMonth","selectedDate","format","nextMonth","weekOfDays","weekDay","shortName","calendarArr","calendarDay","colorToday","selectDate","dateNumber","currentYear","datePickerPromise","fullName","dayNumber","setup","currentMonth","month","calculateMonth","innerWidth","today","selectDateOnly","day","ModalRef","clone","monthStart","startOf","monthEnd","endOf","lastMonthEndDate","lastMonthBeginDate","lastMonth","mStart","mEnd","mNextStart","mNextEnd","add","newDate","waitPickDate","DatePickerFormat","DatePicker","datePickerFormat","menu1","menu2","dateModal","selectedDateType","currentDate","setHours","intDate","getDate","currentWeekDay","getDay","weekDayFactor","setDate","loadSchedules","event","element","getClientRects","bottom","openDatePicker","args","content","getElementById","innerHTML","mywindow","open","write","close","focus","print","finalFromDate","finalToDate","tempSchedules","week","mondayScheduleDetail","tuesdayScheduleDetail","wednesdayScheduleDetail","thursdayScheduleDetail","fridayScheduleDetail","saturdayScheduleDetail","sundayScheduleDetail","finally","scheduleDetail","hour","minute","weekdayArray","DatePickerRef","createNewSchedule","selectSchedulesDetail","createNew","schedDetail","closeScheduleDetail","shiftTypeList","read-only","cancelScheduleDetail","reloadSchedulesDetail","scheduleSaved","scheduleDeleted","EmpAllocations","empSched","isActive","showActiveSchedule","EmployeeName","DateFrom","DateTo","toggleShowActiveSchedule","for","formUpdated","formSubmited","isNewSchedule","hasChanges","counter","Archive","rows","Description","StartDate","NoOfWeeks","updateNoOfWeeks","numLimitKeyDown","icon","color","increaseNumber","reduceNumber","showShift","Days","DayNumber","Week","isFirstDayOfWeek","DayOfWeek","getDayOfWeek","step","min","max","Hours","center","autocomplete","checkHour","data-test","reformatTime","StartTime","timeTextChanged","FinishTime","menu-props","ShiftId","items","shifts","item-text","item-value","toggleShift","disabled","deleteSchedule","archiveSchedule","cancelChanges","updateDetail","tablePadding","isDateToCleared","initialEmpSched","startDateMenu","timePickerTargetDay","selectedTimeType","Id","loadShiftTypes","remapDays","watch","newVal","oldVal","createNewDays","preventDefault","stopPropagation","total","fullDays","dayNum","pickedTime","autoCalcTime","targetDay","subtract","timeDiff","diff","Math","round","set","toObject","startDateDatePickerHandler","dayNo","startDate","list","undefined","ShiftType","shiftType","sort","b","x","y","days","currentWeek","floor","newLength","allowDecimal","allowColon","allow","keyCode","msg","reloadDetail","fromWeek","toWeek","startDateModal","endDateModal","doUpdateDetail","doDeleteSchedule","doUpdateValidation","postData","filters","searchTerm","placeholder","options","option","choseFilter","updateSort","orderByArrow","schedList","sched","classObject","HoursPerWeek","Count","selectedSched","empListHeight","showFilters","sortOptions","orderBy","partTimeSche","fullTimeSche","activeSche","inActiveSche","archivedSche","all","searchTermFocus","getSchedulesList","$watch","refreshFilters","deep","blur","selectRef","deselectScheDetail","toggleFilters","vm","xString","yString","order","trim","visible","getDropDownFilterResult","hidden","weeks","Data","unshift","sortIndex","arrow","SearchSchedule","getShiftTypeList","loadScheduleDetail","checkEmpAllocationActive","dateFrom","dateTo","second","changeCheck","searchScheduleRef","updateEmpList","bulkEmpList","emp","isMobileView","showScheduleDetail","removeEmployee","clearSelectedEmployee","selectSearchInput","updateSearchList","cloneSchedList","navDownList","chooseSchedule","selectedSchedule","schedAllocation","toDateMenu","Comment","capDate","EndExistingScheds","closeSchedAllocation","allocateEmployees","selectedEmpForDetail","employee","resetSelectedEmpForDetail","selectedEmp","closeEmployeeSchedule","activeOnly","updateActiveOnly","true-value","false-value","empSchedList","selectEmpSchedCheck","WorkSchedName","selectedEmpSched","deleteSelection","updatedEmpSchedule","empSchedDetail","Detail","submitForm","attrs","append-icon","RemoveSchedule","updateEmpSched","dateType","fromDateMenu","fromDatePickerValue","toDatePickerValue","getEmpSchedDetail","datePickerFormattedFromDate","datePickerFormattedToDate","fromDateDatePickerHandler","toDateDatePickerHandler","noClose","EmpScheduleDetail","getEmpWorkScheds","empScheDetailRef","selectEmpSched","empList","toggleEmployeeSelect","WorkschedNames","PersonalSchedule","addEmployee","selectedEmpList","navigator","userAgent","match","getEmployeesList","toString","clearSelectedEmployeeList","SearchEmployee","EmployeeSchedule","WorkschedId","startDatePickerValue","checkIsMobileView","filter","yesterday","testDown","selectDropdownRef","SearchEmployeeRef","resetSchedAllocation","warningMsgs","EmployeeList","EmployeeScheduleRef","selectInputRef","getLastWeek","$icons","chevronLeft","chooseCalendarDate","ordinalSuffix","dayFocus","getNextWeek","chevronRight","weekDays","scheduleWeek","empNo","StdHoursPerWeek","getTotalHour","sche","scheDay","column","openEditDialog","isEdit","isEditingDialog","datePickerTop","datePickerLeft","FlexScheduleAction","FlexScheduleMutation","header","endTime","breakLength","shiftOptions","displayKey","selectedShift","selectShift","positionOptions","positionTitle","selectedPosition","selectPositionCustom","costElementOptions","selectedCostElement1","selectCostElement1","selectedCostElement2","selectCostElement2","footer","updateSche","createSche","cancel","EMPTY_FORM","shiftId","costElement1","costElement2","actions","loadTargetSchedule","scheduleId","commit","mutations","clearForm","state","flexScheduleDay","createNewScheduleDay","selectedFlexDay","setScheduleDay","fromEntries","entries","k","v","charAt","merge","saveScheduleDayToWeek","updateEditConfig","newConfig","editFlexScheduleDayConfig","FlexSchedule","calendarFocusDate","flexScheduleCellSetting","showHours","showBreakLength","showShiftId","showPosition","showCostElement1","showCostElement2","selectOption","CustomSelect","store","LookUp","costElements","$store","positions","selectPosition","putData","dayInWeek","EndTime","ScheduleData","BreakLength","Position","positionCode","CostElement1","CostElement2","openEdit","editTime","updateEditing","time","updateEditTime","cellSettings","label","modelValue","editing","fullWidthInput","moreDetail","changeEditing","LookupMutations","LookupActions","lookupMutations","setShifts","setPosition","setCostElements","lookupActions","getPositions","convertedPositions","positionRemote","getShifts","convertedShifts","shiftRemote","getCostElement","convertedCostElement","LookupSelections","EditableCellElement","updateElement","isEditing","dispatch","checkOptions","optionSelected","width","clockHours","clockMinutes","clockRef","canvas","ctx","getContext","radius","drawClock","arc","PI","fillStyle","fill","drawFace","drawNumbers","drawTime","beginPath","ang","font","textBaseline","textAlign","rotate","translate","fillText","drawHand","pos","lineWidth","lineCap","moveTo","lineTo","stroke","dropDownList","targeting","chooseOption","inputList","optionName","targetingIndex","originList","obj","selectFromTarget","moveTargetUp","moveTargetDown","TimePicker","EditFlexSchedule","DynamicDayCell","FlexScheduleCellControl","AutoComplete","selectedWeekStart","autoCompleteList","employeeList","scheduleWeekMap","Map","weekStart","weekEnd","loadDate","getDateData","CommonName","PositionCode","dateData","newWeek","getNewWeek","datePickerResult","getSelectedWeek","momentDay","endDate","reformatData","scheDaysToColumn","values","scheduleArr","employeeName","findResult","newWeekData","totalHours","confirmEdit","cancelEdit","editScheDay","EditModalRef","rel","integrity","crossorigin","login","username","password","routes","component","Login","SchedulesManagement","router","history","magic","Store","constructor","isValid","icons","chevronUp","chevronDown","serviceWorker","getRegistrations","registrations","registration","unregister","globalProperties","mount","iconifyIcons"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SearchSchedule.vue?vue&type=style&index=0&id=2bb750bc&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SchedulesNavigation.vue?vue&type=style&index=0&id=722227b2&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SchedulesManagement.vue?vue&type=style&index=1&id=5cb8baa9&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=3f9c1184&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DatePicker.vue?vue&type=style&index=0&id=dbcc9dca&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SearchEmployee.vue?vue&type=style&index=0&id=d14d6750&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EmpSchedDetail.vue?vue&type=style&index=0&id=04d53c9e&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AutoComplete.vue?vue&type=style&index=0&id=ba02b0d0&lang=scss&scoped=true\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CustomSelect.vue?vue&type=style&index=0&id=7330ab18&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./schedulesManagement.scss?vue&type=style&index=0&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EmployeeSchedule.vue?vue&type=style&index=0&id=9e5ee39c&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Modal.vue?vue&type=style&index=0&id=370a3a58&scoped=true&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=8c1fab50&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditableCellElement.vue?vue&type=style&index=0&id=0e06818a&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FlexSchedule.vue?vue&type=style&index=0&id=100c43e2&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FlexScheduleCellControl.vue?vue&type=style&index=0&id=dadce0a0&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EmployeeAllocation.vue?vue&type=style&index=0&id=5d191eec&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DynamicDayCell.vue?vue&type=style&index=0&id=36faa946&scoped=true&lang=scss\"","<template>\r\n    <div> <!--  id = app -->\r\n        <!--    <v-app>-->\r\n              <dashboard :enable-by-config=\"true\"\r\n                         config-url=\"/Config/Dashboard\" info-url=\"/Auth/GetInfo\" logout-url=\"/Auth/Logout\">\r\n        <!--          <schedules-navigation></schedules-navigation>-->\r\n        <!--          <alert></alert>-->\r\n        <!--          <div>-->\r\n        <!--            <router-view></router-view>-->\r\n        <!--          </div>-->\r\n            <div class=\"v-application\">\r\n                <schedules-navigation></schedules-navigation>\r\n                <alert></alert>\r\n\r\n                <router-view/>\r\n            </div>\r\n\r\n              </dashboard>\r\n        <!--    </v-app>-->\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport './App.scss'\r\nimport schedulesNavigation from \"./components/schedulesNavigation/SchedulesNavigation\";\r\nimport Alert from './components/alert'\r\nimport Dashboard from '../external-lib/dashboard'\r\n\r\nexport default {\r\n    name: 'App',\r\n\r\n    components: {\r\n        Dashboard,\r\n        schedulesNavigation,\r\n        Alert,\r\n    },\r\n\r\n    mounted() {\r\n        console.log('app vue created')\r\n    }\r\n};\r\n</script>\r\n<style>\r\n.v-application {\r\n    min-height: calc(100vh - 130px);\r\n}\r\n\r\n.v-application .v-btn:not(.v-btn--round).v-size--small {\r\n    min-width: auto;\r\n}\r\n</style>","<template>\r\n    <div class=\"schedules\">\r\n        <div class=\"sch-nav justify-space-between align-center primary body-2\">\r\n            <div class=\"white--text\">Schedules - {{ userFullName }}</div>\r\n            <div class=\"d-flex align-center\" v-if=\"user\">\r\n                <ul class=\"sch-nav-options mr-1 pa-0\">\r\n                    <li class=\"nav-box mr-1 py-1 px-2 my-1 caption\" v-for=\"menu in authorizedMenus\"\r\n                        @click=\"selectMenu(menu)\" :class=\"{ selected : menu.selected }\">\r\n                        <div>{{ menu.display }}</div>\r\n                    </li>\r\n                </ul>\r\n                <!--  todo: data-tooltip=\"Help\" data-tooltip-dir=\"bottom,left\"-->\r\n                <a href=\"/help/index\" class=\"sch-nav-help align-center mr-2\" v-tooltip.top=\"{content:'Help'}\"\r\n                   target=\"_blank\">\r\n                    <span class=\"icon-help-round white\"></span>\r\n                </a>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent} from \"vue\";\r\nimport Remote from \"@/remote/scheduleRequest\"\r\n\r\n\r\ndeclare global {\r\n    interface Window {\r\n        Affinity: any;\r\n    }\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'scheduleNavigation',\r\n    data() {\r\n        return {\r\n            user: <any>null,\r\n            menus: [\r\n                {\r\n                    text: 'Work Schedule',\r\n                    display: 'My Schedules',\r\n                    route: \"/my-schedules\",\r\n                    selected: false,\r\n                    default: true\r\n                },\r\n                {\r\n                    text: 'Flex Schedule',\r\n                    display: 'Flex Schedule',\r\n                    route: \"/flex-schedule\",\r\n                    selected: false,\r\n                    default: false,\r\n                },\r\n                {\r\n                    text: 'Schedule Management',\r\n                    display: 'Team Schedules',\r\n                    route: \"/team-schedules\",\r\n                    selected: false,\r\n                    default: false,\r\n                },\r\n                {\r\n                    text: 'Employee Allocation',\r\n                    display: 'Employee Allocations',\r\n                    route: \"/employee-allocations\",\r\n                    selected: false,\r\n                    default: false\r\n                }\r\n            ],\r\n            selectedMenu: <any>null\r\n        }\r\n    },\r\n    computed: {\r\n        userFullName() {\r\n            // bug: can not use this.user in return, throw missing typing error.\r\n            let user: any = this.user;\r\n            return user ? `${user.FirstName} ${user.LastName}` : '';\r\n        },\r\n        authorizedMenus() {\r\n            var filteredMenus = [];\r\n            var accessibleMenus = this.user.AccessibleMenus;\r\n            accessibleMenus.push('Flex Schedule')\r\n\r\n            // bug: can not use this.user in return, throw missing typing error.\r\n            let menus: any[] = this.menus;\r\n            for (var i = 0; i < this.menus.length; i++) {\r\n                var currentMenuIteration = menus[i];\r\n                if (accessibleMenus.indexOf(currentMenuIteration.text) != -1) {\r\n                    filteredMenus.push(currentMenuIteration);\r\n                }\r\n            }\r\n            return filteredMenus;\r\n        }\r\n    },\r\n    methods: {\r\n        selectMenu: function (menu: any) {\r\n            this.$router.push(menu.route)\r\n\r\n            this.menus.forEach(m => {\r\n                m.selected = false;\r\n            })\r\n            menu.selected = true\r\n        },\r\n        isSelected: function (menuText: string) {\r\n            return this.selectedMenu && this.selectedMenu.text == menuText;\r\n        }\r\n    },\r\n    mounted: function () {\r\n        if (!window.Affinity || (window.Affinity && !window.Affinity.user)) {\r\n            console.log('no affinity requesting authInfo')\r\n            // call request to get user\r\n            Remote.AuthGetInfo().then(res => {\r\n                this.user = res\r\n            });\r\n        } else {\r\n            console.log('loading user from Affinity lib')\r\n            this.user = window.Affinity.user;\r\n\r\n            // todo: move this logic to router\r\n            let selected = this.menus.find(m => m.route === this.$route.path)\r\n\r\n            if (!selected) {\r\n                let defaultMenu = this.menus.find((menu => {\r\n                    return menu.default === true;\r\n                }))\r\n                this.selectMenu(defaultMenu)\r\n            }\r\n        }\r\n    },\r\n})\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.nav-box {\r\n    border-bottom: 1px solid #44b5ec;\r\n    background-color: #2d72b3;\r\n    color: white;\r\n    list-style-type: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.selected {\r\n    background-color: #448ccf;\r\n}\r\n\r\n.sch-nav {\r\n    display: flex;\r\n    padding: 5px 0 5px 8px;\r\n\r\n    @media only screen and (max-width: 768px) {\r\n        display: block;\r\n\r\n\r\n    }\r\n}\r\n\r\n.sch-nav-options {\r\n    display: flex;\r\n    @media only screen and (max-width: 600px) {\r\n        display: block;\r\n        width: 100%;\r\n\r\n    }\r\n}\r\n\r\n.sch-nav-help {\r\n    display: flex;\r\n    border-radius: 50%;\r\n    width: 30px;\r\n    height: 30px;\r\n    text-decoration: none;\r\n    font-size: 25px;\r\n    @media only screen and (max-width: 600px) {\r\n        display: none;\r\n    }\r\n}\r\n</style>","import Vue from \"vue\";\r\n// import utils from \"../utils\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport Dialog from '@/components/dialog'\r\nimport {RemoteFlexScheDetail} from \"@/remote/flexSchedulesRequest\";\r\nimport {EMPPosition} from \"@/store/lookupModule\";\r\n\r\nlet ISDEV = false;\r\n//\r\nif (process.env.VUE_APP_AXIOSHOST) {\r\n    ISDEV = true;\r\n    axios.defaults.baseURL = process.env.VUE_APP_AXIOSHOST\r\n}\r\n//\r\n\r\naxios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\r\n\r\naxios.interceptors.response.use(resp => {\r\n    return resp;\r\n}, (err) => {\r\n    if (err && err.response && err.response.status == 401) {\r\n        location.reload();\r\n    }\r\n    return Promise.reject(err);\r\n});\r\n\r\nlet EmployeeWorkSchedule = function (data: any) {\r\n    return axios.post('EmployeeWorkSchedule', data).then(res => {\r\n        if (typeof res.data === 'string') {\r\n            return JSON.parse(res.data)\r\n        }\r\n\r\n        return res.data\r\n    })\r\n}\r\n\r\nlet AuthGetInfo = function () {\r\n    return axios.post('Auth/GetInfo').then(res => {\r\n    // return axios.post('http://localhost:3000/Auth/GetInfo').then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nif (ISDEV) {\r\n    // for dev with dummy data\r\n    EmployeeWorkSchedule = function (data) {\r\n        console.log('data', data)\r\n        return axios.get('EmployeeWorkSchedule', data).then(res => {\r\n            if (typeof res.data === 'string') {\r\n                return JSON.parse(res.data)\r\n            }\r\n\r\n            return res.data\r\n        })\r\n    }\r\n\r\n    AuthGetInfo = function () {\r\n        return axios.get('Auth/GetInfo').then(res => {\r\n            return res.data\r\n        })\r\n    }\r\n}\r\n\r\nfunction StandardSchedules() {\r\n    return axios.get('StandardSchedules').then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction ShiftTypes() {\r\n    return axios.get('ShiftTypes').then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction ScheduleDetail(id: number) {\r\n    return axios.get(`ScheduleDetail/${id}`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\n\r\n/*\r\ndata : {\r\ndays: [\r\n        {\r\n            DayNumber: 0\r\n            FinishTime: \"01:23\"\r\n            Hours: 2\r\n            ShiftId: null\r\n            StartTime: \"12:00\"\r\n        }\r\n      ]\r\nDescription: \"123123\"\r\nId: -1\r\nName: \"213\"\r\nNoOfWeeks: \"1\"\r\nStartDate: \"31/Jul/20\"\r\n}\r\n */\r\n\r\nfunction PostSchedule(data: any) {\r\n    return axios.post('PostSchedule', data).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction DeleteSchedule(id: number) {\r\n    return axios.get(`DeleteSchedule/${id}`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction AllocateSchedule(data: any) {\r\n    return axios.post('AllocateSchedule', data).then(res => {\r\n        if (res.data.Messages && res.data.Messages.length >= 1) {\r\n            throw new Error(res.data.Messages[0].Message)\r\n        }\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction RemoveEmployeeWorkSchedule(id: number, employeeNo: number) {\r\n    return axios.get(`RemoveEmployeeWorkSchedule/${employeeNo}/${id}`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\n/* Data: {  Id, DateFrom, DateTo, Comment  } */\r\nfunction UpdateEmpSchedRequest(data: any, employeeNo: number) {\r\n    return axios.post(`UpdateEmployeeWorkSchedule/${employeeNo}`, data).then(res => {\r\n        if (res.data.Messages && res.data.Messages.length >= 1) {\r\n            throw new Error(res.data.Messages[0].Message)\r\n        }\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction EmployeesList() {\r\n    return axios.get(`EmployeeOptions`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction EmpWorkScheds(param: any) {\r\n    return axios.get(`EmployeeWorkSchedules/${param}`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction EmpSchedDetailRequest(param: any) {\r\n    return axios.get(`EmployeeWorkScheduleDetail/${param}`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction GetFlexScheduleDetail(id: number) {\r\n    return axios.get(`FlexScheduleDetail/${id}`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction GetFlexSchedules(params: any): Promise<RemoteFlexScheDetail[]> {\r\n    return axios.get(`FlexSchedules`, {\r\n        params: params\r\n    }).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction CreateFlexSchedule(data: any) {\r\n    return axios.post(`CreateFlexSchedule/`, data).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction UpdateFlexSchedule(id: number, data: any) {\r\n    return axios.put(`UpdateFlexSchedule/${id}`, data).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\n// CommonName\r\n// EmployeeNo\r\n// StdHoursPerWeek\r\n// PositionCode\r\n\r\nfunction GetManagedEmployees(id: number) {\r\n    return axios.get(`GetManagedEmployees/${id}?fields=EmployeeNo,CommonName,StdHoursPerWeek,PositionCode`).then(res => {\r\n        if (typeof res.data === \"string\") {\r\n            return JSON.parse(res.data)\r\n        }\r\n        return res.data\r\n    })\r\n}\r\n\r\n\r\nfunction GetPosition(employeeNo: number): Promise<EMPPosition[]> {\r\n    return axios.get(`GetPositions/${employeeNo}`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\nfunction GetCostelements(): Promise<any> {\r\n    return axios.get(`GetCostElements`).then(res => {\r\n        return res.data\r\n    })\r\n}\r\n\r\n\r\nexport default {\r\n    EmployeeWorkSchedule,\r\n    AuthGetInfo,\r\n    StandardSchedules,\r\n    ShiftTypes,\r\n    ScheduleDetail,\r\n    PostSchedule,\r\n    DeleteSchedule,\r\n    AllocateSchedule,\r\n    RemoveEmployeeWorkSchedule,\r\n    UpdateEmpSchedRequest,\r\n    EmployeesList,\r\n    EmpWorkScheds,\r\n    EmpSchedDetailRequest,\r\n    GetFlexScheduleDetail,\r\n    GetFlexSchedules,\r\n    CreateFlexSchedule,\r\n    UpdateFlexSchedule,\r\n    GetManagedEmployees,\r\n    GetPosition,\r\n    GetCostelements\r\n}\r\n\r\n","\r\nimport {defineComponent} from \"vue\";\r\nimport Remote from \"@/remote/scheduleRequest\"\r\n\r\n\r\ndeclare global {\r\n    interface Window {\r\n        Affinity: any;\r\n    }\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'scheduleNavigation',\r\n    data() {\r\n        return {\r\n            user: <any>null,\r\n            menus: [\r\n                {\r\n                    text: 'Work Schedule',\r\n                    display: 'My Schedules',\r\n                    route: \"/my-schedules\",\r\n                    selected: false,\r\n                    default: true\r\n                },\r\n                {\r\n                    text: 'Flex Schedule',\r\n                    display: 'Flex Schedule',\r\n                    route: \"/flex-schedule\",\r\n                    selected: false,\r\n                    default: false,\r\n                },\r\n                {\r\n                    text: 'Schedule Management',\r\n                    display: 'Team Schedules',\r\n                    route: \"/team-schedules\",\r\n                    selected: false,\r\n                    default: false,\r\n                },\r\n                {\r\n                    text: 'Employee Allocation',\r\n                    display: 'Employee Allocations',\r\n                    route: \"/employee-allocations\",\r\n                    selected: false,\r\n                    default: false\r\n                }\r\n            ],\r\n            selectedMenu: <any>null\r\n        }\r\n    },\r\n    computed: {\r\n        userFullName() {\r\n            // bug: can not use this.user in return, throw missing typing error.\r\n            let user: any = this.user;\r\n            return user ? `${user.FirstName} ${user.LastName}` : '';\r\n        },\r\n        authorizedMenus() {\r\n            var filteredMenus = [];\r\n            var accessibleMenus = this.user.AccessibleMenus;\r\n            accessibleMenus.push('Flex Schedule')\r\n\r\n            // bug: can not use this.user in return, throw missing typing error.\r\n            let menus: any[] = this.menus;\r\n            for (var i = 0; i < this.menus.length; i++) {\r\n                var currentMenuIteration = menus[i];\r\n                if (accessibleMenus.indexOf(currentMenuIteration.text) != -1) {\r\n                    filteredMenus.push(currentMenuIteration);\r\n                }\r\n            }\r\n            return filteredMenus;\r\n        }\r\n    },\r\n    methods: {\r\n        selectMenu: function (menu: any) {\r\n            this.$router.push(menu.route)\r\n\r\n            this.menus.forEach(m => {\r\n                m.selected = false;\r\n            })\r\n            menu.selected = true\r\n        },\r\n        isSelected: function (menuText: string) {\r\n            return this.selectedMenu && this.selectedMenu.text == menuText;\r\n        }\r\n    },\r\n    mounted: function () {\r\n        if (!window.Affinity || (window.Affinity && !window.Affinity.user)) {\r\n            console.log('no affinity requesting authInfo')\r\n            // call request to get user\r\n            Remote.AuthGetInfo().then(res => {\r\n                this.user = res\r\n            });\r\n        } else {\r\n            console.log('loading user from Affinity lib')\r\n            this.user = window.Affinity.user;\r\n\r\n            // todo: move this logic to router\r\n            let selected = this.menus.find(m => m.route === this.$route.path)\r\n\r\n            if (!selected) {\r\n                let defaultMenu = this.menus.find((menu => {\r\n                    return menu.default === true;\r\n                }))\r\n                this.selectMenu(defaultMenu)\r\n            }\r\n        }\r\n    },\r\n})\r\n","import { render } from \"./SchedulesNavigation.vue?vue&type=template&id=722227b2&scoped=true\"\nimport script from \"./SchedulesNavigation.vue?vue&type=script&lang=ts\"\nexport * from \"./SchedulesNavigation.vue?vue&type=script&lang=ts\"\n\nimport \"./SchedulesNavigation.vue?vue&type=style&index=0&id=722227b2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-722227b2\"\n\nexport default script","<template>\r\n    <!--    <div v-model=\"dialog\"  content-class=\"dialog-width\">-->\r\n    <modal ref=\"alertModalRef\" :noBox=\"true\">\r\n        <template v-slot:body>\r\n            <div class=\"promt-box\">\r\n                <div>\r\n                    <div class=\"mr-2 d-inline\" v-if=\"showLoader\">\r\n                        <img class=\"loader-icon\"\r\n                             src=\"data:image/gif;base64,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\">\r\n                    </div>\r\n\r\n                    <div class=\"content \" v-html=\"message\"></div>\r\n                </div>\r\n\r\n                <div class=\"promptButtons mt-4\" v-if=\"showButtons\">\r\n                    <button type=\"button\" class=\"orange white--text small\" v-bind:class=\"{'mr-4' : showCancel}\"  tabindex=\"9999998\"\r\n                            @click=\"onOk\">\r\n                        <!--                    <v-icon small>icon-tick</v-icon>-->\r\n                        <span class=\"label text-capitalize\">{{ confirmButtonText }}</span>\r\n                    </button>\r\n                    <span class=\"\">&nbsp;</span>\r\n                    <button class=\"grey white--text small\" v-if=\"showCancel\" small tabindex=\"9999999\"\r\n                            @click=\"onCancel\">\r\n                        <!--                    <v-icon class=\"mr-1\" small>icon-cancel</v-icon>-->\r\n                        <span class=\"label text-capitalize\">{{ cancelButtonText }}</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </template>\r\n\r\n        <!--        <div v-if=\"showLoader\">-->\r\n        <!--            <img src=\"data:image/gif;base64,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\">-->\r\n        <!--            <div class=\"content\" v-html=\"message\" ></div>-->\r\n        <!--        </div>-->\r\n    </modal>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {emitter} from '../main'\r\nimport Modal from \"@/components/common/Modal.vue\";\r\nimport {defineComponent} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"alert\",\r\n    components: {\r\n      Modal\r\n    },\r\n    data() {\r\n        return {\r\n            dialog: false,\r\n            message: 'some message ',\r\n            showLoader: false,\r\n            showButtons: false,\r\n            showCancel: false,\r\n            confirmButtonText: 'Ok',\r\n            cancelButtonText: 'Cancel',\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n        // console.log('mounted in alert')\r\n        emitter.on('alert', (message) => {\r\n            console.log('emitter alert')\r\n            this.dialog = true;\r\n            this.message = message;\r\n            this.showLoader = false;\r\n            this.showButtons = true;\r\n        })\r\n\r\n        emitter.on('dialog--loading--request', (message) => {\r\n            console.log('emitter loading request')\r\n            this.dialog = true;\r\n            this.message = message;\r\n            this.showCancel = false;\r\n            this.showButtons = false;\r\n            this.showLoader = true;\r\n        })\r\n\r\n        emitter.on('clearDialog', () => {\r\n            console.log('emitter clear dialog')\r\n            this.clearDialog();\r\n            this.dialog = false;\r\n        });\r\n        emitter.on('dialog', (inputObj) => {\r\n            console.log('emitter on dialog')\r\n            this.toggleShow();\r\n            this.dialog = !!inputObj;\r\n            this.message = inputObj.message;\r\n            this.showCancel = inputObj.showCancel;\r\n            this.showButtons = inputObj.showButtons;\r\n            this.showLoader = inputObj.showLoader;\r\n            this.confirmButtonText = inputObj.confirmButtonText ? inputObj.confirmButtonText : 'Ok'\r\n            this.cancelButtonText = inputObj.cancelButtonText ? inputObj.cancelButtonText : 'Cancel'\r\n\r\n            if (inputObj.onOk) {\r\n                this.onOk = () => {\r\n                    inputObj.onOk();\r\n                    this.dialog = false;\r\n                    this.toggleShow()\r\n                }\r\n            }\r\n\r\n            if (inputObj.onCancel) {\r\n                this.onCancel = () => {\r\n                    inputObj.onCancel();\r\n                    this.dialog = false;\r\n                    this.toggleShow()\r\n                }\r\n            }\r\n\r\n        })\r\n    },\r\n    methods: {\r\n        // onOk() {\r\n        //     this.dialog = false;\r\n        // },\r\n        // onCancel() {\r\n        //     this.dialog = false;\r\n        // },\r\n        clearDialog() {\r\n            (this.$refs.alertModalRef as any).toggleShow(false);\r\n        },\r\n        toggleShow() {\r\n            (this.$refs.alertModalRef as any).toggleShow();\r\n        },\r\n        onOk() {\r\n            (this.$refs.alertModalRef as any).toggleShow();\r\n\r\n        },\r\n        onCancel() {\r\n            (this.$refs.alertModalRef as any).toggleShow();\r\n\r\n        },\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n\r\n::v-deep .dialog-width {\r\n    width: auto;\r\n    max-width: 800px;\r\n}\r\n\r\n.promt-box {\r\n    padding: 20px 60px;\r\n    font-size: 16px;\r\n    background: #333;\r\n    color: #fff;\r\n    text-align: center;\r\n    line-height: 1.2;\r\n    -webkit-border-radius: 10px;\r\n    -moz-border-radius: 10px;\r\n    border-radius: 10px;\r\n    -webkit-box-shadow: 0 3px 5px rgba(0, 0, 0, .5);\r\n    -moz-box-shadow: 0 3px 5px rgba(0, 0, 0, .5);\r\n    box-shadow: 0 3px 5px rgba(0, 0, 0, .5);\r\n    z-index: 10000000;\r\n}\r\n\r\n\r\n.content {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n}\r\n\r\n.loader-icon {\r\n    vertical-align: middle;\r\n}\r\n</style>","<template>\r\n    <transition name=\"modal\">\r\n        <!--    <div v-if=\"show\">-->\r\n        <div v-if=\"show\" class=\"modal-mask\">\r\n            <div class=\"modal-wrapper\">\r\n                <div class=\"modal-backdrop\" @click=\"clickWrapper\"></div>\r\n                <!--          <div class=\"modal-container\">-->\r\n                <div class=\"modal-box\" v-bind:style=\"getCustomPosition()\" v-bind:class=\"{'no-modal-box': noBox}\">\r\n                    <div class=\"modal-header\">\r\n                        <slot name=\"header\">\r\n                            <!--                default header-->\r\n                        </slot>\r\n                    </div>\r\n\r\n                    <div class=\"modal-body\">\r\n                        <slot name=\"body\">\r\n                            <!--                default body-->\r\n                        </slot>\r\n                    </div>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <slot name=\"footer\">\r\n                            <!--                default footer-->\r\n                            <!--                <button class=\"modal-default-button\" @click=\"$emit('close'); show=false\">-->\r\n                            <!--                  OK-->\r\n                            <!--                </button>-->\r\n                        </slot>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--    </div>-->\r\n    </transition>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"modal\",\r\n    props: {\r\n        customPosition: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        top: {\r\n            type: Number,\r\n        },\r\n        left: {\r\n            type: Number\r\n        },\r\n        noBox: {\r\n            type: Boolean\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            show: false\r\n        }\r\n    },\r\n    methods: {\r\n        toggleShow(isShow?: boolean) {\r\n            console.log('toggle clicked')\r\n            console.log('top', this.top)\r\n            if (isShow === true || isShow === false) {\r\n                this.show = isShow\r\n            } else {\r\n                this.show = !this.show\r\n            }\r\n\r\n        },\r\n        clickWrapper() {\r\n            this.show = false;\r\n            this.$emit('cancel')\r\n        },\r\n        getCustomPosition() {\r\n            if (this.customPosition) {\r\n                // let customPosition = [`position: absolute;`, `top: ${this.top};`, `left: ${this.left};`]\r\n                let customPosition = {\r\n                    position: 'absolute',\r\n                    top: `${this.top}px`,\r\n                    left: `${this.left}px`}\r\n                return customPosition\r\n            } else {\r\n                return ''\r\n            }\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n@use '../../style/layouts';\r\n@use \"../../style/colors\";\r\n\r\n.modal-mask {\r\n    position: fixed;\r\n    z-index: 9998;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    /*background-color: rgba(0, 0, 0, 0.5);*/\r\n    display: table;\r\n    transition: opacity 0.3s ease;\r\n}\r\n\r\n.modal-backdrop {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal-wrapper {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    display: flex;\r\n    vertical-align: middle;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.modal-box {\r\n    background: white;\r\n    padding: 30px 40px;\r\n    max-width: 940px;\r\n    max-height: 80vh;\r\n    border-radius: 6px;\r\n    box-shadow: colors.$box-shadow-1;\r\n    //$box-shadow-1: 0px 5px 20px rgba(0, 55, 128, 0.2);\r\n\r\n    transition: all 0.3s ease;\r\n    z-index: 99999;\r\n\r\n    @media screen and (max-width: layouts.$md-screen) {\r\n        max-width: 800px;\r\n    }\r\n\r\n    @media screen and (max-width: layouts.$sm-screen) {\r\n        max-width: calc(100% - 40px);\r\n        margin: 0 20px;\r\n    }\r\n}\r\n\r\n.no-modal-box {\r\n    background: transparent;\r\n    box-shadow: none;\r\n}\r\n\r\n.modal-container {\r\n    position: absolute;\r\n    width: 940px;\r\n    top: 100px;\r\n    bottom: 60px;\r\n    left: calc(50% - 940px / 2);\r\n    margin: 0px auto;\r\n    padding: 30px 30px;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\r\n    transition: all 0.3s ease;\r\n    font-family: Helvetica, Arial, sans-serif;\r\n    overflow: auto;\r\n\r\n    @media screen and (max-width: layouts.$md-screen) {\r\n        width: 800px;\r\n        left: calc(50% - 800px / 2);\r\n\r\n    }\r\n\r\n    @media screen and (max-width: layouts.$sm-screen) {\r\n        width: auto;\r\n        left: 20px;\r\n        right: 20px;\r\n        top: 50px;\r\n        bottom: 50px;\r\n    }\r\n}\r\n\r\n.modal-header h3 {\r\n    margin-top: 0;\r\n    color: #42b983;\r\n}\r\n\r\n.modal-body {\r\n    display: flex;\r\n    justify-content: center;\r\n    max-height: calc(80vh - 160px);\r\n    overflow: auto;\r\n}\r\n\r\n.modal-footer {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n/*\r\n * The following styles are auto-applied to elements with\r\n * transition=\"modal\" when their visibility is toggled\r\n * by Vue.js.\r\n *\r\n * You can easily play with the modal transition by editing\r\n * these styles.\r\n */\r\n\r\n.modal-enter {\r\n    opacity: 0;\r\n}\r\n\r\n.modal-leave-active {\r\n    opacity: 0;\r\n}\r\n\r\n.modal-enter-active {\r\n    transition: all .3s ease-out;\r\n}\r\n\r\n.modal-leave-active {\r\n    transition: all .3s ease-out;\r\n}\r\n\r\n.modal-enter-from,\r\n.modal-leave-to {\r\n    -webkit-transform: scale(1.1);\r\n    transform: scale(1.1);\r\n    opacity: 0;\r\n}\r\n\r\n</style>","\r\nimport {defineComponent} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"modal\",\r\n    props: {\r\n        customPosition: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        top: {\r\n            type: Number,\r\n        },\r\n        left: {\r\n            type: Number\r\n        },\r\n        noBox: {\r\n            type: Boolean\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            show: false\r\n        }\r\n    },\r\n    methods: {\r\n        toggleShow(isShow?: boolean) {\r\n            console.log('toggle clicked')\r\n            console.log('top', this.top)\r\n            if (isShow === true || isShow === false) {\r\n                this.show = isShow\r\n            } else {\r\n                this.show = !this.show\r\n            }\r\n\r\n        },\r\n        clickWrapper() {\r\n            this.show = false;\r\n            this.$emit('cancel')\r\n        },\r\n        getCustomPosition() {\r\n            if (this.customPosition) {\r\n                // let customPosition = [`position: absolute;`, `top: ${this.top};`, `left: ${this.left};`]\r\n                let customPosition = {\r\n                    position: 'absolute',\r\n                    top: `${this.top}px`,\r\n                    left: `${this.left}px`}\r\n                return customPosition\r\n            } else {\r\n                return ''\r\n            }\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./Modal.vue?vue&type=template&id=370a3a58&scoped=true\"\nimport script from \"./Modal.vue?vue&type=script&lang=ts\"\nexport * from \"./Modal.vue?vue&type=script&lang=ts\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=370a3a58&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-370a3a58\"\n\nexport default script","\r\nimport {emitter} from '../main'\r\nimport Modal from \"@/components/common/Modal.vue\";\r\nimport {defineComponent} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"alert\",\r\n    components: {\r\n      Modal\r\n    },\r\n    data() {\r\n        return {\r\n            dialog: false,\r\n            message: 'some message ',\r\n            showLoader: false,\r\n            showButtons: false,\r\n            showCancel: false,\r\n            confirmButtonText: 'Ok',\r\n            cancelButtonText: 'Cancel',\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n        // console.log('mounted in alert')\r\n        emitter.on('alert', (message) => {\r\n            console.log('emitter alert')\r\n            this.dialog = true;\r\n            this.message = message;\r\n            this.showLoader = false;\r\n            this.showButtons = true;\r\n        })\r\n\r\n        emitter.on('dialog--loading--request', (message) => {\r\n            console.log('emitter loading request')\r\n            this.dialog = true;\r\n            this.message = message;\r\n            this.showCancel = false;\r\n            this.showButtons = false;\r\n            this.showLoader = true;\r\n        })\r\n\r\n        emitter.on('clearDialog', () => {\r\n            console.log('emitter clear dialog')\r\n            this.clearDialog();\r\n            this.dialog = false;\r\n        });\r\n        emitter.on('dialog', (inputObj) => {\r\n            console.log('emitter on dialog')\r\n            this.toggleShow();\r\n            this.dialog = !!inputObj;\r\n            this.message = inputObj.message;\r\n            this.showCancel = inputObj.showCancel;\r\n            this.showButtons = inputObj.showButtons;\r\n            this.showLoader = inputObj.showLoader;\r\n            this.confirmButtonText = inputObj.confirmButtonText ? inputObj.confirmButtonText : 'Ok'\r\n            this.cancelButtonText = inputObj.cancelButtonText ? inputObj.cancelButtonText : 'Cancel'\r\n\r\n            if (inputObj.onOk) {\r\n                this.onOk = () => {\r\n                    inputObj.onOk();\r\n                    this.dialog = false;\r\n                    this.toggleShow()\r\n                }\r\n            }\r\n\r\n            if (inputObj.onCancel) {\r\n                this.onCancel = () => {\r\n                    inputObj.onCancel();\r\n                    this.dialog = false;\r\n                    this.toggleShow()\r\n                }\r\n            }\r\n\r\n        })\r\n    },\r\n    methods: {\r\n        // onOk() {\r\n        //     this.dialog = false;\r\n        // },\r\n        // onCancel() {\r\n        //     this.dialog = false;\r\n        // },\r\n        clearDialog() {\r\n            (this.$refs.alertModalRef as any).toggleShow(false);\r\n        },\r\n        toggleShow() {\r\n            (this.$refs.alertModalRef as any).toggleShow();\r\n        },\r\n        onOk() {\r\n            (this.$refs.alertModalRef as any).toggleShow();\r\n\r\n        },\r\n        onCancel() {\r\n            (this.$refs.alertModalRef as any).toggleShow();\r\n\r\n        },\r\n    }\r\n})\r\n","import { render } from \"./alert.vue?vue&type=template&id=9b88c2bc&scoped=true\"\nimport script from \"./alert.vue?vue&type=script&lang=ts\"\nexport * from \"./alert.vue?vue&type=script&lang=ts\"\n\nimport \"./alert.vue?vue&type=style&index=0&id=9b88c2bc&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-9b88c2bc\"\n\nexport default script","<script>\r\nimport Vue from \"vue\";\r\nimport Header from \"./header.vue\";\r\nimport NavBar from \"./navbar.vue\";\r\nimport Footer from \"./footer.vue\";\r\nimport axios from \"axios\";\r\nimport {nextTick} from \"@vue/runtime-core\";\r\n\r\nimport './style/dashboard.default.less'\r\nimport './style/dashboard.foot.less'\r\nimport './style/dashboard.head.less'\r\nimport './style/dashboard.nav.less'\r\nimport './style/dashboard.nav.tiles.less'\r\n\r\nexport default {\r\n  props: {\r\n    version: String,\r\n    enableByConfig: Boolean,\r\n    configUrl: String,\r\n    infoUrl: String,\r\n    logoutUrl: String,\r\n    legacyAuth: Boolean\r\n  },\r\n  data() {\r\n    return {\r\n      user: null,\r\n      error: null,\r\n      apps: [\r\n        {\r\n          Enabled: true,\r\n          Name: \"Dashboard\",\r\n          Url: \"\",\r\n          Icon: \"gauge\"\r\n        }\r\n      ],\r\n      loading: true,\r\n      enabled: true,\r\n      showNav: false,\r\n      hideNav: false\r\n    };\r\n  },\r\n  computed: {\r\n    userFullName() {\r\n      return this.user ? `${this.user.FirstName} ${this.user.LastName}` : \"\";\r\n    },\r\n    logoUrl() {\r\n      let url = this.apps[0].Url;\r\n      return url && this.user\r\n        ? `${url}/Root/Logo?company=${this.user.CompanyNo}&employee=${this.user.EmployeeNo}`\r\n        : \"\";\r\n    }\r\n  },\r\n  methods: {\r\n    authorize(cb) {\r\n      console.log('dashboard authorize')\r\n\r\n      let remoteConfig = {\r\n        method: process.env.VUE_APP_AXIOSHOST ? 'get' : 'post',\r\n        url: this.legacyAuth ? Affinity.authroot + \"/GetUser\" : this.infoUrl\r\n        // url: 'http://localhost:3000/Auth/GetInfo'\r\n      }\r\n\r\n      axios(remoteConfig)\r\n      // axios.get(url)\r\n        .then(resp => {\r\n          let user = (Affinity.user = this.legacyAuth\r\n            ? {\r\n                FirstName: resp.data.Firstname,\r\n                LastName: resp.data.Lastname,\r\n                PayPoint: resp.data.PayPoint,\r\n                CompanyNo: resp.data.CompanyNumber,\r\n                EmployeeNo: resp.data.EmployeeNumber\r\n              }\r\n            : resp.data);\r\n\r\n          this.enabled = !this.enableByConfig || user.UseDashboard;\r\n\r\n          if (cb) cb();\r\n        })\r\n        .catch((err) => {\r\n          console.log('err', err)\r\n          this.error = \"Unable to load the page.\";\r\n          this.loading = false;\r\n        });\r\n    },\r\n    getConfig() {\r\n      let remoteConfig = {\r\n        method: process.env.VUE_APP_AXIOSHOST ? 'get' : 'post',\r\n        url: this.configUrl\r\n      }\r\n\r\n      axios(remoteConfig)\r\n        // .get(this.configUrl)\r\n        .then(resp => {\r\n          let config = resp.data;\r\n\r\n          this.user = Affinity.user;\r\n\r\n          this.apps[0].Url = config.Url;\r\n\r\n          if (config.Apps) {\r\n            config.Apps.forEach(app => {\r\n              this.apps.push(app.Link);\r\n            });\r\n          }\r\n\r\n          if (config.Forms && this.user.EmployeeNo <= 5000000) {\r\n            config.Forms.forEach(form => {\r\n              if (form.Enabled) this.apps.push(form);\r\n            });\r\n          }\r\n\r\n          this.loading = false;\r\n\r\n          nextTick(() => {\r\n            this.$emit(\"ready\", config);\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.error = \"Unable to load the page.\";\r\n        })\r\n        .then(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    reloadPage() {\r\n      window.location.reload();\r\n    },\r\n    onNavToggle(mobile) {\r\n      if (mobile) this.showNav = !this.showNav;\r\n      else this.hideNav = !this.hideNav;\r\n    },\r\n    onNavHide() {\r\n      this.showNav = false;\r\n    }\r\n  },\r\n  created() {\r\n    console.log('dashboard created')\r\n    this.authorize(() => {\r\n      if (this.enabled) {\r\n        this.getConfig();\r\n      } else {\r\n        this.loading = false;\r\n      }\r\n    });\r\n  },\r\n  components: {\r\n    \"dash-header\": Header,\r\n    navbar: NavBar,\r\n    \"dash-footer\": Footer\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"{ dashboard: enabled, 'show-nav': showNav, 'hide-nav': hideNav }\">\r\n    <div v-if=\"loading\" class=\"UIPromtBoxBG\">\r\n      <div class=\"UIPromtBox loader\">\r\n        <span class=\"img-loader\"></span>\r\n        <span class=\"content aligncenter\">Please wait</span>\r\n      </div>\r\n    </div>\r\n    <div v-else-if=\"error\" class=\"UIPromtBoxBG\">\r\n      <div class=\"UIPromtBox error-text\">\r\n        <span>{{ error }}</span>\r\n        <br />\r\n        <a href=\"javascript:void(0)\" @click=\"reloadPage\">Please retry</a>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"pagewrapper\">\r\n      <dash-header :title=\"userFullName\" :logoUrl=\"logoUrl\" @navtoggle=\"onNavToggle\"></dash-header>\r\n      <navbar :apps=\"apps\" :logout-url=\"logoutUrl\" @hide=\"onNavHide\"></navbar>\r\n      <div class=\"pagecontent\">\r\n        <div class=\"contentwrapper\">\r\n          <slot></slot>\r\n        </div>\r\n      </div>\r\n      <dash-footer :version=\"version\"></dash-footer>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.dashboard {\r\n  height: 100%;\r\n\r\n  .UIPromtBox.error-text {\r\n    a {\r\n      color: #90caf9;\r\n      margin-top: 5px;\r\n      display: inline-block;\r\n\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script>\r\n    export default {\r\n        props: {\r\n            title: String,\r\n            logoUrl: String\r\n        }\r\n    }\r\n</script>\r\n\r\n<template>\r\n    <div class=\"dash-header\">\r\n        <div id=\"mobile-nav-toggle\" class=\"dash-menu-toggle\" @mousedown.stop=\"\">\r\n            <span class=\"icon-list\" @click=\"$emit('navtoggle', true)\"></span>\r\n        </div>\r\n        <div id=\"desktop-nav-toggle\" class=\"dash-menu-toggle\">\r\n            <span class=\"icon-list\" @click=\"$emit('navtoggle', false)\"></span>\r\n        </div>\r\n        <div class=\"dash-header-title displayname\">{{ title }}</div>\r\n        <div class=\"dash-header-logo\">\r\n            <img :src=\"logoUrl\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n","import { render } from \"./header.vue?vue&type=template&id=3432a2e3\"\nimport script from \"./header.vue?vue&type=script&lang=js\"\nexport * from \"./header.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<script>\r\n    import NavItem from './nav-item.vue';\r\n    import Scrollable from '../scrollable.vue';\r\n\r\n    export default {\r\n        props: {\r\n            apps: Array,\r\n            logoutUrl: String\r\n        },\r\n        data() {\r\n            return {\r\n                mousedown: false\r\n            }\r\n        },\r\n        computed: {\r\n            enabledApps() {\r\n                if (this.apps instanceof Array) {\r\n                    let apps = [];\r\n\r\n                    this.apps.forEach((app) => {\r\n                        if (app && app.Enabled) apps.push(app);\r\n                    })\r\n\r\n                    return apps;\r\n                }\r\n\r\n                return [];\r\n            },\r\n            signoutUrl() {\r\n                if (this.logoutUrl) return this.logoutUrl;\r\n\r\n                let url = this.apps[0].Url;\r\n\r\n                for (let i = 1; i < this.apps.length; i++) {\r\n                    let app = this.apps[i];\r\n\r\n                    if (app && app.Name == Affinity.app) {\r\n                        return url + '/Root/ExternalLogout?redirectUrl=' + encodeURI(app.Url);\r\n                    }\r\n                }\r\n\r\n                return '/Auth/SignOut';\r\n            }\r\n        },\r\n        methods: {\r\n            onMouseDown() {\r\n                this.mousedown = true;\r\n            },\r\n            onBodyMouseDown(evt) {\r\n                if (!this.mousedown) this.$emit('hide');\r\n                this.mousedown = false;\r\n            }\r\n        },\r\n        created() {\r\n            document.body.addEventListener('mousedown', this.onBodyMouseDown);\r\n        },\r\n        beforeDestroy() {\r\n            document.body.removeEventListener('mousedown', this.onBodyMouseDown);\r\n        },\r\n        components: {\r\n            NavItem,\r\n            Scrollable\r\n        }\r\n    }\r\n</script>\r\n\r\n<template>\r\n    <div id=\"dash-nav\" class=\"dash-nav accordion\" @mousedown=\"onMouseDown\">\r\n        <div class=\"top\">\r\n            <scrollable :scroll-x=\"false\">\r\n                <nav-item v-for=\"(app, index) of enabledApps\" :data=\"app\" :key=\"index\"></nav-item>\r\n            </scrollable>\r\n        </div>\r\n        <div class=\"bottom\">\r\n            <div class=\"divider\"></div>\r\n            <a class=\"dash-nav-item\" :href=\"signoutUrl\">\r\n               <span class=\"dash-nav-item-inner\">\r\n                   <span class=\"icon icon-logout\"></span>\r\n                   <span class=\"label\">Logout</span>\r\n               </span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</template>\r\n","<script>\r\nimport Vue from 'vue';\r\nimport URI from 'urijs';\r\n// import TweenMax from 'TweenMax';\r\nimport gsap from 'gsap';\r\nimport {nextTick} from \"@vue/runtime-core\";\r\n\r\n    export default {\r\n        name: 'nav-item',\r\n        props: {\r\n            data: {\r\n                type: Object,\r\n                default() {\r\n                    return {};\r\n                }\r\n            },\r\n            host: String,\r\n            isOwned: Boolean\r\n        },\r\n        data() {\r\n            return {\r\n                expanded: false,\r\n                expanding: false\r\n            }\r\n        },\r\n        computed: {\r\n            target() {\r\n                return this.data.External ? this.data.Name || '_blank' : '_self';\r\n            },\r\n            selected() {\r\n              var path = new URI(this.url).path().toLowerCase();\r\n              return (!this.isOwned && Affinity.app == this.data.Name)\r\n                || (path !== '/' && path === window.location.pathname.toLowerCase()) \r\n                || (path === '/cleverforms/inbox' && window.location.pathname.toLowerCase() === '/inbox') \r\n                || (path === '/cleverforms/template' && window.location.pathname.toLowerCase() === '/template') \r\n                || (path === '/cleverforms/admin' && window.location.pathname.toLowerCase() === '/admin');\r\n            },\r\n            hasMenu() {\r\n                return this.data.Menu && this.data.Menu.length > 0;\r\n            },\r\n            url() {\r\n                return this.hasMenu ? 'javascript:void(0);' : this.data.Url;\r\n            }\r\n        },\r\n        methods: {\r\n            toggleMenu() {\r\n                if (!this.hasMenu) return;\r\n\r\n                this.expanding = !this.expanded;\r\n\r\n                if (this.expanding) {\r\n                    this.expanded = true;\r\n                    nextTick(() => {\r\n                        gsap.from(this.$refs.menu, {\r\n                            duration: 0.25,\r\n                            height: 0\r\n                        });\r\n                    })\r\n                }\r\n                else gsap.to(this.$refs.menu, {\r\n                    duration: 0.25,\r\n                    height: 0,\r\n                    onComplete: () => {\r\n                        this.expanded = false;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n            this.expanded = this.selected && this.hasMenu;\r\n            this.expanding = this.expanded;\r\n        }\r\n    }\r\n</script>\r\n\r\n<template>\r\n    <a class=\"dash-nav-item\" :href=\"url\" :target=\"target\" :class=\"{ selected: selected, 'has-sub-nav': hasMenu, expanded: !expanding }\">\r\n       <div class=\"dash-nav-item-inner\" @click=\"toggleMenu\">\r\n           <span class=\"sub-nav-icon icon-arrow-line-small-up\"></span>\r\n           <span :class=\"'icon icon-' + data.Icon\"></span>\r\n           <span class=\"label\">{{ data.Text || data.Name }}</span>\r\n       </div>\r\n       <div ref=\"menu\" class=\"sub-nav\" v-if=\"hasMenu && expanded\">\r\n           <nav-item v-for=\"(subItem, index) in data.Menu\" :data=\"subItem\" :is-owned=\"true\" :key=\"index\"></nav-item>\r\n       </div>\r\n    </a>\r\n</template>\r\n","import { render } from \"./nav-item.vue?vue&type=template&id=fb549ec8\"\nimport script from \"./nav-item.vue?vue&type=script&lang=js\"\nexport * from \"./nav-item.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<script>\r\nimport Ps from 'perfect-scrollbar';\r\nimport erd from 'element-resize-detector';\r\nimport 'perfect-scrollbar/css/perfect-scrollbar.css'\r\n\r\nexport default {\r\n    props: {\r\n        scrollX: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        scrollY: {\r\n            type: Boolean,\r\n            default: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            ps: null,\r\n            resizeDetector: erd({\r\n                strategy: \"scroll\"\r\n            })\r\n        }\r\n    },\r\n    methods: {\r\n        onResize() {\r\n            if (this.ps) {\r\n                this.ps.update(this.$refs.container);\r\n            }\r\n\r\n        }\r\n    },\r\n    mounted() {\r\n        this.ps = new Ps(this.$refs.container, {\r\n            suppressScrollX: !this.scrollX,\r\n            suppressScrollY: !this.scrollY\r\n        });\r\n\r\n        // Ps.initialize(this.$refs.container, {\r\n        //     suppressScrollX: !this.scrollX,\r\n        //     suppressScrollY: !this.scrollY\r\n        // });\r\n        this.resizeDetector.listenTo(this.$refs.container, this.onResize);\r\n\r\n        for (let i = 0; i < this.$slots.default.length; i++) {\r\n            let el = this.$slots.default[i].elm;\r\n            this.resizeDetector.listenTo(el, this.onResize);\r\n        }\r\n    },\r\n    beforeUnmount() {\r\n        this.resizeDetector.uninstall(this.$refs.container);\r\n\r\n        for (let i = 0; i < this.$slots.default.length; i++) {\r\n            let el = this.$slots.default[i].elm;\r\n            this.resizeDetector.uninstall(el);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div ref=\"container\" class=\"scrollable\">\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n","import { render } from \"./scrollable.vue?vue&type=template&id=670603d5\"\nimport script from \"./scrollable.vue?vue&type=script&lang=js\"\nexport * from \"./scrollable.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./navbar.vue?vue&type=template&id=1f06ab43\"\nimport script from \"./navbar.vue?vue&type=script&lang=js\"\nexport * from \"./navbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<script>\r\n    export default {\r\n        props: {\r\n            version: String\r\n        },\r\n        computed: {\r\n            year() {\r\n                return new Date().getFullYear();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<template>\r\n    <div class=\"dash-footer\">\r\n        <span v-if=\"version\" class=\"version\">Version {{ version }}</span>\r\n        &copy; Copyright {{ year }} Affinity - <a href=\"http://www.affinityteam.co.nz/\" target=\"affinity\">Affinity Employer Services</a>\r\n        <a href=\"http://www.affinityteam.co.nz/\" target=\"affinity\"><span class=\"dash-footer-logo\"></span></a>\r\n    </div>\r\n</template>\r\n","import { render } from \"./footer.vue?vue&type=template&id=fc2f964e\"\nimport script from \"./footer.vue?vue&type=script&lang=js\"\nexport * from \"./footer.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=3f9c1184\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3f9c1184&lang=scss\"\nscript.render = render\n\nexport default script","import Component from './index.vue';\r\nexport default Component;\r\n","import { render } from \"./App.vue?vue&type=template&id=8c1fab50\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=8c1fab50&lang=css\"\nscript.render = render\n\nexport default script","<style src=\"./mySchedules.scss\" lang=\"scss\"></style>\r\n<template>\r\n    <div class=\"mt-4 mt-md-10\">\r\n\r\n        <div class=\"my-schedules-search-filter d-flex flex-wrap align-center mb-sm-4\">\r\n            <div class=\" mr-2 mr-sm-6 date-searcher d-flex align-center\">\r\n                <div class=\"mr-2 d-inline caption bold date-searcher-label\">Date From</div>\r\n\r\n                <input :value=\"$filters.reformatDate(fromDate)\"\r\n                       class=\"d-inline-flex ma-0 pa-0 mr-2 caption\" style=\"max-width:120px\"\r\n                       @change=\"updateDateText($event, fromDate, 'fromDate')\"\r\n                       @click=\"updateDateTime($event, fromDate, 'fromDate')\"\r\n                       @click:clear=\"fromDate = null\">\r\n\r\n                <button class=\"light-blue small px-aff-10 ml-2 lh-0\"\r\n                        @click=\"updateDateTime($event, fromDate, 'fromDate')\"\r\n                        v-tooltip.top=\"{content: 'Open calendar'}\">\r\n                    <span class=\"icon-popup white xs-icon\"></span></button>\r\n\r\n                <button class=\"green small px-aff-10 lh-0\" @click=\"selectDateTodayForFromDate()\"\r\n                        v-tooltip.top=\"{content: 'Set to today'}\">\r\n                    <span class=\"icon-calendar white xs-icon\"></span></button>\r\n                <button class=\"orange small px-aff-10 lh-0\" @click=\"fromDate=null\"\r\n                        v-tooltip.top=\"{content: 'Clear'}\">\r\n                    <span class=\"icon-cross white\"></span></button>\r\n            </div>\r\n            <div class=\"date-searcher d-flex align-center ml-4\">\r\n                <div class=\"mr-2 d-inline caption bold date-searcher-label\">Date To</div>\r\n                <input :value=\"$filters.reformatDate(toDate)\"\r\n                       outlined dense hide-details\r\n                       class=\"d-inline-flex ma-0 pa-0 mr-2 caption\" style=\"max-width:120px\"\r\n                       @change=\"updateDateText($event, toDate, 'toDate')\"\r\n                       @click=\"updateDateTime($event, toDate, 'toDate')\"\r\n                       @click:clear=\"toDate = null\">\r\n                <button class=\"light-blue small px-aff-10 ml-2 lh-0\" tile\r\n                        @click=\"updateDateTime($event, toDate, 'toDate')\"\r\n                        v-tooltip.top=\"{content: 'Open calendar'}\">\r\n                    <span class=\"icon-popup white\" x-small></span></button>\r\n                <button class=\"green small px-aff-10 lh-0\" tile @click=\"selectDateTodayForToDate()\"\r\n                        v-tooltip.top=\"{content: 'Set to today'}\">\r\n                    <span class=\"icon-calendar white\" x-small></span></button>\r\n                <button class=\"orange small px-aff-10 lh-0\" tile @click=\"toDate = null\"\r\n                        v-tooltip.top=\"{content: 'Clear'}\">\r\n                    <span class=\"icon-cross white\" x-small></span></button>\r\n            </div>\r\n            <button class=\"light-blue white--text ml-4 ml-sm-4 mt-sm-0 px-aff-10 small\" @click=\"printWorkSchedule()\">\r\n                <span class=\"mr-1 icon-printer\" x-small></span><span class=\"text-capitalize\">Print</span>\r\n            </button>\r\n        </div>\r\n\r\n        <div style=\"margin-top: 10px;\">\r\n            <div class=\"schedules-data-small\" style=\"overflow:auto;\">\r\n                <div class=\"\" v-for=\"schedule in schedules\" style=\"width:100%;\">\r\n                    <div class=\"weekInfoDisplay py-2\">\r\n                        <div class=\"schedules-data-small-head\">\r\n                            <div>\r\n                                <h3>{{ schedule.weekName }}</h3>\r\n                            </div>\r\n                            <div>{{ schedule.weekDateRange }}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"dayScheduleDisplay\" v-for=\"(detail, index) in schedule.detailArr\">\r\n                        <div>\r\n                            {{ schedule.weekName }} - {{ getWeekDayByIndex(index) }}\r\n                        </div>\r\n\r\n                        <div v-if=\"displayScheduleDetail(detail)\">\r\n                            <div>{{ detail.shiftDescription }}</div>\r\n                            <div v-if=\"detail.startTime\">Start Time:{{ detail.startTime }}</div>\r\n                            <div v-if=\"detail.finishTime\">Finish Time:{{ detail.finishTime }}</div>\r\n                            <div v-if=\"detail.hours\">Hours:{{ detail.hours }}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div id=\"workSchedules\" class=\"schedules-data-medium section\" style=\"overflow:auto;\">\r\n                <div class=\"my-schedules aff-table\">\r\n                    <table>\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Week</th>\r\n                            <th>Mon</th>\r\n                            <th>Tue</th>\r\n                            <th>Wed</th>\r\n                            <th>Thu</th>\r\n                            <th>Fri</th>\r\n                            <th>Sat</th>\r\n                            <th>Sun</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr class=\"myschedules-tr\" v-for=\"schedule in schedules\">\r\n                                <td class=\"weekInfoRows\">\r\n                                    <div>{{ schedule.weekName }}</div>\r\n                                    <div>{{ schedule.weekDateRange }}</div>\r\n                                </td>\r\n\r\n                                <td class=\"myschedules-td\" v-for=\"detail in schedule.detailArr\">\r\n                                    <div v-if=\"displayScheduleDetail(detail)\">\r\n                                        <div>{{ detail.date }}</div>\r\n                                        <div class=\"bold-text\">{{ detail.shiftDescription }}</div>\r\n                                        <div v-if=\"detail.hours\">Hours:{{ detail.hours }}</div>\r\n                                        <div v-if=\"detail.startTime\">{{ detail.startTime }} -\r\n                                            {{ detail.finishTime }}\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <date-picker ref=\"DatePickerRef\"\r\n                     :top=\"dateModalTop\"\r\n                     :leftInput=\"dateModalLeft\"\r\n                     :date=\"datePickerTargetDay\"></date-picker>\r\n\r\n    </div>\r\n\r\n</template>\r\n<script lang=\"ts\">\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport moment, {Moment} from 'moment';\r\nimport Dialog from '@/components/dialog';\r\n\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\nimport {defineComponent} from \"vue\";\r\n\r\nenum DatePickerFormat {\r\n    fromDate = 'fromDate',\r\n    toDate = 'toDate'\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'mySchedules',\r\n    components: {\r\n        DatePicker,\r\n        // FlexSchedule\r\n    },\r\n    data() {\r\n        return {\r\n            title: 'Work Schedule',\r\n\r\n            schedules: [],\r\n            user: null,\r\n            datePickerFormat: \"dd/MM/yyyy\",\r\n\r\n            //\r\n            menu1: false,\r\n            menu2: false,\r\n            fromDate: <Moment | null> null,\r\n            toDate: <Moment | null> null,\r\n\r\n            //\r\n            //  date picker\r\n            dateModal: false,\r\n            // datePickerDate: \"\",\r\n            dateModalTop: 0,\r\n            dateModalLeft: 0,\r\n            datePickerTargetDay: moment(), // todo: clear moment and string mix\r\n            selectedDateType: DatePickerFormat.fromDate, // Start Finish\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n        var currentDate = new Date();\r\n        currentDate.setHours(0, 0, 0, 0);\r\n        var intDate = currentDate.getDate();\r\n        var currentWeekDay = currentDate.getDay();\r\n        var fromDate = new Date();\r\n        fromDate.setHours(0, 0, 0, 0);\r\n        var toDate = new Date();\r\n        toDate.setHours(0, 0, 0, 0);\r\n\r\n        var weekDayFactor = currentWeekDay == 0 ? 7 : currentWeekDay;\r\n        fromDate.setDate(intDate - (weekDayFactor - 1));\r\n        toDate.setDate(intDate + (7 - weekDayFactor));\r\n\r\n        this.fromDate = moment(fromDate);\r\n        this.toDate = moment(toDate);\r\n\r\n        this.loadSchedules(this.fromDate, this.toDate);\r\n    },\r\n\r\n    methods: {\r\n        updateDateText(event: any, target: any, type: string) {\r\n            if (type === 'toDate') {\r\n                this.toDate = moment(event.target.value, 'DD/MM/YYYY')\r\n            } else {\r\n                this.fromDate = moment(event.target.value, 'DD/MM/YYYY')\r\n            }\r\n            this.dateModal = false;\r\n\r\n            // todo: add check for is correct format\r\n        },\r\n\r\n        updateDateTime($event: any, d: any, type: DatePickerFormat) {\r\n            let element = $event.target.getClientRects()[0]\r\n            this.dateModalTop = element.bottom;\r\n            this.dateModalLeft = element.left;\r\n            this.selectedDateType = type;\r\n            if (type === 'toDate') {\r\n                this.datePickerTargetDay = this.toDate ? this.toDate : moment();\r\n\r\n            } else {\r\n                this.datePickerTargetDay = this.fromDate ? this.fromDate : moment();\r\n            }\r\n\r\n            this.dateModal = true;\r\n            this.openDatePicker()\r\n        },\r\n\r\n        printWorkSchedule: function () {\r\n            var args = \"left=5,top=5,resizable=yes,height=600,width=700,scrollbars=yes,status=1\";\r\n            var content = (document as any).getElementById(\"workSchedules\").innerHTML;\r\n            var mywindow: any = window.open('', 'Print', args);\r\n\r\n            mywindow.document.write('<html>');\r\n            mywindow.document.write('<head>');\r\n            mywindow.document.write('<style type=\"text/css\">table {border-collapse: collapse;}</style>');\r\n            mywindow.document.write('<style type=\"text/css\">table, th, td {border: 1px solid #cbcbcb;text-align: center;}</style>');\r\n            mywindow.document.write('</head>');\r\n            mywindow.document.write('<body>');\r\n            mywindow.document.write(content);\r\n            mywindow.document.write('</body></html>');\r\n\r\n            mywindow.document.close();\r\n            mywindow.focus()\r\n            mywindow.print();\r\n            mywindow.close();\r\n        },\r\n        loadSchedules: function (fromDate: any, toDate: any) {\r\n            if (fromDate !== null) {\r\n                fromDate.startOf('day')\r\n            }\r\n\r\n            if (toDate !== null && toDate !== '') {\r\n                toDate.startOf('day')\r\n            }\r\n\r\n            this.schedules = [];\r\n\r\n            if (toDate === null && fromDate === null) {\r\n                return;\r\n            }\r\n\r\n            if (toDate !== null && fromDate === null) {\r\n                fromDate = toDate;\r\n            }\r\n\r\n            if (toDate === null && fromDate !== null) {\r\n                toDate = fromDate;\r\n            }\r\n\r\n            var param = {\r\n                employeeNo: <number | null>null,\r\n                fromDate: null,\r\n                toDate: null\r\n            };\r\n\r\n            if (fromDate !== null && toDate !== null) {\r\n                var finalFromDate = fromDate.format(\"DD/MM/YYYY\");\r\n                var finalToDate = toDate.format(\"DD/MM/YYYY\");\r\n                param = {\r\n                    // employeeNo: window.Affinity.user.EmployeeNo,\r\n                    employeeNo: 1148,\r\n                    fromDate: finalFromDate,\r\n                    toDate: finalToDate\r\n                };\r\n            }\r\n\r\n            console.log('dialog loading EmployeeWorkSchedule')\r\n            Dialog.loading();\r\n            Remote.EmployeeWorkSchedule(param).then(response => {\r\n                let tempSchedules = response;\r\n                // server return json include key name 'mondayScheduleDetail' to 'sundayScheduleDetail'\r\n                // transform it into a array so we can v-for it in correct order.\r\n                for (let week of tempSchedules) {\r\n                    week.detailArr = [];\r\n                    week.detailArr.push(week.mondayScheduleDetail);\r\n                    week.detailArr.push(week.tuesdayScheduleDetail);\r\n                    week.detailArr.push(week.wednesdayScheduleDetail);\r\n                    week.detailArr.push(week.thursdayScheduleDetail);\r\n                    week.detailArr.push(week.fridayScheduleDetail);\r\n                    week.detailArr.push(week.saturdayScheduleDetail);\r\n                    week.detailArr.push(week.sundayScheduleDetail);\r\n\r\n                    for (let detail of week.detailArr) {\r\n                        // clear default value\r\n                        if (detail.finishTime === \"12:00 am\" && detail.startTime === '12:00 am'\r\n                            || detail.finishTime === \"12:00 AM\" && detail.startTime === '12:00 AM') {\r\n                            detail.finishTime = '';\r\n                            detail.startTime = '';\r\n                        }\r\n\r\n                        if (detail.hours === \"0\") {\r\n                            detail.hours = '';\r\n                            detail.shiftDescription = '';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.schedules = tempSchedules;\r\n                Dialog.clear();\r\n            }).finally(() => {\r\n                Dialog.clear();\r\n                console.log('dialog clear EmployeeWorkSchedule')\r\n            })\r\n        },\r\n\r\n        displayScheduleDetail(scheduleDetail: any) {\r\n            return scheduleDetail.hours !== 0 && scheduleDetail.hours !== null && scheduleDetail.hours !== \"\";\r\n        },\r\n\r\n        selectDateTodayForFromDate: function () {\r\n            this.fromDate = moment().startOf('day')\r\n            this.toDate = null;\r\n            this.loadSchedules(this.fromDate, this.toDate);\r\n        },\r\n\r\n        selectDateTodayForToDate: function () {\r\n            this.toDate = moment();\r\n            this.toDate.hour(11)\r\n            this.toDate.minute(59)\r\n            if (this.toDate < this.fromDate!) {\r\n                this.fromDate = null;\r\n            }\r\n            this.loadSchedules(this.fromDate, this.toDate);\r\n        },\r\n\r\n        getWeekDayByIndex: function (index: number) {\r\n            let weekdayArray = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\r\n            return weekdayArray[index];\r\n        },\r\n\r\n        async openDatePicker() {\r\n            let result = await ((this.$refs.DatePickerRef as any).toggleShow(this.datePickerTargetDay)) as Promise<any>;\r\n\r\n            if (this.selectedDateType === DatePickerFormat.toDate) {\r\n                this.toDate = result as any;\r\n            } else if (this.selectedDateType === DatePickerFormat.fromDate) {\r\n                this.fromDate = result as any;\r\n            }\r\n\r\n            this.loadSchedules(this.fromDate, this.toDate);\r\n\r\n            return result;\r\n        }\r\n    }\r\n})\r\n</script>\r\n","import {emitter} from \"../main\";\r\n\r\nconst DIALOG_QUEUE = []\r\n\r\nfunction testDialog() {\r\n    emitter.emit('dialog', {\r\n        message: 'here is a test dialog',\r\n        showButtons: true,\r\n        showCancel: true,\r\n        okColor: 'orange',\r\n    })\r\n}\r\n\r\nfunction checkChange(input: any) {\r\n    emitter.emit('dialog', {\r\n        dialog: true,\r\n        message: input.message,\r\n        showCancel: true,\r\n        showButtons: true,\r\n        showLoader: false,\r\n        confirmButtonText: input.confirmButtonText ? input.confirmButtonText : 'Yes',\r\n        cancelButtonText: input.cancelButtonText ? input.cancelButtonText : 'No',\r\n        onOk: () => {\r\n            input.onOk();\r\n        },\r\n        onCancel: () => {\r\n            if (input.onCancel) {\r\n                input.onCancel();\r\n            }\r\n        },\r\n    })\r\n}\r\n\r\nfunction alert(message: string) {\r\n    emitter.emit('dialog', {\r\n        dialog: true,\r\n        message: message,\r\n        showLoader: false,\r\n        showButtons: true,\r\n        onOk: () => {\r\n            // do nothing\r\n        },\r\n        onCancel: () => {\r\n            // do nothing\r\n        }\r\n    })\r\n\r\n}\r\n\r\nfunction loading(message?: string) {\r\n    emitter.emit('dialog', {\r\n        dialog: true,\r\n        message: message ? message : \"Loading\",\r\n        showCancel: false,\r\n        showButtons: false,\r\n        showLoader: true,\r\n    })\r\n    // DIALOG_QUEUE.push('message')\r\n}\r\n\r\nfunction clear() {\r\n    // DIALOG_QUEUE.pop();\r\n    // if (DIALOG_QUEUE.length === 0) {\r\n    emitter.emit('clearDialog')\r\n    // }\r\n}\r\n\r\nexport default {\r\n    testDialog,\r\n    loading,\r\n    clear,\r\n    checkChange,\r\n    alert\r\n}","<template>\r\n    <Modal ref=\"ModalRef\" :top=\"top\" :left=\"calculateLeft(left)\" :customPosition=\"!!(top || left)\" @cancel=\"cancelPickDate\">\r\n        <template v-slot:body>\r\n            <div class=\"v3-calendar\">\r\n                <section class=\"dp-heading\">\r\n                    <span class=\"icon-arrow-left\" @click=\"previousMonth\"></span>\r\n                    <div>{{ selectedDate.format('YYYY MMM') }}</div>\r\n                    <span class=\"icon-arrow-right\" @click=\"nextMonth\"></span>\r\n                </section>\r\n                <section class=\"db-content\">\r\n                    <div class=\"dp-week-of-day\">\r\n                        <span v-for=\"weekDay in weekOfDays\">{{ weekDay.shortName }}</span>\r\n                    </div>\r\n                    <div class=\"dp-week-days\">\r\n                        <span class=\"date-wrapper\" v-for=\"calendarDay in calendarArr\">\r\n                              <span class=\"date-number-cell\"\r\n                                    @click=\"selectDate(calendarDay)\"\r\n                                    v-bind:class=\"{'today-target': colorToday(calendarDay),\r\n                                     'last-month-day': calendarDay.lastMonth,\r\n                                     'next-month-day': calendarDay.nextMonth,\r\n                                     'selected': calendarDay.selected}\">{{ calendarDay.dateNumber }}\r\n                              </span>\r\n                        </span>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </template>\r\n    </Modal>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent, ref} from \"vue\";\r\nimport moment, {Moment} from \"moment\";\r\nimport Modal from \"@/components/common/Modal.vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"DatePicker\",\r\n    components: {\r\n        Modal\r\n    },\r\n    props: {\r\n        top: {\r\n            type: Number,\r\n        },\r\n        leftInput: {\r\n            type: Number\r\n        },\r\n        date: {\r\n            type: Object\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            left: 0,\r\n            currentYear: 2021,\r\n            datePickerPromise: <any>null,\r\n            resolve: <any>null,\r\n            reject: <any>null,\r\n            selectedDate: moment(),\r\n            weekOfDays: [{\r\n                fullName: \"Sunday\",\r\n                shortName: \"Sun\",\r\n                dayNumber: 0,\r\n            },\r\n                {\r\n                    fullName: \"Monday\",\r\n                    shortName: \"Mon\",\r\n                    dayNumber: 1,\r\n                },\r\n                {\r\n                    fullName: \"Tuesday\",\r\n                    shortName: \"Tue\",\r\n                    dayNumber: 2,\r\n                },\r\n                {\r\n                    fullName: \"Wednesday\",\r\n                    shortName: \"Wed\",\r\n                    dayNumber: 3,\r\n                },\r\n                {\r\n                    fullName: \"Thursday\",\r\n                    shortName: \"Thu\",\r\n                    dayNumber: 4,\r\n                },\r\n                {\r\n                    fullName: \"Friday\",\r\n                    shortName: \"Fri\",\r\n                    dayNumber: 5,\r\n                },\r\n                {\r\n                    fullName: \"Saturday\",\r\n                    shortName: \"Sat\",\r\n                    dayNumber: 6\r\n                }],\r\n        }\r\n    },\r\n\r\n    setup() {\r\n        const calendarArr = ref<any[]>([]);\r\n        const currentMonth = ref();\r\n        currentMonth.value = moment().month();\r\n        console.log(calendarArr)\r\n\r\n        return {\r\n            currentMonth,\r\n\r\n            calendarArr\r\n        }\r\n\r\n    },\r\n    mounted() {\r\n        console.log('mounted date picker')\r\n        this.calculateMonth();\r\n        console.log('top', this.top)\r\n        console.log('left', this.left)\r\n        this.datePickerPromise = new Promise((resolve, reject) => {\r\n          this.resolve = resolve;\r\n          this.reject = reject;\r\n        })\r\n    },\r\n    methods: {\r\n        cancelPickDate() {\r\n            this.reject();\r\n        },\r\n        calculateLeft() {\r\n            if (!this.leftInput) return '';\r\n            // this.left = <any>this.leftInput\r\n            if (window.innerWidth < this.leftInput + 370) {\r\n                this.left = window.innerWidth - 400;\r\n            } else {\r\n                this.left = this.leftInput\r\n            }\r\n            return this.left\r\n        },\r\n        nextMonth() {\r\n            this.currentMonth = this.currentMonth + 1\r\n            this.calculateMonth()\r\n        },\r\n\r\n        previousMonth() {\r\n            this.currentMonth = this.currentMonth - 1\r\n            this.calculateMonth()\r\n        },\r\n\r\n        colorToday(calendarDay: any) {\r\n            const today = moment();\r\n            // console.log('calendarDay', calendarDay)\r\n            return today.year() === calendarDay.year\r\n                && today.month() + 1 === calendarDay.month\r\n                && today.date() === calendarDay.dateNumber;\r\n        },\r\n\r\n        selectDateOnly(selectedDate: Moment) {\r\n            // this.selectedDate = calendarDay;\r\n            for (let day of this.calendarArr) {\r\n                // console.log('date', day)\r\n\r\n                if (day.year === selectedDate.year()\r\n                    && day.month === selectedDate.month() + 1\r\n                    && day.dateNumber === selectedDate.date()) {\r\n                    day.selected = true\r\n                } else {\r\n                    day.selected = false;\r\n                }\r\n\r\n            }\r\n            // calendarDay.selected = true;\r\n        },\r\n\r\n        selectDate(calendarDay: any) {\r\n            console.log('selected date', calendarDay)\r\n            this.selectedDate = this.selectedDate.date(calendarDay.dateNumber);\r\n            for (let day of this.calendarArr) {\r\n                day.selected = false;\r\n            }\r\n            calendarDay.selected = true;\r\n            // todo: fix method sequence. should toggle modal after send resolve\r\n            (this.$refs.ModalRef as any).toggleShow();\r\n            // this.$emit('selectDate', this.selectedDate.clone())\r\n            this.resolve(this.selectedDate.clone())\r\n        },\r\n\r\n        calculateMonth(date?: Moment) {\r\n            if(!date) {\r\n                date = moment();\r\n            }\r\n\r\n            let currentMonth = date.clone().month(this.currentMonth);\r\n            let monthStart = currentMonth.startOf('month').day()\r\n            let monthEnd = currentMonth.endOf('month').day()\r\n            let calendarArr: any[] = [];\r\n\r\n            // add last month day appear in calendar\r\n            let lastMonthEndDate = currentMonth.clone().date(0).date()\r\n            let lastMonthBeginDate = lastMonthEndDate - (monthStart - 1);\r\n\r\n            for (lastMonthBeginDate; lastMonthBeginDate <= lastMonthEndDate; lastMonthBeginDate++) {\r\n                calendarArr.push({\r\n                    year: currentMonth.clone().date(0).year(),\r\n                    month: currentMonth.clone().date(0).month() + 1,\r\n                    dateNumber: lastMonthBeginDate,\r\n                    selected: false,\r\n                    lastMonth: true\r\n                });\r\n            }\r\n\r\n            // add this month day appear in calendar\r\n            let mStart = 1\r\n            let mEnd = currentMonth.endOf('month').date();\r\n\r\n            for (mStart; mStart <= mEnd; mStart++) {\r\n                // calendarArr.push(mStart);\r\n                calendarArr.push({\r\n                    year: currentMonth.year(),\r\n                    month: currentMonth.month() + 1,\r\n                    dateNumber: mStart,\r\n                    selected: false\r\n                });\r\n            }\r\n\r\n            // add next month day appear in calendar\r\n\r\n            let mNextStart = 1\r\n            let mNextEnd = 7 - monthEnd - 1\r\n\r\n            for (mNextStart; mNextStart <= mNextEnd; mNextStart++) {\r\n                // calendarArr.push(mNextStart);\r\n                calendarArr.push({\r\n                    year: currentMonth.clone().add(1, 'month').year(),\r\n                    month: currentMonth.clone().add(1, 'month').month() + 1,\r\n                    dateNumber: mNextStart,\r\n                    selected: false,\r\n                    nextMonth: true\r\n                });\r\n            }\r\n\r\n            this.calendarArr = calendarArr;\r\n\r\n            if (currentMonth.endOf('month').date() <= this.selectedDate.date()) {\r\n                this.selectedDate = currentMonth.endOf('month').clone()\r\n            } else {\r\n                this.selectedDate = currentMonth.date(this.selectedDate.date())\r\n            }\r\n\r\n        },\r\n        toggleShow(newDate?: Moment) {\r\n\r\n            console.log('this.top date picker', this.top)\r\n\r\n            // console.log('date', this.date)\r\n            if (!newDate) {\r\n                newDate = moment()\r\n                this.currentMonth = newDate.month();\r\n                this.selectedDate = newDate.clone();\r\n                this.calculateMonth(newDate);\r\n                this.currentYear = newDate.year();\r\n            } else {\r\n                this.currentMonth = newDate.month();\r\n                this.selectedDate = newDate.clone();\r\n                this.calculateMonth(newDate);\r\n                this.currentYear = newDate.year();\r\n                this.selectDateOnly(newDate);\r\n            }\r\n            // newDate = (this.date as Moment) ? (this.date as Moment).clone() : moment();\r\n\r\n\r\n            (this.$refs.ModalRef as any).toggleShow();\r\n            // this.selectDate(newDate)\r\n            this.datePickerPromise = new Promise((resolve, reject) => {\r\n                this.resolve = resolve;\r\n                this.reject = reject;\r\n            })\r\n\r\n            return this.waitPickDate();\r\n        },\r\n\r\n        async waitPickDate() {\r\n            return this.datePickerPromise;\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.v3-calendar {\r\n    display: block;\r\n    width: 290px;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.dp-heading {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    height: 30px;\r\n}\r\n\r\n.dp-week-of-day {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    width: 100%;\r\n\r\n    span {\r\n        display: inline-block;\r\n        width: 14.2%;\r\n        height: 30px;\r\n        text-align: center;\r\n        font-size: 14px;\r\n    }\r\n}\r\n\r\n.dp-week-days {\r\n    //display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n\r\n    .date-wrapper {\r\n        display: inline-block;\r\n        width: 14.2%;\r\n        text-align: center;\r\n    }\r\n\r\n    .date-number-cell {\r\n        display: inline-block;\r\n        width: 30px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        font-size: 14px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        border: 1px solid transparent;\r\n\r\n        &:hover {\r\n            background: orange;\r\n            color: white;\r\n            border: 1px solid orange;\r\n        }\r\n    }\r\n\r\n    .today-target {\r\n        color: orange;\r\n        border: 1px solid orange;\r\n    }\r\n\r\n    .last-month-day, .next-month-day {\r\n        color: grey;\r\n        border-color: transparent;\r\n        pointer-events: none;\r\n    }\r\n\r\n    .selected {\r\n        background-color: darkorange;\r\n        color: white;\r\n        border: 1px solid darkorange;\r\n\r\n    }\r\n\r\n\r\n}\r\n</style>","\r\nimport {defineComponent, ref} from \"vue\";\r\nimport moment, {Moment} from \"moment\";\r\nimport Modal from \"@/components/common/Modal.vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"DatePicker\",\r\n    components: {\r\n        Modal\r\n    },\r\n    props: {\r\n        top: {\r\n            type: Number,\r\n        },\r\n        leftInput: {\r\n            type: Number\r\n        },\r\n        date: {\r\n            type: Object\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            left: 0,\r\n            currentYear: 2021,\r\n            datePickerPromise: <any>null,\r\n            resolve: <any>null,\r\n            reject: <any>null,\r\n            selectedDate: moment(),\r\n            weekOfDays: [{\r\n                fullName: \"Sunday\",\r\n                shortName: \"Sun\",\r\n                dayNumber: 0,\r\n            },\r\n                {\r\n                    fullName: \"Monday\",\r\n                    shortName: \"Mon\",\r\n                    dayNumber: 1,\r\n                },\r\n                {\r\n                    fullName: \"Tuesday\",\r\n                    shortName: \"Tue\",\r\n                    dayNumber: 2,\r\n                },\r\n                {\r\n                    fullName: \"Wednesday\",\r\n                    shortName: \"Wed\",\r\n                    dayNumber: 3,\r\n                },\r\n                {\r\n                    fullName: \"Thursday\",\r\n                    shortName: \"Thu\",\r\n                    dayNumber: 4,\r\n                },\r\n                {\r\n                    fullName: \"Friday\",\r\n                    shortName: \"Fri\",\r\n                    dayNumber: 5,\r\n                },\r\n                {\r\n                    fullName: \"Saturday\",\r\n                    shortName: \"Sat\",\r\n                    dayNumber: 6\r\n                }],\r\n        }\r\n    },\r\n\r\n    setup() {\r\n        const calendarArr = ref<any[]>([]);\r\n        const currentMonth = ref();\r\n        currentMonth.value = moment().month();\r\n        console.log(calendarArr)\r\n\r\n        return {\r\n            currentMonth,\r\n\r\n            calendarArr\r\n        }\r\n\r\n    },\r\n    mounted() {\r\n        console.log('mounted date picker')\r\n        this.calculateMonth();\r\n        console.log('top', this.top)\r\n        console.log('left', this.left)\r\n        this.datePickerPromise = new Promise((resolve, reject) => {\r\n          this.resolve = resolve;\r\n          this.reject = reject;\r\n        })\r\n    },\r\n    methods: {\r\n        cancelPickDate() {\r\n            this.reject();\r\n        },\r\n        calculateLeft() {\r\n            if (!this.leftInput) return '';\r\n            // this.left = <any>this.leftInput\r\n            if (window.innerWidth < this.leftInput + 370) {\r\n                this.left = window.innerWidth - 400;\r\n            } else {\r\n                this.left = this.leftInput\r\n            }\r\n            return this.left\r\n        },\r\n        nextMonth() {\r\n            this.currentMonth = this.currentMonth + 1\r\n            this.calculateMonth()\r\n        },\r\n\r\n        previousMonth() {\r\n            this.currentMonth = this.currentMonth - 1\r\n            this.calculateMonth()\r\n        },\r\n\r\n        colorToday(calendarDay: any) {\r\n            const today = moment();\r\n            // console.log('calendarDay', calendarDay)\r\n            return today.year() === calendarDay.year\r\n                && today.month() + 1 === calendarDay.month\r\n                && today.date() === calendarDay.dateNumber;\r\n        },\r\n\r\n        selectDateOnly(selectedDate: Moment) {\r\n            // this.selectedDate = calendarDay;\r\n            for (let day of this.calendarArr) {\r\n                // console.log('date', day)\r\n\r\n                if (day.year === selectedDate.year()\r\n                    && day.month === selectedDate.month() + 1\r\n                    && day.dateNumber === selectedDate.date()) {\r\n                    day.selected = true\r\n                } else {\r\n                    day.selected = false;\r\n                }\r\n\r\n            }\r\n            // calendarDay.selected = true;\r\n        },\r\n\r\n        selectDate(calendarDay: any) {\r\n            console.log('selected date', calendarDay)\r\n            this.selectedDate = this.selectedDate.date(calendarDay.dateNumber);\r\n            for (let day of this.calendarArr) {\r\n                day.selected = false;\r\n            }\r\n            calendarDay.selected = true;\r\n            // todo: fix method sequence. should toggle modal after send resolve\r\n            (this.$refs.ModalRef as any).toggleShow();\r\n            // this.$emit('selectDate', this.selectedDate.clone())\r\n            this.resolve(this.selectedDate.clone())\r\n        },\r\n\r\n        calculateMonth(date?: Moment) {\r\n            if(!date) {\r\n                date = moment();\r\n            }\r\n\r\n            let currentMonth = date.clone().month(this.currentMonth);\r\n            let monthStart = currentMonth.startOf('month').day()\r\n            let monthEnd = currentMonth.endOf('month').day()\r\n            let calendarArr: any[] = [];\r\n\r\n            // add last month day appear in calendar\r\n            let lastMonthEndDate = currentMonth.clone().date(0).date()\r\n            let lastMonthBeginDate = lastMonthEndDate - (monthStart - 1);\r\n\r\n            for (lastMonthBeginDate; lastMonthBeginDate <= lastMonthEndDate; lastMonthBeginDate++) {\r\n                calendarArr.push({\r\n                    year: currentMonth.clone().date(0).year(),\r\n                    month: currentMonth.clone().date(0).month() + 1,\r\n                    dateNumber: lastMonthBeginDate,\r\n                    selected: false,\r\n                    lastMonth: true\r\n                });\r\n            }\r\n\r\n            // add this month day appear in calendar\r\n            let mStart = 1\r\n            let mEnd = currentMonth.endOf('month').date();\r\n\r\n            for (mStart; mStart <= mEnd; mStart++) {\r\n                // calendarArr.push(mStart);\r\n                calendarArr.push({\r\n                    year: currentMonth.year(),\r\n                    month: currentMonth.month() + 1,\r\n                    dateNumber: mStart,\r\n                    selected: false\r\n                });\r\n            }\r\n\r\n            // add next month day appear in calendar\r\n\r\n            let mNextStart = 1\r\n            let mNextEnd = 7 - monthEnd - 1\r\n\r\n            for (mNextStart; mNextStart <= mNextEnd; mNextStart++) {\r\n                // calendarArr.push(mNextStart);\r\n                calendarArr.push({\r\n                    year: currentMonth.clone().add(1, 'month').year(),\r\n                    month: currentMonth.clone().add(1, 'month').month() + 1,\r\n                    dateNumber: mNextStart,\r\n                    selected: false,\r\n                    nextMonth: true\r\n                });\r\n            }\r\n\r\n            this.calendarArr = calendarArr;\r\n\r\n            if (currentMonth.endOf('month').date() <= this.selectedDate.date()) {\r\n                this.selectedDate = currentMonth.endOf('month').clone()\r\n            } else {\r\n                this.selectedDate = currentMonth.date(this.selectedDate.date())\r\n            }\r\n\r\n        },\r\n        toggleShow(newDate?: Moment) {\r\n\r\n            console.log('this.top date picker', this.top)\r\n\r\n            // console.log('date', this.date)\r\n            if (!newDate) {\r\n                newDate = moment()\r\n                this.currentMonth = newDate.month();\r\n                this.selectedDate = newDate.clone();\r\n                this.calculateMonth(newDate);\r\n                this.currentYear = newDate.year();\r\n            } else {\r\n                this.currentMonth = newDate.month();\r\n                this.selectedDate = newDate.clone();\r\n                this.calculateMonth(newDate);\r\n                this.currentYear = newDate.year();\r\n                this.selectDateOnly(newDate);\r\n            }\r\n            // newDate = (this.date as Moment) ? (this.date as Moment).clone() : moment();\r\n\r\n\r\n            (this.$refs.ModalRef as any).toggleShow();\r\n            // this.selectDate(newDate)\r\n            this.datePickerPromise = new Promise((resolve, reject) => {\r\n                this.resolve = resolve;\r\n                this.reject = reject;\r\n            })\r\n\r\n            return this.waitPickDate();\r\n        },\r\n\r\n        async waitPickDate() {\r\n            return this.datePickerPromise;\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./DatePicker.vue?vue&type=template&id=dbcc9dca&scoped=true\"\nimport script from \"./DatePicker.vue?vue&type=script&lang=ts\"\nexport * from \"./DatePicker.vue?vue&type=script&lang=ts\"\n\nimport \"./DatePicker.vue?vue&type=style&index=0&id=dbcc9dca&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-dbcc9dca\"\n\nexport default script","\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport moment, {Moment} from 'moment';\r\nimport Dialog from '@/components/dialog';\r\n\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\nimport {defineComponent} from \"vue\";\r\n\r\nenum DatePickerFormat {\r\n    fromDate = 'fromDate',\r\n    toDate = 'toDate'\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'mySchedules',\r\n    components: {\r\n        DatePicker,\r\n        // FlexSchedule\r\n    },\r\n    data() {\r\n        return {\r\n            title: 'Work Schedule',\r\n\r\n            schedules: [],\r\n            user: null,\r\n            datePickerFormat: \"dd/MM/yyyy\",\r\n\r\n            //\r\n            menu1: false,\r\n            menu2: false,\r\n            fromDate: <Moment | null> null,\r\n            toDate: <Moment | null> null,\r\n\r\n            //\r\n            //  date picker\r\n            dateModal: false,\r\n            // datePickerDate: \"\",\r\n            dateModalTop: 0,\r\n            dateModalLeft: 0,\r\n            datePickerTargetDay: moment(), // todo: clear moment and string mix\r\n            selectedDateType: DatePickerFormat.fromDate, // Start Finish\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n        var currentDate = new Date();\r\n        currentDate.setHours(0, 0, 0, 0);\r\n        var intDate = currentDate.getDate();\r\n        var currentWeekDay = currentDate.getDay();\r\n        var fromDate = new Date();\r\n        fromDate.setHours(0, 0, 0, 0);\r\n        var toDate = new Date();\r\n        toDate.setHours(0, 0, 0, 0);\r\n\r\n        var weekDayFactor = currentWeekDay == 0 ? 7 : currentWeekDay;\r\n        fromDate.setDate(intDate - (weekDayFactor - 1));\r\n        toDate.setDate(intDate + (7 - weekDayFactor));\r\n\r\n        this.fromDate = moment(fromDate);\r\n        this.toDate = moment(toDate);\r\n\r\n        this.loadSchedules(this.fromDate, this.toDate);\r\n    },\r\n\r\n    methods: {\r\n        updateDateText(event: any, target: any, type: string) {\r\n            if (type === 'toDate') {\r\n                this.toDate = moment(event.target.value, 'DD/MM/YYYY')\r\n            } else {\r\n                this.fromDate = moment(event.target.value, 'DD/MM/YYYY')\r\n            }\r\n            this.dateModal = false;\r\n\r\n            // todo: add check for is correct format\r\n        },\r\n\r\n        updateDateTime($event: any, d: any, type: DatePickerFormat) {\r\n            let element = $event.target.getClientRects()[0]\r\n            this.dateModalTop = element.bottom;\r\n            this.dateModalLeft = element.left;\r\n            this.selectedDateType = type;\r\n            if (type === 'toDate') {\r\n                this.datePickerTargetDay = this.toDate ? this.toDate : moment();\r\n\r\n            } else {\r\n                this.datePickerTargetDay = this.fromDate ? this.fromDate : moment();\r\n            }\r\n\r\n            this.dateModal = true;\r\n            this.openDatePicker()\r\n        },\r\n\r\n        printWorkSchedule: function () {\r\n            var args = \"left=5,top=5,resizable=yes,height=600,width=700,scrollbars=yes,status=1\";\r\n            var content = (document as any).getElementById(\"workSchedules\").innerHTML;\r\n            var mywindow: any = window.open('', 'Print', args);\r\n\r\n            mywindow.document.write('<html>');\r\n            mywindow.document.write('<head>');\r\n            mywindow.document.write('<style type=\"text/css\">table {border-collapse: collapse;}</style>');\r\n            mywindow.document.write('<style type=\"text/css\">table, th, td {border: 1px solid #cbcbcb;text-align: center;}</style>');\r\n            mywindow.document.write('</head>');\r\n            mywindow.document.write('<body>');\r\n            mywindow.document.write(content);\r\n            mywindow.document.write('</body></html>');\r\n\r\n            mywindow.document.close();\r\n            mywindow.focus()\r\n            mywindow.print();\r\n            mywindow.close();\r\n        },\r\n        loadSchedules: function (fromDate: any, toDate: any) {\r\n            if (fromDate !== null) {\r\n                fromDate.startOf('day')\r\n            }\r\n\r\n            if (toDate !== null && toDate !== '') {\r\n                toDate.startOf('day')\r\n            }\r\n\r\n            this.schedules = [];\r\n\r\n            if (toDate === null && fromDate === null) {\r\n                return;\r\n            }\r\n\r\n            if (toDate !== null && fromDate === null) {\r\n                fromDate = toDate;\r\n            }\r\n\r\n            if (toDate === null && fromDate !== null) {\r\n                toDate = fromDate;\r\n            }\r\n\r\n            var param = {\r\n                employeeNo: <number | null>null,\r\n                fromDate: null,\r\n                toDate: null\r\n            };\r\n\r\n            if (fromDate !== null && toDate !== null) {\r\n                var finalFromDate = fromDate.format(\"DD/MM/YYYY\");\r\n                var finalToDate = toDate.format(\"DD/MM/YYYY\");\r\n                param = {\r\n                    // employeeNo: window.Affinity.user.EmployeeNo,\r\n                    employeeNo: 1148,\r\n                    fromDate: finalFromDate,\r\n                    toDate: finalToDate\r\n                };\r\n            }\r\n\r\n            console.log('dialog loading EmployeeWorkSchedule')\r\n            Dialog.loading();\r\n            Remote.EmployeeWorkSchedule(param).then(response => {\r\n                let tempSchedules = response;\r\n                // server return json include key name 'mondayScheduleDetail' to 'sundayScheduleDetail'\r\n                // transform it into a array so we can v-for it in correct order.\r\n                for (let week of tempSchedules) {\r\n                    week.detailArr = [];\r\n                    week.detailArr.push(week.mondayScheduleDetail);\r\n                    week.detailArr.push(week.tuesdayScheduleDetail);\r\n                    week.detailArr.push(week.wednesdayScheduleDetail);\r\n                    week.detailArr.push(week.thursdayScheduleDetail);\r\n                    week.detailArr.push(week.fridayScheduleDetail);\r\n                    week.detailArr.push(week.saturdayScheduleDetail);\r\n                    week.detailArr.push(week.sundayScheduleDetail);\r\n\r\n                    for (let detail of week.detailArr) {\r\n                        // clear default value\r\n                        if (detail.finishTime === \"12:00 am\" && detail.startTime === '12:00 am'\r\n                            || detail.finishTime === \"12:00 AM\" && detail.startTime === '12:00 AM') {\r\n                            detail.finishTime = '';\r\n                            detail.startTime = '';\r\n                        }\r\n\r\n                        if (detail.hours === \"0\") {\r\n                            detail.hours = '';\r\n                            detail.shiftDescription = '';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.schedules = tempSchedules;\r\n                Dialog.clear();\r\n            }).finally(() => {\r\n                Dialog.clear();\r\n                console.log('dialog clear EmployeeWorkSchedule')\r\n            })\r\n        },\r\n\r\n        displayScheduleDetail(scheduleDetail: any) {\r\n            return scheduleDetail.hours !== 0 && scheduleDetail.hours !== null && scheduleDetail.hours !== \"\";\r\n        },\r\n\r\n        selectDateTodayForFromDate: function () {\r\n            this.fromDate = moment().startOf('day')\r\n            this.toDate = null;\r\n            this.loadSchedules(this.fromDate, this.toDate);\r\n        },\r\n\r\n        selectDateTodayForToDate: function () {\r\n            this.toDate = moment();\r\n            this.toDate.hour(11)\r\n            this.toDate.minute(59)\r\n            if (this.toDate < this.fromDate!) {\r\n                this.fromDate = null;\r\n            }\r\n            this.loadSchedules(this.fromDate, this.toDate);\r\n        },\r\n\r\n        getWeekDayByIndex: function (index: number) {\r\n            let weekdayArray = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\r\n            return weekdayArray[index];\r\n        },\r\n\r\n        async openDatePicker() {\r\n            let result = await ((this.$refs.DatePickerRef as any).toggleShow(this.datePickerTargetDay)) as Promise<any>;\r\n\r\n            if (this.selectedDateType === DatePickerFormat.toDate) {\r\n                this.toDate = result as any;\r\n            } else if (this.selectedDateType === DatePickerFormat.fromDate) {\r\n                this.fromDate = result as any;\r\n            }\r\n\r\n            this.loadSchedules(this.fromDate, this.toDate);\r\n\r\n            return result;\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./MySchedules.vue?vue&type=template&id=255884f0\"\nimport script from \"./MySchedules.vue?vue&type=script&lang=ts\"\nexport * from \"./MySchedules.vue?vue&type=script&lang=ts\"\n\nimport \"./mySchedules.scss?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<style lang=\"scss\" src=\"./schedulesManagement.scss\"></style>\r\n<template>\r\n    <div class=\"vue-sched-management\">\r\n        <div class=\"sched-card-default mr-4 mr-xs-0\" v-show=\"!createNew\">\r\n            <div><h3>Schedules</h3></div>\r\n            <search-schedule ref=\"searchScheduleRef\" @createNewSchedule=\"createNewSchedule\"\r\n                             @selectSchedFromSearch=\"selectSchedulesDetail\"></search-schedule>\r\n        </div>\r\n        <div class=\"sched-card-default sched-detail-card sche-detail-mt\" v-if=\"schedDetail\">\r\n            <div v-if=\"createNew\"><h3>Create New Schedule</h3></div>\r\n            <div v-else class=\"d-flex justify-space-between\">\r\n                <h3>Schedule Details</h3>\r\n                <span class=\"icon-cross vp-icon\" @click=\"closeScheduleDetail(true)\"></span>\r\n            </div>\r\n            <schedule-detail v-if=\"schedDetail\" ref=\"detail\"\r\n                             :shiftTypeList=\"shiftTypeList\"\r\n                             :detail=\"schedDetail\"\r\n                             :read-only=\"0\"\r\n                             @cancel=\"cancelScheduleDetail\"\r\n                             @reload=\"reloadSchedulesDetail\"\r\n                             @schedule-saved=\"scheduleSaved\"\r\n                             @schedule-deleted=\"scheduleDeleted\"></schedule-detail>\r\n            <div class=\"sched-man-allocations mt-4\"\r\n                 v-if=\"schedDetail && schedDetail.EmpAllocations && schedDetail.EmpAllocations.length > 0\">\r\n                <div class=\"caption font-weight-bold text-start\">Employee Allocations</div>\r\n                <div class=\"aff-table mt-4\">\r\n                    <table>\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Employee Name</th>\r\n                            <th class=\"text-center\">Date From</th>\r\n                            <th class=\"text-center\">Date To</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr v-for=\"empSched in schedDetail.EmpAllocations\"\r\n                            v-bind:class=\"{'hide-none-active-detail': !empSched.isActive && showActiveSchedule}\">\r\n                            <td>{{ empSched.EmployeeName }}</td>\r\n                            <td class=\"text-center\">{{ empSched.DateFrom | date }}</td>\r\n                            <td class=\"text-center\">{{ empSched.DateTo | date }}</td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"d-flex justify-end mt-2\">\r\n                    <button class=\"grey white--text text-capitalize small\" @click=\"toggleShowActiveSchedule\">\r\n                        <span v-show=\"!showActiveSchedule\">Show Active</span>\r\n                        <span v-show=\"showActiveSchedule\">Show All</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport moment from 'moment';\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport ScheduleDetail from \"@/components/scheduleDetail/ScheduleDetail.vue\";\r\nimport SearchSchedule from \"@/components/schedulesManagement/SearchSchedule.vue\";\r\nimport Dialog from \"@/components/dialog\";\r\nimport {defineComponent} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: 'schedulesManagement',\r\n    components: {\r\n        SearchSchedule,\r\n        'schedule-detail': ScheduleDetail,\r\n    },\r\n    data() {\r\n        return {\r\n            selectedSched: <any>null,\r\n            shiftTypeList: [],\r\n            schedDetail: <any>null,\r\n            createNew: false,\r\n            empListHeight: '',\r\n            showActiveSchedule: true,\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getShiftTypeList();\r\n    },\r\n    methods: {\r\n        getShiftTypeList: function () {\r\n            Remote.ShiftTypes().then(res => {\r\n                this.shiftTypeList = res\r\n            })\r\n        },\r\n\r\n        toggleShowActiveSchedule() {\r\n            this.showActiveSchedule = !this.showActiveSchedule;\r\n        },\r\n\r\n        selectSchedulesDetail(sched: any) {\r\n            if (this.$refs.detail && (this.$refs as any).detail.hasChanges) {\r\n                Dialog.checkChange({\r\n                    message: 'There are currently Schedule Detail changes <br /> Do you want to discard your changes?',\r\n                    onOk: () => {\r\n                        this.loadScheduleDetail(sched)\r\n                    }\r\n                })\r\n            } else {\r\n                this.loadScheduleDetail(sched)\r\n            }\r\n        },\r\n\r\n        loadScheduleDetail(sched: any) {\r\n            Dialog.loading()\r\n            Remote.ScheduleDetail(sched.Id).then(res => {\r\n                this.schedDetail = res.Data\r\n                this.checkEmpAllocationActive()\r\n                Dialog.clear();\r\n                this.selectedSched = sched;\r\n            }, (err) => {\r\n                Dialog.clear();\r\n                if (err.message === 'Network Error') {\r\n                    Dialog.alert('Lost Internet connection. Please try again after reconnect.')\r\n                } else {\r\n                    Dialog.alert('Something went wrong')\r\n                }\r\n            })\r\n        },\r\n\r\n        checkEmpAllocationActive() {\r\n            this.schedDetail.EmpAllocations.forEach((detail: any) => {\r\n                if (!detail.DateTo) {\r\n                    detail.isActive = true;\r\n                    return\r\n                }\r\n                let dateFrom = moment(detail.DateFrom)\r\n                let dateTo = moment(detail.DateTo)\r\n                detail.isActive = dateTo.diff(moment(), 'day') >= 0 && dateFrom.diff(moment(), 'day') <= 0\r\n            })\r\n        },\r\n\r\n\r\n        createNewSchedule: function () {\r\n            console.log('create new got called')\r\n            this.createNew = true;\r\n            let startDate = moment();\r\n            startDate.hour(0);\r\n            startDate.minute(0);\r\n            startDate.second(0);\r\n            this.schedDetail = {\r\n                Id: -1,\r\n                Name: '',\r\n                Description: '',\r\n                NoOfWeeks: 1,\r\n                StartDate: startDate,\r\n                Days: []\r\n            };\r\n\r\n            if (this.$refs.detail) {\r\n                (this.$refs.detail as any).hasChanges = true;\r\n            }\r\n        },\r\n\r\n        cancelScheduleDetail() {\r\n            console.log('cancel called')\r\n            if (this.createNew) {\r\n                this.createNew = false;\r\n            }\r\n\r\n            this.schedDetail = null;\r\n        },\r\n\r\n        reloadSchedulesDetail: function () {\r\n            console.log('reloadSchedulesDetail')\r\n            if (!this.selectedSched)\r\n                this.schedDetail = null;\r\n            else\r\n                this.selectSchedulesDetail(this.selectedSched);\r\n\r\n            this.createNew = false;\r\n        },\r\n\r\n        closeScheduleDetail(changeCheck: boolean) {\r\n            if (!changeCheck || !(this.$refs as any).detail.hasChanges) {\r\n                this.schedDetail = null;\r\n                this.createNew = false;\r\n                this.selectedSched = null;\r\n                (this.$refs as any).searchScheduleRef.deselectScheDetail();\r\n                return;\r\n            }\r\n\r\n            Dialog.checkChange({\r\n                message: 'There are currently Schedule Detail changes <br /> Do you want to discard your changes?',\r\n                onOk: () => {\r\n                    this.closeScheduleDetail(false)\r\n                }\r\n            })\r\n        },\r\n\r\n        scheduleSaved: function (detail: any) {\r\n            if (!this.selectedSched)\r\n                this.schedDetail = null;\r\n            else {\r\n                this.schedDetail = detail;\r\n                this.selectedSched = {\r\n                    Id: detail.Id,\r\n                };\r\n            }\r\n\r\n            (this.$refs as any).searchScheduleRef.getSchedulesList();\r\n            this.createNew = false;\r\n        },\r\n\r\n        scheduleDeleted: function () {\r\n            this.selectedSched = null;\r\n            this.schedDetail = null;\r\n            (this.$refs as any).searchScheduleRef.getSchedulesList();\r\n        },\r\n    },\r\n\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$button-blue: #44b5ec;\r\n\r\n.hide-none-active-detail {\r\n    display: none;\r\n}\r\n\r\n.sched-card-default {\r\n    background: #efefef;\r\n\r\n    @media screen and (max-width: 960px) {\r\n        margin-top: 8px;\r\n    }\r\n}\r\n\r\n.sched-detail-card {\r\n    width: 565px;\r\n\r\n    @media screen and (max-width: 768px) {\r\n        width: 100%;\r\n    }\r\n\r\n}\r\n\r\n.sched-search-box {\r\n    width: 150px;\r\n}\r\n\r\n.sched-man-allocations {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    max-width: 600px;\r\n    max-height: 400px;\r\n    min-height: 200px;\r\n    width: 100%;\r\n    padding-right: 0px;\r\n\r\n    table {\r\n        min-width: 300px;\r\n    }\r\n}\r\n\r\n.aff-table {\r\n    .selected td {\r\n        background-color: $button-blue;\r\n        color: white;\r\n    }\r\n\r\n    .hidden {\r\n        display: none;\r\n    }\r\n\r\n    @media screen and (max-width: 768px) {\r\n        overflow-x: auto;\r\n    }\r\n}\r\n\r\n.sche-detail-mt {\r\n    @media screen and (max-width: 1440px) {\r\n        margin-top: 10px;\r\n    }\r\n}\r\n</style>","<template>\r\n    <div class=\"default-form sched-detail-form mt-4\">\r\n        <form @change=\"formUpdated\" v-on:submit.prevent=\"formSubmited($event)\">\r\n            <div class=\"caption d-flex justify-space-between\">\r\n                <div class=\"full-width d-flex align-center\">\r\n                    <div class=\"form-label\">Name</div>\r\n                    <input class=\"caption\" name=\"name\" @keyup=\"hasChanges = true\"\r\n                           counter=\"49\" v-if=\"isNewSchedule\" v-model=\"detail.Name\">\r\n                    <div v-else class=\"label-detail\"\r\n                         v-tooltip.top=\"{content: detail.Name, delay: {show: 3000, hide: 100}}\">{{ detail.Name }}\r\n                    </div>\r\n                </div>\r\n                <div v-if=\"detail.Archive\" class=\"red--text\">Archived</div>\r\n            </div>\r\n            <div class=\"caption d-flex mt-4\">\r\n                <div class=\"form-label\">Description</div>\r\n                <textarea class=\"white caption description-area\" hide-details rows=\"2\" @keyup=\"hasChanges = true\" outlined dense\r\n                          v-model=\"detail.Description\"> </textarea>\r\n            </div>\r\n            <div class=\"caption mt-4\">\r\n                <div class=\"form-label\">Effective Date</div>\r\n                <input class=\"date-input\" :value=\"$filters.reformatDate(detail.StartDate)\" @click=\"openDatePicker\">\r\n\r\n                <div class=\"caption mt-4 ml-4 d-inline number-of-weeks\">\r\n                    <div class=\"d-inline mr-4 bold-text\">Number of Weeks</div>\r\n                        <label for=\"now\"></label>\r\n                        <input class=\"number-input\" id=\"now\" name=\"now\" type=\"number\" v-model=\"detail.NoOfWeeks\"\r\n                               @change=\"updateNoOfWeeks\"\r\n                               @keydown=\"numLimitKeyDown\"  style=\"width:60px;\">\r\n                    <div class=\"mobile-arrow\">\r\n                        <button type=\"button\" icon v-if=\"detail.NoOfWeeks < 12\" small color=\"grey\" @click=\"increaseNumber\">\r\n                            <span>icon-arrowhead-up</span>\r\n                        </button>\r\n                        <button type=\"button\" icon v-if=\"detail.NoOfWeeks > 1\" small color=\"grey\" @click=\"reduceNumber\">\r\n                            <span class=\"mt-1\">icon-arrowhead-down</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"section-table ui-gridbox-scrollable-titles mt-4\">\r\n                <div class=\"aff-table sched-detail-table\">\r\n                    <table class=\"sched-detail-days\" v-bind:class=\"{'shift-min-width': showShift}\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Week</th>\r\n                            <th>Day</th>\r\n                            <th>Hours</th>\r\n                            <th>Start</th>\r\n                            <th>Finish</th>\r\n                            <th v-show=\"showShift\">Shift</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr v-for=\"d in detail.Days\" :key=\"d.DayNumber\">\r\n                            <td>\r\n                                <span v-show=\"isFirstDayOfWeek(d.DayOfWeek)\">{{ d.Week }}</span>\r\n                            </td>\r\n                            <td class=\"table-date-counter\">\r\n                                <span class=\"mr-2\">{{ d.DayNumber + 1 }}</span>\r\n                                <span>{{ getDayOfWeek(d.DayOfWeek) }}</span>\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"number\" step=\"any\" min=\"0\" max=\"24\" v-model.number=\"d.Hours\"\r\n                                       class=\"caption sched-detail-table-input\" center name=\"Sche Hour\"\r\n                                       outlined dense hide-details autocomplete=\"off\"\r\n                                       :error=\"d.error\"\r\n                                       @keydown=\"numLimitKeyDown($event, true, false)\"\r\n                                       @change=\"checkHour(d)\"\r\n                                       :data-test=\"d.Hours\">\r\n                            </td>\r\n                            <td>\r\n                                <input :value=\"$filters.reformatTime(d.StartTime)\" name=\"Sche StartTime\"\r\n                                       outlined dense hide-details autocomplete=\"off\"\r\n                                       class=\"d-inline-flex ma-0 pa-0 caption sched-detail-table-input\"\r\n                                       @change=\"timeTextChanged($event, d, 'StartTime')\"\r\n                                       @keydown=\"numLimitKeyDown($event, false, true)\"\r\n                                       @click:clear=\"fromDate = null\">\r\n\r\n                            </td>\r\n                            <td>\r\n                                <input :value=\"$filters.reformatTime(d.FinishTime)\" name=\"Sche FinishTime\"\r\n                                       outlined dense hide-details autocomplete=\"off\"\r\n                                       class=\"d-inline-flex ma-0 pa-0 caption sched-detail-table-input\"\r\n                                       @change=\"timeTextChanged($event, d, 'FinishTime')\"\r\n                                       @keydown=\"numLimitKeyDown($event, false, true)\"\r\n                                       @click:clear=\"fromDate = null\">\r\n\r\n\r\n                            </td>\r\n                            <td class=\"shift-select-td\" v-show=\"showShift\">\r\n                                <select class=\"caption\" dense outlined hide-details\r\n                                        :menu-props=\"{bottom: true, offsetY: true}\"\r\n                                        v-model=\"d.ShiftId\"\r\n                                        @change=\"hasChanges = true\"\r\n                                        :items=\"shifts\" item-text=\"name\" item-value=\"name\"></select>\r\n                            </td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"schedules-buttons form-row d-flex flex-wrap justify-end mt-2\">\r\n                <button type=\"button\" class=\"white--text grey caption text-capitalize mr-2 mt-2 small\"\r\n                        @click=\"toggleShift\">\r\n                    <span v-if=\"!showShift\">Show Shift</span>\r\n                    <span v-if=\"showShift\">Hide Shift</span>\r\n                </button>\r\n                <button  type=\"button\" class=\"white--text red text-capitalize mr-2 mt-2 small\" :disabled=\"hasChanges\"\r\n                        @click=\"deleteSchedule()\"\r\n                        v-if=\"!isNewSchedule && detail.EmpAllocations && detail.EmpAllocations.length === 0\">\r\n                    <span class=\"icon-trash mr-1\"></span><span>Delete</span>\r\n                </button>\r\n                <button  type=\"button\" class=\"white--text red text-capitalize mr-2 mt-2 small\" :disabled=\"hasChanges\"\r\n                        @click=\"archiveSchedule()\"\r\n                        v-if=\"!detail.Archive && !isNewSchedule\">\r\n                    <span class=\"icon-briefcase mr-1\"></span><span>Archive</span>\r\n                </button>\r\n                <button  type=\"button\" class=\"white--text grey text-capitalize mr-2 mt-2 small\"\r\n                        :disabled=\"!hasChanges && !isNewSchedule\"\r\n                        @click=\"cancelChanges()\">\r\n                    <span class=\"icon-cancel mr-1\"></span><span>Cancel</span>\r\n                </button>\r\n                <button  type=\"button\" class=\"white--text text-capitalize mr-1 mt-2 green small\" :disabled=\"!hasChanges\"\r\n                        @click=\"updateDetail()\">\r\n                    <span class=\"icon-save mr-1\"></span><span>Save</span>\r\n                </button>\r\n            </div>\r\n        </form>\r\n        <date-picker ref=\"DatePickerRef\"\r\n                     :top=\"dateModalTop\"\r\n                     :leftInput=\"dateModalLeft\"\r\n                     :date=\"detail.StartDate\"></date-picker>\r\n<!--        <date-picker ref=\"DatePickerRef\" @selectDate=\"detail.StartDate\"></date-picker>-->\r\n    </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport Vue, {defineComponent} from 'vue';\r\nimport moment from \"moment\";\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport {emitter} from '@/main';\r\nimport Dialog from \"@/components/dialog\";\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"schedule-detail\",\r\n    components: {\r\n        DatePicker\r\n    },\r\n    props: ['detail', 'shiftTypeList', 'readOnly'],\r\n    data: function () {\r\n        return {\r\n            // todo: bring back name length rule\r\n            // nameLengthRule: [v => v.length <= 49 || 'Max 50 characters'],\r\n            week: 1,\r\n            tablePadding: '0 0;',\r\n            hasChanges: false,\r\n            isDateToCleared: false,\r\n            shifts: <any[]>[],\r\n            showShift: true,\r\n            initialEmpSched: null,\r\n\r\n            startDateMenu: false,\r\n\r\n            //\r\n            dateModalTop: 0,\r\n            dateModalLeft: 0,\r\n\r\n            //  time picker\r\n            timePickerTargetDay: <any>null,\r\n            selectedTimeType: 'Start', // Start Finish\r\n        }\r\n    },\r\n    computed: {\r\n        isNewSchedule() {\r\n            let detail: any = this.detail\r\n            return detail.Id <= 0;\r\n        },\r\n\r\n\r\n    },\r\n    // created: function () {\r\n    // },\r\n\r\n    mounted: function () {\r\n        this.loadShiftTypes();\r\n\r\n        this.hasChanges = this.detail.Id == -1; //new schedules always haschanges\r\n\r\n        this.$emit(\"dataChanged\", this.hasChanges); // todo wtf is components? check what does this line do !!!\r\n\r\n        //Add missing 0 days\r\n        this.remapDays()\r\n    },\r\n    watch: {\r\n        ['detail'](newVal, oldVal) {\r\n            this.remapDays()\r\n\r\n            // todo: simplify this to create event\r\n            if (newVal != oldVal && newVal.Id == -1) {\r\n                this.detail.Days = [];\r\n                this.createNewDays(1, 1);\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        formSubmited($event: any) {\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n            return false\r\n          //\r\n        },\r\n        increaseNumber() {\r\n            this.detail.NoOfWeeks++;\r\n            this.updateNoOfWeeks()\r\n        },\r\n        reduceNumber() {\r\n            this.detail.NoOfWeeks--;\r\n            this.updateNoOfWeeks()\r\n        },\r\n        toggleShift() {\r\n            this.showShift = !this.showShift;\r\n        },\r\n        // todo: fix calendar\r\n        // getDay(date: any) {\r\n        //     const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n        //\r\n        //     let i = new Date(date).getDay(date)\r\n        //     return daysOfWeek[i]\r\n        // },\r\n        remapDays() {\r\n            var week = 0;\r\n            var date = moment(this.detail.StartDate);\r\n            var total = this.detail.NoOfWeeks * 7;\r\n\r\n            var fullDays = new Array(total);\r\n\r\n            for (var dayNum = 0; dayNum < total; dayNum++) {\r\n                if (dayNum % 7 == 0) {\r\n                    week++;\r\n                }\r\n\r\n                fullDays[dayNum] = {\r\n                    DayNumber: dayNum,\r\n                    DayOfWeek: date.day(),\r\n                    Week: week,\r\n                    Date: moment(date),\r\n                    Hours: 0,\r\n                    StartTime: null,\r\n                    FinishTime: null,\r\n                    ShiftId: null\r\n                };\r\n\r\n                date.add(1, 'day')\r\n            }\r\n\r\n            this.showShift = false;\r\n            this.detail.Days.map((day: any) => {\r\n                if (day.StartTime)\r\n                    fullDays[day.DayNumber].StartTime = moment(day.StartTime);\r\n                if (day.FinishTime)\r\n                    fullDays[day.DayNumber].FinishTime = moment(day.FinishTime);\r\n                fullDays[day.DayNumber].Hours = day.Hours;\r\n                fullDays[day.DayNumber].ShiftId = day.ShiftId;\r\n            });\r\n            this.detail.Days = fullDays;\r\n            this.detail.StartDate = moment(this.detail.StartDate);\r\n            this.hasChanges = false;\r\n        },\r\n\r\n        timeTextChanged(input: any, d: any, type: string) {\r\n            let pickedTime = moment(input.target.value, 'HH:mm');\r\n\r\n            if (type === 'FinishTime') {\r\n                if (d.FinishTime && pickedTime.hour() === d.FinishTime.hour() && pickedTime.minute() === d.FinishTime.minute()) {\r\n                    return\r\n                }\r\n\r\n                if (input === '') {\r\n                    d.FinishTime = null;\r\n                    return\r\n                }\r\n\r\n                d.FinishTime = pickedTime;\r\n            } else {\r\n                if (d.StartTime && pickedTime.hour() === d.StartTime.hour() && pickedTime.minute() === d.StartTime.minute()) {\r\n                    return\r\n                }\r\n\r\n                if (input === '') {\r\n                    d.StartTime = null;\r\n                    return\r\n                }\r\n\r\n                d.StartTime = pickedTime;\r\n            }\r\n\r\n            this.timePickerTargetDay = d;\r\n            this.autoCalcTime(type)\r\n\r\n            this.hasChanges = true;\r\n            // this.timeModal = false;\r\n            console.log('timeTextChanged')\r\n        },\r\n\r\n        autoCalcTime(type: any) {\r\n            let targetDay = this.timePickerTargetDay\r\n            if (targetDay.FinishTime && targetDay.FinishTime.format('HH:mm') !== \"00:00\"\r\n                && targetDay.StartTime && targetDay.StartTime.format('HH:mm') !== \"00:00\"\r\n                && (!targetDay.Hours || targetDay.Hours === 0)) { // auto calc hours\r\n                // set year month day to same\r\n                targetDay.FinishTime.year(targetDay.StartTime.year())\r\n                targetDay.FinishTime.month(targetDay.StartTime.month())\r\n                targetDay.FinishTime.day(targetDay.StartTime.day())\r\n                let timeDiff = targetDay.FinishTime.startOf('minute').diff(targetDay.StartTime.startOf('minute'), 'hours', true);\r\n\r\n                targetDay.Hours = Math.round(timeDiff * 100) / 100;\r\n            } else if (targetDay.FinishTime && targetDay.Hours\r\n                && (!targetDay.StartTime || targetDay.StartTime.format('HH:mm') === \"00:00\")) { // auto calc start time\r\n                targetDay.StartTime = targetDay.FinishTime.clone().subtract(targetDay.Hours, 'hours')\r\n            } else if (targetDay.StartTime && targetDay.Hours\r\n                && (!targetDay.FinishTime || targetDay.FinishTime.format('HH:mm') === \"00:00\")) { // auto calc finish time\r\n                targetDay.FinishTime = targetDay.StartTime.clone().add(targetDay.Hours, 'hours')\r\n            } else if (targetDay.FinishTime && targetDay.FinishTime.format('HH:mm') !== \"00:00\"\r\n                && targetDay.StartTime && targetDay.StartTime.format('HH:mm') !== \"00:00\"\r\n                && (targetDay.Hours || targetDay.Hours !== 0)) { // otherwise all blank filled.\r\n                console.log('type', type)\r\n                if (type === 'StartTime') {\r\n                    targetDay.FinishTime = targetDay.StartTime.clone().add(targetDay.Hours, 'hours')\r\n                } else if (type === 'FinishTime') {\r\n                    targetDay.StartTime = targetDay.FinishTime.clone().subtract(targetDay.Hours, 'hours')\r\n                }\r\n            }\r\n        },\r\n\r\n        updateDateText(event: any, target: any) {\r\n            this.startDateMenu = false\r\n            target.set(moment(event, 'DD/MM/YYYY').toObject())\r\n            // todo: add check for is correct format\r\n            this.remapDays()\r\n        },\r\n\r\n        startDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.detail.StartDate = date;\r\n            this.remapDays()\r\n        },\r\n\r\n        isFirstDayOfWeek: function (dayNo: any) {\r\n            var startDate = moment(this.detail.StartDate);\r\n            return dayNo == startDate.day();\r\n        },\r\n        loadShiftTypes: function () {\r\n            var list = this.shiftTypeList;\r\n\r\n            for (var i = 0; i < list.length; i++) {\r\n                if (list[i].ShiftType !== undefined &&\r\n                    list[i].ShiftType !== null &&\r\n                    list[i].ShiftType.length <= 5) {\r\n                    var shiftType: any = {\r\n                        name: list[i].ShiftType\r\n                    };\r\n                    this.shifts.push(shiftType);\r\n                }\r\n            }\r\n\r\n            this.shifts.sort(function (a, b) {\r\n                var x = a.name.toLowerCase();\r\n                var y = b.name.toLowerCase();\r\n                if (x < y) {\r\n                    return -1;\r\n                }\r\n                if (x > y) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            });\r\n        },\r\n\r\n        getDayOfWeek: function (dayNo: number) {\r\n            if (dayNo < 0 || dayNo > 6) {\r\n                console.error('day No not correct')\r\n                return 'unknown';\r\n            }\r\n\r\n            var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat'];\r\n            return days[dayNo];\r\n        },\r\n\r\n        checkHour(targetDay: any) {\r\n            this.hasChanges = true;\r\n\r\n            if (targetDay.Hours > 24) {\r\n                Dialog.alert('You can only enter up to 24 hours.')\r\n                targetDay.Hours = 24\r\n                return;\r\n            }\r\n\r\n            console.log('hour', targetDay.Hours)\r\n            if (targetDay.StartTime && targetDay.Hours && targetDay.FinishTime) {\r\n                targetDay.FinishTime = targetDay.StartTime.clone().add(targetDay.Hours, 'hours')\r\n            } else if (targetDay.StartTime && targetDay.Hours) {\r\n                targetDay.FinishTime = targetDay.StartTime.clone().add(targetDay.Hours, 'hours')\r\n            } else if (targetDay.Hours && targetDay.FinishTime) {\r\n                targetDay.StartTime = targetDay.FinishTime.clone().add(targetDay.Hours, 'hours')\r\n            }\r\n        },\r\n\r\n        updateNoOfWeeks($event?: any) {\r\n            let dayNum = this.detail.Days.length;\r\n            let currentWeek = Math.floor(dayNum / 7);\r\n\r\n            if (this.detail.NoOfWeeks > currentWeek) {\r\n                this.createNewDays(currentWeek + 1, this.detail.NoOfWeeks)\r\n            } else {\r\n                let newLength = this.detail.NoOfWeeks * 7;\r\n                this.detail.Days.splice(newLength);\r\n            }\r\n        },\r\n\r\n        numLimitKeyDown: function (event: any, allowDecimal: boolean, allowColon: boolean) {\r\n            let allow = [8, 9, 13, 46, 16, 17]; // backspace, del, tab, shift, ctrl, dot\r\n            allow.push(65, 67, 86, 88); // a, c, v, x\r\n\r\n            if (allowDecimal)\r\n                allow.push(190, 110); //.\r\n\r\n            if (allowColon) allow.push(186)\r\n\r\n            if ((event.keyCode >= 48 && event.keyCode <= 57) || //key board numbers\r\n                (event.keyCode >= 96 && event.keyCode <= 105) || //key pad numbers\r\n                allow.indexOf(event.keyCode) > -1) { //various keys\r\n                // all good!\r\n            } else {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n        },\r\n\r\n        cancelChanges() {\r\n            if (!this.hasChanges) {\r\n                this.$emit('cancel');\r\n                return;\r\n            }\r\n\r\n            let msg = 'You haven\\'t saved your changes.  <br /> Are you sure you want to cancel?';\r\n            Dialog.checkChange({\r\n                message: msg,\r\n                confirmButtonText: 'Yes',\r\n                cancelButtonText: 'No',\r\n                onOk: () => {\r\n                    this.hasChanges = false;\r\n                    this.$emit('cancel')\r\n                }\r\n            })\r\n\r\n        },\r\n\r\n        // todo: use reload to clean the changes\r\n        reloadDetail: function () {\r\n            if (!this.hasChanges)\r\n                return;\r\n            // toodo: add has change check\r\n            this.$emit('reload');\r\n        },\r\n\r\n        createNewDays: function (fromWeek: any, toWeek: any) {\r\n            if (fromWeek > toWeek)\r\n                return;\r\n\r\n            var week = fromWeek;\r\n            var dayNum = this.detail.Days.length;\r\n            while (week <= toWeek) {\r\n                var date = moment(this.detail.StartDate);\r\n                date.add(dayNum, 'day');\r\n                this.detail.Days.push({\r\n                    DayNumber: dayNum,\r\n                    DayOfWeek: date.day(),\r\n                    Week: week,\r\n                    Date: date,\r\n                    Hours: 0,\r\n                    StartTime: null,\r\n                    FinishTime: null,\r\n                    ShiftId: null,\r\n                    startDateModal: false,\r\n                    endDateModal: false\r\n                })\r\n                dayNum++;\r\n                week = Math.floor(dayNum / 7) + 1;\r\n            }\r\n        },\r\n\r\n        archiveSchedule: function () {\r\n            if (this.hasChanges)\r\n                return;\r\n\r\n            if (this.detail.Archive) {\r\n                Dialog.alert('Unable to archive schedule, it\\'s already archived.')\r\n            } else {\r\n                this.detail.Archive = true;\r\n                this.doUpdateDetail();\r\n            }\r\n        },\r\n\r\n        deleteSchedule: function () {\r\n            if (this.hasChanges)\r\n                return;\r\n\r\n            if (this.detail.EmpAllocations.length > 0) {\r\n                Dialog.alert('Unable to delete schedule, it\\'s currently allocated to employees')\r\n            } else {\r\n                emitter.emit('dialog', {\r\n                    message: \"Are you sure you want to permanently delete this work schedule?\",\r\n                    showButtons: true,\r\n                    showCancel: true,\r\n                    okColor: 'red',\r\n                    onOk: () => {\r\n                        this.doDeleteSchedule();\r\n                    },\r\n                    onCancel: () => {\r\n                    }\r\n                })\r\n            }\r\n        },\r\n\r\n        doDeleteSchedule: function () {\r\n            Dialog.loading()\r\n\r\n            Remote.DeleteSchedule(this.detail.Id).then(res => {\r\n                this.$emit('schedule-deleted');\r\n                Dialog.clear()\r\n            })\r\n        },\r\n\r\n        updateDetail: function () {\r\n            if (!this.hasChanges)\r\n                return;\r\n\r\n            if (!this.doUpdateValidation()) {\r\n                return;\r\n            }\r\n\r\n            this.doUpdateDetail();\r\n        },\r\n        doUpdateValidation: function () {\r\n            console.log('validation')\r\n            if ((!this.detail.Name && !this.detail.Description)\r\n                || (this.detail.Name === '' && this.detail.Description === '')) {\r\n                Dialog.alert('Schedule name cannot be blank. <br /> Schedule description cannot be blank.')\r\n                return false;\r\n            }\r\n\r\n            if (!this.detail.Name || this.detail.Name === '') {\r\n                Dialog.alert('Schedule name cannot be blank.')\r\n                return false;\r\n            }\r\n\r\n            if (!this.detail.Description || this.detail.Description === '') {\r\n                Dialog.alert('Schedule description cannot be blank.')\r\n                return false;\r\n            }\r\n\r\n            if (this.detail.Name !== undefined &&\r\n                this.detail.Name !== null &&\r\n                this.detail.Name.length > 50) {\r\n                Dialog.alert('Schedule names must be 50 characters or fewer (including spaces).')\r\n                return false;\r\n            }\r\n\r\n            if (this.detail.Description !== undefined &&\r\n                this.detail.Description !== null &&\r\n                this.detail.Description.length > 50) {\r\n                Dialog.alert('Schedule descriptions must be 50 characters or fewer (including spaces).')\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n        doUpdateDetail: function () {\r\n            var postData = {\r\n                Id: this.detail.Id,\r\n                NoOfWeeks: this.detail.NoOfWeeks,\r\n                StartDate: moment(this.detail.StartDate).format('DD/MMM/YYYY'),\r\n                Name: this.detail.Name,\r\n                Description: this.detail.Description,\r\n                Archive: this.detail.Archive,\r\n                Days: <any[]>[]\r\n            }\r\n            console.log('doUpdateDetail this.detail', this.detail)\r\n\r\n            this.detail.Days.map(function (day: any) {\r\n                if (day.Hours > 0 ||\r\n                    (day.ShiftId !== null && day.ShiftId !== \"\")) {\r\n                    if (day.ShiftId === \"\") day.ShiftId = null;\r\n                    postData.Days.push({\r\n                        DayNumber: day.DayNumber,\r\n                        StartTime: day.StartTime ? day.StartTime.format('kk:mm') : null,\r\n                        FinishTime: day.FinishTime ? day.FinishTime.format('kk:mm') : null,\r\n                        Hours: day.Hours > 24 ? 24 : day.Hours,\r\n                        ShiftId: day.ShiftId,\r\n                    });\r\n                }\r\n            });\r\n\r\n            Dialog.loading()\r\n            // Remote.PostSchedule(postData).then(res => {\r\n            //     this.$emit('schedule-saved', res.Data);\r\n            //     if (this !== undefined &&\r\n            //         this.hasChanges !== undefined) {\r\n            //         this.hasChanges = false;\r\n            //     }\r\n            //     if (this !== undefined) {\r\n            //         // todo broken\r\n            //         // this.hasDataChanges = this.hasChanges;\r\n            //     }\r\n            // }).finally(() => {\r\n            //     Dialog.clear();\r\n            // })\r\n        },\r\n        formUpdated() {\r\n            this.hasChanges = true;\r\n        },\r\n\r\n        async openDatePicker($event: any) {\r\n            let element = $event.target.getClientRects()[0]\r\n            this.dateModalTop = element.bottom;\r\n            this.dateModalLeft = element.left;\r\n            this.detail.StartDate = await (this.$refs.DatePickerRef as any).toggleShow(this.detail.StartDate);\r\n        }\r\n    },\r\n\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.description-area {\r\n    flex-grow: 1;\r\n    height: 54px;\r\n}\r\n\r\n.form-label {\r\n    display: inline-block;\r\n    width: 120px;\r\n    font-weight: bold;\r\n}\r\n\r\n.label-detail {\r\n    display: inline-block;\r\n}\r\n\r\n.table-date-counter {\r\n    width: 70px;\r\n}\r\n\r\n.v-input--dense {\r\n    min-height: 0;\r\n}\r\n\r\n.shift-select-td ::v-deep .v-text-field .v-input__control .v-input__slot {\r\n    padding: 0 0 0 8px;\r\n}\r\n\r\n/*.v-text-field.v-text-field--enclosed:not(.v-text-field--rounded) > .v-input__control > .v-input__slot,*/\r\n.sched-detail-form .v-input--dense ::v-deep .v-input__control .v-input__slot {\r\n    min-height: 0;\r\n\r\n}\r\n\r\n.sched-detail-table {\r\n    overflow-y: scroll;\r\n    max-height: 480px;\r\n    overflow-x: auto;\r\n\r\n    table {\r\n        width: auto;\r\n        min-width: 340px;\r\n    }\r\n\r\n    .shift-min-width {\r\n        min-width: 460px;\r\n    }\r\n}\r\n\r\n.shift-select-td {\r\n    position: relative;\r\n    width: 120px;\r\n\r\n    .v-icon {\r\n        position: absolute;\r\n        right: 20px;\r\n        width: 0;\r\n    }\r\n}\r\n\r\n.shift-select {\r\n    width: 100%;\r\n    border: 1px solid grey;\r\n}\r\n\r\n.number-of-weeks {\r\n    @media screen and (max-width: 600px) {\r\n        width: 80%;\r\n        display: block !important;\r\n        margin-left: 0 !important;\r\n    }\r\n}\r\n\r\n.mobile-arrow {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-left: 5px;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        display: none;\r\n    }\r\n}\r\n\r\n.sched-detail-table-input {\r\n    width: 100%;\r\n    padding: 4px 10px;\r\n    border: 1px solid grey;\r\n    border-radius: 4px;\r\n    box-sizing: border-box;\r\n\r\n    &::-webkit-outer-spin-button,\r\n    &::-webkit-inner-spin-button {\r\n        -webkit-appearance: auto;\r\n\r\n    }\r\n\r\n\r\n    @media screen and (max-width: 600px) {\r\n        width: calc(100% - 20px);\r\n        display: block;\r\n        margin: 0 auto\r\n    }\r\n}\r\n\r\n.date-input {\r\n    width: 100px;\r\n    padding: 5px 0 5px 10px;\r\n    border-radius: 4px;\r\n    border: 1px solid rgba(0,0,0,.42);;\r\n    box-shadow: none;\r\n}\r\n\r\n.number-input {\r\n    padding: 5px 0 5px 10px;\r\n    border-radius: 4px;\r\n    border: 1px solid rgba(0,0,0,.42);;\r\n    box-shadow: none;\r\n}\r\n</style>\r\n","\r\nimport Vue, {defineComponent} from 'vue';\r\nimport moment from \"moment\";\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport {emitter} from '@/main';\r\nimport Dialog from \"@/components/dialog\";\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"schedule-detail\",\r\n    components: {\r\n        DatePicker\r\n    },\r\n    props: ['detail', 'shiftTypeList', 'readOnly'],\r\n    data: function () {\r\n        return {\r\n            // todo: bring back name length rule\r\n            // nameLengthRule: [v => v.length <= 49 || 'Max 50 characters'],\r\n            week: 1,\r\n            tablePadding: '0 0;',\r\n            hasChanges: false,\r\n            isDateToCleared: false,\r\n            shifts: <any[]>[],\r\n            showShift: true,\r\n            initialEmpSched: null,\r\n\r\n            startDateMenu: false,\r\n\r\n            //\r\n            dateModalTop: 0,\r\n            dateModalLeft: 0,\r\n\r\n            //  time picker\r\n            timePickerTargetDay: <any>null,\r\n            selectedTimeType: 'Start', // Start Finish\r\n        }\r\n    },\r\n    computed: {\r\n        isNewSchedule() {\r\n            let detail: any = this.detail\r\n            return detail.Id <= 0;\r\n        },\r\n\r\n\r\n    },\r\n    // created: function () {\r\n    // },\r\n\r\n    mounted: function () {\r\n        this.loadShiftTypes();\r\n\r\n        this.hasChanges = this.detail.Id == -1; //new schedules always haschanges\r\n\r\n        this.$emit(\"dataChanged\", this.hasChanges); // todo wtf is components? check what does this line do !!!\r\n\r\n        //Add missing 0 days\r\n        this.remapDays()\r\n    },\r\n    watch: {\r\n        ['detail'](newVal, oldVal) {\r\n            this.remapDays()\r\n\r\n            // todo: simplify this to create event\r\n            if (newVal != oldVal && newVal.Id == -1) {\r\n                this.detail.Days = [];\r\n                this.createNewDays(1, 1);\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        formSubmited($event: any) {\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n            return false\r\n          //\r\n        },\r\n        increaseNumber() {\r\n            this.detail.NoOfWeeks++;\r\n            this.updateNoOfWeeks()\r\n        },\r\n        reduceNumber() {\r\n            this.detail.NoOfWeeks--;\r\n            this.updateNoOfWeeks()\r\n        },\r\n        toggleShift() {\r\n            this.showShift = !this.showShift;\r\n        },\r\n        // todo: fix calendar\r\n        // getDay(date: any) {\r\n        //     const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n        //\r\n        //     let i = new Date(date).getDay(date)\r\n        //     return daysOfWeek[i]\r\n        // },\r\n        remapDays() {\r\n            var week = 0;\r\n            var date = moment(this.detail.StartDate);\r\n            var total = this.detail.NoOfWeeks * 7;\r\n\r\n            var fullDays = new Array(total);\r\n\r\n            for (var dayNum = 0; dayNum < total; dayNum++) {\r\n                if (dayNum % 7 == 0) {\r\n                    week++;\r\n                }\r\n\r\n                fullDays[dayNum] = {\r\n                    DayNumber: dayNum,\r\n                    DayOfWeek: date.day(),\r\n                    Week: week,\r\n                    Date: moment(date),\r\n                    Hours: 0,\r\n                    StartTime: null,\r\n                    FinishTime: null,\r\n                    ShiftId: null\r\n                };\r\n\r\n                date.add(1, 'day')\r\n            }\r\n\r\n            this.showShift = false;\r\n            this.detail.Days.map((day: any) => {\r\n                if (day.StartTime)\r\n                    fullDays[day.DayNumber].StartTime = moment(day.StartTime);\r\n                if (day.FinishTime)\r\n                    fullDays[day.DayNumber].FinishTime = moment(day.FinishTime);\r\n                fullDays[day.DayNumber].Hours = day.Hours;\r\n                fullDays[day.DayNumber].ShiftId = day.ShiftId;\r\n            });\r\n            this.detail.Days = fullDays;\r\n            this.detail.StartDate = moment(this.detail.StartDate);\r\n            this.hasChanges = false;\r\n        },\r\n\r\n        timeTextChanged(input: any, d: any, type: string) {\r\n            let pickedTime = moment(input.target.value, 'HH:mm');\r\n\r\n            if (type === 'FinishTime') {\r\n                if (d.FinishTime && pickedTime.hour() === d.FinishTime.hour() && pickedTime.minute() === d.FinishTime.minute()) {\r\n                    return\r\n                }\r\n\r\n                if (input === '') {\r\n                    d.FinishTime = null;\r\n                    return\r\n                }\r\n\r\n                d.FinishTime = pickedTime;\r\n            } else {\r\n                if (d.StartTime && pickedTime.hour() === d.StartTime.hour() && pickedTime.minute() === d.StartTime.minute()) {\r\n                    return\r\n                }\r\n\r\n                if (input === '') {\r\n                    d.StartTime = null;\r\n                    return\r\n                }\r\n\r\n                d.StartTime = pickedTime;\r\n            }\r\n\r\n            this.timePickerTargetDay = d;\r\n            this.autoCalcTime(type)\r\n\r\n            this.hasChanges = true;\r\n            // this.timeModal = false;\r\n            console.log('timeTextChanged')\r\n        },\r\n\r\n        autoCalcTime(type: any) {\r\n            let targetDay = this.timePickerTargetDay\r\n            if (targetDay.FinishTime && targetDay.FinishTime.format('HH:mm') !== \"00:00\"\r\n                && targetDay.StartTime && targetDay.StartTime.format('HH:mm') !== \"00:00\"\r\n                && (!targetDay.Hours || targetDay.Hours === 0)) { // auto calc hours\r\n                // set year month day to same\r\n                targetDay.FinishTime.year(targetDay.StartTime.year())\r\n                targetDay.FinishTime.month(targetDay.StartTime.month())\r\n                targetDay.FinishTime.day(targetDay.StartTime.day())\r\n                let timeDiff = targetDay.FinishTime.startOf('minute').diff(targetDay.StartTime.startOf('minute'), 'hours', true);\r\n\r\n                targetDay.Hours = Math.round(timeDiff * 100) / 100;\r\n            } else if (targetDay.FinishTime && targetDay.Hours\r\n                && (!targetDay.StartTime || targetDay.StartTime.format('HH:mm') === \"00:00\")) { // auto calc start time\r\n                targetDay.StartTime = targetDay.FinishTime.clone().subtract(targetDay.Hours, 'hours')\r\n            } else if (targetDay.StartTime && targetDay.Hours\r\n                && (!targetDay.FinishTime || targetDay.FinishTime.format('HH:mm') === \"00:00\")) { // auto calc finish time\r\n                targetDay.FinishTime = targetDay.StartTime.clone().add(targetDay.Hours, 'hours')\r\n            } else if (targetDay.FinishTime && targetDay.FinishTime.format('HH:mm') !== \"00:00\"\r\n                && targetDay.StartTime && targetDay.StartTime.format('HH:mm') !== \"00:00\"\r\n                && (targetDay.Hours || targetDay.Hours !== 0)) { // otherwise all blank filled.\r\n                console.log('type', type)\r\n                if (type === 'StartTime') {\r\n                    targetDay.FinishTime = targetDay.StartTime.clone().add(targetDay.Hours, 'hours')\r\n                } else if (type === 'FinishTime') {\r\n                    targetDay.StartTime = targetDay.FinishTime.clone().subtract(targetDay.Hours, 'hours')\r\n                }\r\n            }\r\n        },\r\n\r\n        updateDateText(event: any, target: any) {\r\n            this.startDateMenu = false\r\n            target.set(moment(event, 'DD/MM/YYYY').toObject())\r\n            // todo: add check for is correct format\r\n            this.remapDays()\r\n        },\r\n\r\n        startDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.detail.StartDate = date;\r\n            this.remapDays()\r\n        },\r\n\r\n        isFirstDayOfWeek: function (dayNo: any) {\r\n            var startDate = moment(this.detail.StartDate);\r\n            return dayNo == startDate.day();\r\n        },\r\n        loadShiftTypes: function () {\r\n            var list = this.shiftTypeList;\r\n\r\n            for (var i = 0; i < list.length; i++) {\r\n                if (list[i].ShiftType !== undefined &&\r\n                    list[i].ShiftType !== null &&\r\n                    list[i].ShiftType.length <= 5) {\r\n                    var shiftType: any = {\r\n                        name: list[i].ShiftType\r\n                    };\r\n                    this.shifts.push(shiftType);\r\n                }\r\n            }\r\n\r\n            this.shifts.sort(function (a, b) {\r\n                var x = a.name.toLowerCase();\r\n                var y = b.name.toLowerCase();\r\n                if (x < y) {\r\n                    return -1;\r\n                }\r\n                if (x > y) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            });\r\n        },\r\n\r\n        getDayOfWeek: function (dayNo: number) {\r\n            if (dayNo < 0 || dayNo > 6) {\r\n                console.error('day No not correct')\r\n                return 'unknown';\r\n            }\r\n\r\n            var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat'];\r\n            return days[dayNo];\r\n        },\r\n\r\n        checkHour(targetDay: any) {\r\n            this.hasChanges = true;\r\n\r\n            if (targetDay.Hours > 24) {\r\n                Dialog.alert('You can only enter up to 24 hours.')\r\n                targetDay.Hours = 24\r\n                return;\r\n            }\r\n\r\n            console.log('hour', targetDay.Hours)\r\n            if (targetDay.StartTime && targetDay.Hours && targetDay.FinishTime) {\r\n                targetDay.FinishTime = targetDay.StartTime.clone().add(targetDay.Hours, 'hours')\r\n            } else if (targetDay.StartTime && targetDay.Hours) {\r\n                targetDay.FinishTime = targetDay.StartTime.clone().add(targetDay.Hours, 'hours')\r\n            } else if (targetDay.Hours && targetDay.FinishTime) {\r\n                targetDay.StartTime = targetDay.FinishTime.clone().add(targetDay.Hours, 'hours')\r\n            }\r\n        },\r\n\r\n        updateNoOfWeeks($event?: any) {\r\n            let dayNum = this.detail.Days.length;\r\n            let currentWeek = Math.floor(dayNum / 7);\r\n\r\n            if (this.detail.NoOfWeeks > currentWeek) {\r\n                this.createNewDays(currentWeek + 1, this.detail.NoOfWeeks)\r\n            } else {\r\n                let newLength = this.detail.NoOfWeeks * 7;\r\n                this.detail.Days.splice(newLength);\r\n            }\r\n        },\r\n\r\n        numLimitKeyDown: function (event: any, allowDecimal: boolean, allowColon: boolean) {\r\n            let allow = [8, 9, 13, 46, 16, 17]; // backspace, del, tab, shift, ctrl, dot\r\n            allow.push(65, 67, 86, 88); // a, c, v, x\r\n\r\n            if (allowDecimal)\r\n                allow.push(190, 110); //.\r\n\r\n            if (allowColon) allow.push(186)\r\n\r\n            if ((event.keyCode >= 48 && event.keyCode <= 57) || //key board numbers\r\n                (event.keyCode >= 96 && event.keyCode <= 105) || //key pad numbers\r\n                allow.indexOf(event.keyCode) > -1) { //various keys\r\n                // all good!\r\n            } else {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n        },\r\n\r\n        cancelChanges() {\r\n            if (!this.hasChanges) {\r\n                this.$emit('cancel');\r\n                return;\r\n            }\r\n\r\n            let msg = 'You haven\\'t saved your changes.  <br /> Are you sure you want to cancel?';\r\n            Dialog.checkChange({\r\n                message: msg,\r\n                confirmButtonText: 'Yes',\r\n                cancelButtonText: 'No',\r\n                onOk: () => {\r\n                    this.hasChanges = false;\r\n                    this.$emit('cancel')\r\n                }\r\n            })\r\n\r\n        },\r\n\r\n        // todo: use reload to clean the changes\r\n        reloadDetail: function () {\r\n            if (!this.hasChanges)\r\n                return;\r\n            // toodo: add has change check\r\n            this.$emit('reload');\r\n        },\r\n\r\n        createNewDays: function (fromWeek: any, toWeek: any) {\r\n            if (fromWeek > toWeek)\r\n                return;\r\n\r\n            var week = fromWeek;\r\n            var dayNum = this.detail.Days.length;\r\n            while (week <= toWeek) {\r\n                var date = moment(this.detail.StartDate);\r\n                date.add(dayNum, 'day');\r\n                this.detail.Days.push({\r\n                    DayNumber: dayNum,\r\n                    DayOfWeek: date.day(),\r\n                    Week: week,\r\n                    Date: date,\r\n                    Hours: 0,\r\n                    StartTime: null,\r\n                    FinishTime: null,\r\n                    ShiftId: null,\r\n                    startDateModal: false,\r\n                    endDateModal: false\r\n                })\r\n                dayNum++;\r\n                week = Math.floor(dayNum / 7) + 1;\r\n            }\r\n        },\r\n\r\n        archiveSchedule: function () {\r\n            if (this.hasChanges)\r\n                return;\r\n\r\n            if (this.detail.Archive) {\r\n                Dialog.alert('Unable to archive schedule, it\\'s already archived.')\r\n            } else {\r\n                this.detail.Archive = true;\r\n                this.doUpdateDetail();\r\n            }\r\n        },\r\n\r\n        deleteSchedule: function () {\r\n            if (this.hasChanges)\r\n                return;\r\n\r\n            if (this.detail.EmpAllocations.length > 0) {\r\n                Dialog.alert('Unable to delete schedule, it\\'s currently allocated to employees')\r\n            } else {\r\n                emitter.emit('dialog', {\r\n                    message: \"Are you sure you want to permanently delete this work schedule?\",\r\n                    showButtons: true,\r\n                    showCancel: true,\r\n                    okColor: 'red',\r\n                    onOk: () => {\r\n                        this.doDeleteSchedule();\r\n                    },\r\n                    onCancel: () => {\r\n                    }\r\n                })\r\n            }\r\n        },\r\n\r\n        doDeleteSchedule: function () {\r\n            Dialog.loading()\r\n\r\n            Remote.DeleteSchedule(this.detail.Id).then(res => {\r\n                this.$emit('schedule-deleted');\r\n                Dialog.clear()\r\n            })\r\n        },\r\n\r\n        updateDetail: function () {\r\n            if (!this.hasChanges)\r\n                return;\r\n\r\n            if (!this.doUpdateValidation()) {\r\n                return;\r\n            }\r\n\r\n            this.doUpdateDetail();\r\n        },\r\n        doUpdateValidation: function () {\r\n            console.log('validation')\r\n            if ((!this.detail.Name && !this.detail.Description)\r\n                || (this.detail.Name === '' && this.detail.Description === '')) {\r\n                Dialog.alert('Schedule name cannot be blank. <br /> Schedule description cannot be blank.')\r\n                return false;\r\n            }\r\n\r\n            if (!this.detail.Name || this.detail.Name === '') {\r\n                Dialog.alert('Schedule name cannot be blank.')\r\n                return false;\r\n            }\r\n\r\n            if (!this.detail.Description || this.detail.Description === '') {\r\n                Dialog.alert('Schedule description cannot be blank.')\r\n                return false;\r\n            }\r\n\r\n            if (this.detail.Name !== undefined &&\r\n                this.detail.Name !== null &&\r\n                this.detail.Name.length > 50) {\r\n                Dialog.alert('Schedule names must be 50 characters or fewer (including spaces).')\r\n                return false;\r\n            }\r\n\r\n            if (this.detail.Description !== undefined &&\r\n                this.detail.Description !== null &&\r\n                this.detail.Description.length > 50) {\r\n                Dialog.alert('Schedule descriptions must be 50 characters or fewer (including spaces).')\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n        doUpdateDetail: function () {\r\n            var postData = {\r\n                Id: this.detail.Id,\r\n                NoOfWeeks: this.detail.NoOfWeeks,\r\n                StartDate: moment(this.detail.StartDate).format('DD/MMM/YYYY'),\r\n                Name: this.detail.Name,\r\n                Description: this.detail.Description,\r\n                Archive: this.detail.Archive,\r\n                Days: <any[]>[]\r\n            }\r\n            console.log('doUpdateDetail this.detail', this.detail)\r\n\r\n            this.detail.Days.map(function (day: any) {\r\n                if (day.Hours > 0 ||\r\n                    (day.ShiftId !== null && day.ShiftId !== \"\")) {\r\n                    if (day.ShiftId === \"\") day.ShiftId = null;\r\n                    postData.Days.push({\r\n                        DayNumber: day.DayNumber,\r\n                        StartTime: day.StartTime ? day.StartTime.format('kk:mm') : null,\r\n                        FinishTime: day.FinishTime ? day.FinishTime.format('kk:mm') : null,\r\n                        Hours: day.Hours > 24 ? 24 : day.Hours,\r\n                        ShiftId: day.ShiftId,\r\n                    });\r\n                }\r\n            });\r\n\r\n            Dialog.loading()\r\n            // Remote.PostSchedule(postData).then(res => {\r\n            //     this.$emit('schedule-saved', res.Data);\r\n            //     if (this !== undefined &&\r\n            //         this.hasChanges !== undefined) {\r\n            //         this.hasChanges = false;\r\n            //     }\r\n            //     if (this !== undefined) {\r\n            //         // todo broken\r\n            //         // this.hasDataChanges = this.hasChanges;\r\n            //     }\r\n            // }).finally(() => {\r\n            //     Dialog.clear();\r\n            // })\r\n        },\r\n        formUpdated() {\r\n            this.hasChanges = true;\r\n        },\r\n\r\n        async openDatePicker($event: any) {\r\n            let element = $event.target.getClientRects()[0]\r\n            this.dateModalTop = element.bottom;\r\n            this.dateModalLeft = element.left;\r\n            this.detail.StartDate = await (this.$refs.DatePickerRef as any).toggleShow(this.detail.StartDate);\r\n        }\r\n    },\r\n\r\n})\r\n","import { render } from \"./ScheduleDetail.vue?vue&type=template&id=348312c8&scoped=true\"\nimport script from \"./ScheduleDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./ScheduleDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./ScheduleDetail.vue?vue&type=style&index=0&id=348312c8&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-348312c8\"\n\nexport default script","<template>\r\n    <div id=\"sched-man-list \" class=\"sched-man-list mt-4\" v-show=\"!createNew\">\r\n        <div>\r\n            <div class=\"d-flex align-center flex-wrap\">\r\n                <input v-model=\"filters.searchTerm\" type=\"text\" placeholder=\"Search for schedules\" hide-details\r\n                       class=\"sched-search-box body-2 underline-input\"/>\r\n                <div class=\"filter-dropdown\">\r\n                    <div class=\"custom-select\" tabindex=\"1\" ref=\"selectRef\">\r\n                        <div class=\"custom-select-selected\">\r\n                            {{filters.selected}}\r\n                        </div>\r\n                        <div class=\"custom-select-items\">\r\n                            <div class=\"custom-select-item\"\r\n                                 v-for=\"(option, index) in filters.options\" :key=\"index\"\r\n                                 :tabindex=\"index+99\"\r\n                                 @click=\"choseFilter($event, option)\">\r\n                                <div class=\"cell-config\">\r\n                                    {{ option }}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button class=\"blue ml-2 small\" @click=\"createNewSchedule()\">\r\n                    <span class=\"icon-plus btn-icon white\"></span>\r\n                    <span class=\"font-weight-regular text-capitalize white\">&nbsp;Create</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class=\"aff-table sche-search-table mt-4\">\r\n            <table class=\"ui-grid\">\r\n                <thead>\r\n                <tr>\r\n                    <th style=\"width: 120px\" @click=\"updateSort(0)\">Name <span\r\n                        v-bind:class=\"{'icon-arrow-line-small-down': filters.orderByArrow[0] === 'Asc', 'icon-arrow-line-small-up': filters.orderByArrow[0] === 'Desc'}\"></span>\r\n                    </th>\r\n                    <th @click=\"updateSort(1)\">Description <span\r\n                        v-bind:class=\"{'icon-arrow-line-small-down': filters.orderByArrow[1] === 'Asc', 'icon-arrow-line-small-up': filters.orderByArrow[1] === 'Desc'}\"></span>\r\n                    </th>\r\n                    <th style=\"width: 70px\" class=\"text-center\" @click=\"updateSort(2)\">Weeks <span\r\n                        v-bind:class=\"{'icon-arrow-line-small-down': filters.orderByArrow[2] === 'Asc', 'icon-arrow-line-small-up': filters.orderByArrow[2] === 'Desc'}\"></span>\r\n                    </th>\r\n                    <th style=\"width: 60px\" class=\"text-center\" @click=\"updateSort(3)\">H/W <span\r\n                        v-bind:class=\"{'icon-arrow-line-small-down': filters.orderByArrow[3] === 'Asc', 'icon-arrow-line-small-up': filters.orderByArrow[3] === 'Desc'}\"></span>\r\n                    </th>\r\n                    <th style=\"width: 80px\" class=\"text-center\" @click=\"updateSort(4)\">Allocated<span\r\n                        v-bind:class=\"{'icon-arrow-line-small-down': filters.orderByArrow[4] === 'Asc', 'icon-arrow-line-small-up': filters.orderByArrow[4] === 'Desc'}\"></span>\r\n                    </th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"sched in schedList\" @click=\"selectSchedulesDetail(sched)\"\r\n                    v-bind:class=\"sched.classObject\">\r\n                    <td style=\"width: 50px;\">\r\n                        <div>{{ sched.Name }}</div>\r\n                    </td>\r\n                    <td style=\"width: 100px;\"\r\n                        v-tooltip.right=\"{content: sched.Description, delay: {show: 3000, hide: 100}}\">\r\n                        <!--                        v-tooltip.right=\"{content: sched.Description,-->\r\n                        <!--                        class: 'tooltip-custom tooltip-other-custom'}\"-->\r\n                        <div class=\"sched-search-desc\">\r\n                            {{ sched.Description }}\r\n                        </div>\r\n                    </td>\r\n                    <td class=\"text-center\">\r\n                        <div>{{ sched.NoOfWeeks }}</div>\r\n                    </td>\r\n                    <td class=\"text-center\">\r\n                        <div>{{ sched.HoursPerWeek }}</div>\r\n                    </td>\r\n                    <td class=\"text-center\">\r\n                        <div>{{ sched.Count }}</div>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue, {defineComponent} from \"vue\";\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport moment from \"moment\";\r\nimport Dialog from '@/components/dialog'\r\n\r\nexport default defineComponent({\r\n    name: \"SearchSchedule\",\r\n    data() {\r\n        return {\r\n            selectedSched: <any>null,\r\n            schedList: [],\r\n            shiftTypeList: [],\r\n            schedDetail: null,\r\n            createNew: false,\r\n            empListHeight: '',\r\n            showFilters: true,\r\n            // checkboxes\r\n\r\n            filters: {\r\n                searchTerm: '',\r\n                sort: 'Name',\r\n                sortOptions: ['Name', 'Description', 'NoOfWeeks', 'HoursPerWeek', 'Count'],\r\n                orderBy: 'Asc',\r\n                orderByArrow: ['Asc', 'Asc', 'Asc', 'Asc', 'Asc'],\r\n\r\n                partTimeSche: false,\r\n                fullTimeSche: true,\r\n                activeSche: true,\r\n                inActiveSche: false,\r\n                archivedSche: false,\r\n                options: ['Show All', 'Show Active', 'Show Inactive', 'Show Archived'],\r\n                selected: 'Show Active',\r\n                all: false,\r\n            },\r\n            searchTermFocus: false\r\n        }\r\n    },\r\n\r\n    mounted: function () {\r\n        this.showFilters = true;\r\n        this.getSchedulesList();\r\n\r\n        console.log('schedules management created');\r\n        this.$watch('filters', this.refreshFilters, {deep: true});\r\n\r\n        console.log('schedules ready created');\r\n    },\r\n    methods: {\r\n        choseFilter($event: any, selected: any) {\r\n            $event.target.blur()\r\n\r\n            this.filters.selected = selected;\r\n\r\n            let a = $event.target.blur();\r\n            console.log('fawef', a)\r\n\r\n            // console.log('a')\r\n\r\n            // console.log('$event', $event)\r\n\r\n            let b = (this.$refs.selectRef as any);\r\n            b.blur();\r\n        },\r\n        createNewSchedule() {\r\n            this.$emit('createNewSchedule')\r\n        },\r\n        selectSchedulesDetail(sched: any) {\r\n            this.schedList.map((sched: any) => {\r\n                sched.classObject.selected = false;\r\n            })\r\n            sched.classObject.selected = true;\r\n            this.selectedSched = sched;\r\n            this.$emit('selectSchedFromSearch', this.selectedSched)\r\n        },\r\n        deselectScheDetail() {\r\n            this.schedList.forEach((sched: any) => {\r\n                sched.classObject.selected = false;\r\n            })\r\n            this.selectedSched = null;\r\n        },\r\n\r\n        toggleFilters: function () {\r\n            this.showFilters = !this.showFilters;\r\n        },\r\n        refreshFilters: function () {\r\n\r\n            //Sort\r\n            var vm: any = this;\r\n\r\n            this.schedList.sort(function (x: any, y: any) {\r\n                var order = 1;\r\n\r\n                if (vm.filters.orderBy === 'Desc')\r\n                    order = -1;\r\n                var xString\r\n                var yString\r\n                if (typeof x[vm.filters.sort] === 'string') {\r\n                    xString = x[vm.filters.sort].toLowerCase();\r\n                    yString = y[vm.filters.sort].toLowerCase();\r\n                } else {\r\n                    xString = x[vm.filters.sort];\r\n                    yString = y[vm.filters.sort];\r\n                }\r\n\r\n\r\n                if (xString < yString) {\r\n                    return -1 * order;\r\n                } else if (xString > yString) {\r\n                    return 1 * order;\r\n                } else {\r\n                    return 0;\r\n                }\r\n            })\r\n\r\n            var searchTerm = this.filters.searchTerm.toLowerCase().trim();\r\n            this.schedList.forEach((sched: any) => {\r\n                sched.classObject.selected = vm.selectedSched ? vm.selectedSched.Id == sched.Id : false;\r\n                sched.classObject.visible = true;\r\n\r\n                // if all filter are selected\r\n                if (this.filters.all) {\r\n                    sched.classObject.visible = true\r\n                } else {\r\n                    //Type filter\r\n                    // sched.classObject.visible = this.getCheckboxFilterResult(sched);\r\n                    sched.classObject.visible = this.getDropDownFilterResult(sched);\r\n                    //search term\r\n                    if (sched.classObject.visible && searchTerm.length != 0) {\r\n                        sched.classObject.visible = (sched.Name.toLowerCase().indexOf(searchTerm) !== -1\r\n                            || sched.Description.toLowerCase().indexOf(searchTerm) !== -1) && sched.classObject.visible;\r\n                    }\r\n                }\r\n\r\n                sched.classObject.hidden = !sched.classObject.visible;\r\n            });\r\n\r\n            console.log('sched refresh filter', this.schedList)\r\n        },\r\n\r\n        getDropDownFilterResult(sched: any) {\r\n            // All', 'Active', 'InActive', 'Archived'\r\n            switch (this.filters.selected) {\r\n                case 'Show All':\r\n                    return true;\r\n                case 'Show Active':\r\n                    return sched.isActive === true && sched.Archive === false;\r\n                case 'Show Inactive':\r\n                    return sched.isActive === false && sched.Archive === false;\r\n                case 'Show Archived':\r\n                    return sched.Archive === true;\r\n            }\r\n        },\r\n\r\n        getSchedulesList: function () {\r\n            Dialog.loading()\r\n            Remote.StandardSchedules().then(response => {\r\n                console.log('response', response)\r\n                var weeks = [];\r\n\r\n                response.Data.map((sched: any) => {\r\n                    sched.classObject = {\r\n                        selected: false,\r\n                        visible: true,\r\n                        hidden: false\r\n                    };\r\n\r\n                    if (this.selectedSched && this.selectedSched.Id === sched.Id) {\r\n\r\n                        this.selectedSched = sched;\r\n                        sched.classObject.selected = true;\r\n                    }\r\n\r\n                    weeks.push(sched.NoOfWeeks)\r\n\r\n                })\r\n                weeks.unshift('All');\r\n                this.schedList = response.Data;\r\n                this.refreshFilters();\r\n                Dialog.clear();\r\n            })\r\n        },\r\n        updateSort: function (sortIndex: number) {\r\n            this.filters.orderBy = this.filters.orderByArrow[sortIndex] = this.filters.orderByArrow[sortIndex] === 'Asc' ? 'Desc' : 'Asc';\r\n            this.filters.sort = this.filters.sortOptions[sortIndex];\r\n            // reset other arrows;\r\n            this.filters.orderByArrow.forEach((arrow, index) => {\r\n                if (index !== sortIndex) {\r\n                    arrow = 'Asc'\r\n                }\r\n            })\r\n        },\r\n\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@use '../../style/colors';\r\n\r\n.sched-man-list {\r\n    max-height: 400px;\r\n    max-height: 80vh;\r\n    min-height: 100px;\r\n\r\n    .section-table {\r\n        height: 90%;\r\n        padding-bottom: 20px;\r\n        overflow: auto;\r\n    }\r\n\r\n    @media screen and (max-width: 1200px) {\r\n        /*height: 200px;*/\r\n    }\r\n}\r\n\r\n.sched-search-box {\r\n    margin-right: 16px;\r\n    flex-grow: 1;\r\n    @media screen and (max-width: 600px) {\r\n        width: 100%;\r\n        margin-right: 0;\r\n    }\r\n}\r\n\r\n.emp-sched-list {\r\n    margin-bottom: 20px;\r\n    margin-right: 30px;\r\n    overflow-y: auto;\r\n    max-height: 300px;\r\n    min-height: 140px;\r\n}\r\n\r\n.sched-man-filters {\r\n    margin: 0 10px 10px 0;\r\n\r\n    .label-width-120 {\r\n        display: inline-block;\r\n        width: 120px;\r\n    }\r\n\r\n    .label-width-70 {\r\n        display: inline-block;\r\n        width: 70px;\r\n    }\r\n\r\n    .v-input {\r\n        display: inline-flex;\r\n        font-size: 12px;\r\n    }\r\n\r\n    span {\r\n        margin-right: 5px;\r\n    }\r\n\r\n    select {\r\n        width: auto;\r\n        padding: 2px 5px;\r\n    }\r\n}\r\n\r\n.sche-search-table {\r\n    overflow: auto;\r\n    max-height: 600px;\r\n\r\n    table {\r\n        min-width: 530px;\r\n        table-layout: fixed;\r\n\r\n        tr {\r\n            cursor: pointer;\r\n        }\r\n\r\n        td {\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n        }\r\n    }\r\n\r\n    @media screen and (max-width: 600px) {\r\n        max-height: 230px;\r\n    }\r\n}\r\n\r\n.sched-search-desc {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: inline-block;\r\n    line-height: 1;\r\n    vertical-align: middle;\r\n}\r\n\r\n.filter-dropdown {\r\n    width: 120px;\r\n}\r\n\r\n.cell-config {\r\n    pointer-events: none;\r\n}\r\n\r\n.custom-select {\r\n    font-size: 12px;\r\n}\r\n\r\n.custom-select-selected {\r\n    padding: 4px 1.5em 4px 0.2em;\r\n    border: none;\r\n    border-radius: 0;\r\n    background-color: transparent;\r\n    border-bottom: 1px solid rgba(colors.$grey, 0.7);\r\n\r\n}\r\n\r\n.custom-select-selected:after {\r\n    top: 8px;\r\n    right: 0;\r\n}\r\n\r\n.custom-select:focus-within {\r\n    .custom-select-selected {\r\n        border: none;\r\n        border-radius: 0;\r\n        border-bottom: 1px solid colors.$aff-dark-blue;\r\n    }\r\n\r\n    .custom-select-selected:after {\r\n        transform: rotate(180deg);\r\n        top: 4px;\r\n    }\r\n}\r\n\r\n.custom-select-items {\r\n    background: white;\r\n    width: max-content;\r\n}\r\n\r\n.custom-select-item {\r\n    color: colors.$dark-blue-app;\r\n    // padding-left: 1em;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    padding: 4px 1em;\r\n}\r\n\r\n.custom-select-item:hover {\r\n    color: colors.$aff-dark-blue;\r\n    background-color: lighten(colors.$aff-blue, 50%);\r\n}\r\n\r\n</style>","\r\nimport Vue, {defineComponent} from \"vue\";\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport moment from \"moment\";\r\nimport Dialog from '@/components/dialog'\r\n\r\nexport default defineComponent({\r\n    name: \"SearchSchedule\",\r\n    data() {\r\n        return {\r\n            selectedSched: <any>null,\r\n            schedList: [],\r\n            shiftTypeList: [],\r\n            schedDetail: null,\r\n            createNew: false,\r\n            empListHeight: '',\r\n            showFilters: true,\r\n            // checkboxes\r\n\r\n            filters: {\r\n                searchTerm: '',\r\n                sort: 'Name',\r\n                sortOptions: ['Name', 'Description', 'NoOfWeeks', 'HoursPerWeek', 'Count'],\r\n                orderBy: 'Asc',\r\n                orderByArrow: ['Asc', 'Asc', 'Asc', 'Asc', 'Asc'],\r\n\r\n                partTimeSche: false,\r\n                fullTimeSche: true,\r\n                activeSche: true,\r\n                inActiveSche: false,\r\n                archivedSche: false,\r\n                options: ['Show All', 'Show Active', 'Show Inactive', 'Show Archived'],\r\n                selected: 'Show Active',\r\n                all: false,\r\n            },\r\n            searchTermFocus: false\r\n        }\r\n    },\r\n\r\n    mounted: function () {\r\n        this.showFilters = true;\r\n        this.getSchedulesList();\r\n\r\n        console.log('schedules management created');\r\n        this.$watch('filters', this.refreshFilters, {deep: true});\r\n\r\n        console.log('schedules ready created');\r\n    },\r\n    methods: {\r\n        choseFilter($event: any, selected: any) {\r\n            $event.target.blur()\r\n\r\n            this.filters.selected = selected;\r\n\r\n            let a = $event.target.blur();\r\n            console.log('fawef', a)\r\n\r\n            // console.log('a')\r\n\r\n            // console.log('$event', $event)\r\n\r\n            let b = (this.$refs.selectRef as any);\r\n            b.blur();\r\n        },\r\n        createNewSchedule() {\r\n            this.$emit('createNewSchedule')\r\n        },\r\n        selectSchedulesDetail(sched: any) {\r\n            this.schedList.map((sched: any) => {\r\n                sched.classObject.selected = false;\r\n            })\r\n            sched.classObject.selected = true;\r\n            this.selectedSched = sched;\r\n            this.$emit('selectSchedFromSearch', this.selectedSched)\r\n        },\r\n        deselectScheDetail() {\r\n            this.schedList.forEach((sched: any) => {\r\n                sched.classObject.selected = false;\r\n            })\r\n            this.selectedSched = null;\r\n        },\r\n\r\n        toggleFilters: function () {\r\n            this.showFilters = !this.showFilters;\r\n        },\r\n        refreshFilters: function () {\r\n\r\n            //Sort\r\n            var vm: any = this;\r\n\r\n            this.schedList.sort(function (x: any, y: any) {\r\n                var order = 1;\r\n\r\n                if (vm.filters.orderBy === 'Desc')\r\n                    order = -1;\r\n                var xString\r\n                var yString\r\n                if (typeof x[vm.filters.sort] === 'string') {\r\n                    xString = x[vm.filters.sort].toLowerCase();\r\n                    yString = y[vm.filters.sort].toLowerCase();\r\n                } else {\r\n                    xString = x[vm.filters.sort];\r\n                    yString = y[vm.filters.sort];\r\n                }\r\n\r\n\r\n                if (xString < yString) {\r\n                    return -1 * order;\r\n                } else if (xString > yString) {\r\n                    return 1 * order;\r\n                } else {\r\n                    return 0;\r\n                }\r\n            })\r\n\r\n            var searchTerm = this.filters.searchTerm.toLowerCase().trim();\r\n            this.schedList.forEach((sched: any) => {\r\n                sched.classObject.selected = vm.selectedSched ? vm.selectedSched.Id == sched.Id : false;\r\n                sched.classObject.visible = true;\r\n\r\n                // if all filter are selected\r\n                if (this.filters.all) {\r\n                    sched.classObject.visible = true\r\n                } else {\r\n                    //Type filter\r\n                    // sched.classObject.visible = this.getCheckboxFilterResult(sched);\r\n                    sched.classObject.visible = this.getDropDownFilterResult(sched);\r\n                    //search term\r\n                    if (sched.classObject.visible && searchTerm.length != 0) {\r\n                        sched.classObject.visible = (sched.Name.toLowerCase().indexOf(searchTerm) !== -1\r\n                            || sched.Description.toLowerCase().indexOf(searchTerm) !== -1) && sched.classObject.visible;\r\n                    }\r\n                }\r\n\r\n                sched.classObject.hidden = !sched.classObject.visible;\r\n            });\r\n\r\n            console.log('sched refresh filter', this.schedList)\r\n        },\r\n\r\n        getDropDownFilterResult(sched: any) {\r\n            // All', 'Active', 'InActive', 'Archived'\r\n            switch (this.filters.selected) {\r\n                case 'Show All':\r\n                    return true;\r\n                case 'Show Active':\r\n                    return sched.isActive === true && sched.Archive === false;\r\n                case 'Show Inactive':\r\n                    return sched.isActive === false && sched.Archive === false;\r\n                case 'Show Archived':\r\n                    return sched.Archive === true;\r\n            }\r\n        },\r\n\r\n        getSchedulesList: function () {\r\n            Dialog.loading()\r\n            Remote.StandardSchedules().then(response => {\r\n                console.log('response', response)\r\n                var weeks = [];\r\n\r\n                response.Data.map((sched: any) => {\r\n                    sched.classObject = {\r\n                        selected: false,\r\n                        visible: true,\r\n                        hidden: false\r\n                    };\r\n\r\n                    if (this.selectedSched && this.selectedSched.Id === sched.Id) {\r\n\r\n                        this.selectedSched = sched;\r\n                        sched.classObject.selected = true;\r\n                    }\r\n\r\n                    weeks.push(sched.NoOfWeeks)\r\n\r\n                })\r\n                weeks.unshift('All');\r\n                this.schedList = response.Data;\r\n                this.refreshFilters();\r\n                Dialog.clear();\r\n            })\r\n        },\r\n        updateSort: function (sortIndex: number) {\r\n            this.filters.orderBy = this.filters.orderByArrow[sortIndex] = this.filters.orderByArrow[sortIndex] === 'Asc' ? 'Desc' : 'Asc';\r\n            this.filters.sort = this.filters.sortOptions[sortIndex];\r\n            // reset other arrows;\r\n            this.filters.orderByArrow.forEach((arrow, index) => {\r\n                if (index !== sortIndex) {\r\n                    arrow = 'Asc'\r\n                }\r\n            })\r\n        },\r\n\r\n    }\r\n})\r\n","import { render } from \"./SearchSchedule.vue?vue&type=template&id=2bb750bc&scoped=true\"\nimport script from \"./SearchSchedule.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchSchedule.vue?vue&type=script&lang=ts\"\n\nimport \"./SearchSchedule.vue?vue&type=style&index=0&id=2bb750bc&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2bb750bc\"\n\nexport default script","\r\nimport moment from 'moment';\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport ScheduleDetail from \"@/components/scheduleDetail/ScheduleDetail.vue\";\r\nimport SearchSchedule from \"@/components/schedulesManagement/SearchSchedule.vue\";\r\nimport Dialog from \"@/components/dialog\";\r\nimport {defineComponent} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: 'schedulesManagement',\r\n    components: {\r\n        SearchSchedule,\r\n        'schedule-detail': ScheduleDetail,\r\n    },\r\n    data() {\r\n        return {\r\n            selectedSched: <any>null,\r\n            shiftTypeList: [],\r\n            schedDetail: <any>null,\r\n            createNew: false,\r\n            empListHeight: '',\r\n            showActiveSchedule: true,\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getShiftTypeList();\r\n    },\r\n    methods: {\r\n        getShiftTypeList: function () {\r\n            Remote.ShiftTypes().then(res => {\r\n                this.shiftTypeList = res\r\n            })\r\n        },\r\n\r\n        toggleShowActiveSchedule() {\r\n            this.showActiveSchedule = !this.showActiveSchedule;\r\n        },\r\n\r\n        selectSchedulesDetail(sched: any) {\r\n            if (this.$refs.detail && (this.$refs as any).detail.hasChanges) {\r\n                Dialog.checkChange({\r\n                    message: 'There are currently Schedule Detail changes <br /> Do you want to discard your changes?',\r\n                    onOk: () => {\r\n                        this.loadScheduleDetail(sched)\r\n                    }\r\n                })\r\n            } else {\r\n                this.loadScheduleDetail(sched)\r\n            }\r\n        },\r\n\r\n        loadScheduleDetail(sched: any) {\r\n            Dialog.loading()\r\n            Remote.ScheduleDetail(sched.Id).then(res => {\r\n                this.schedDetail = res.Data\r\n                this.checkEmpAllocationActive()\r\n                Dialog.clear();\r\n                this.selectedSched = sched;\r\n            }, (err) => {\r\n                Dialog.clear();\r\n                if (err.message === 'Network Error') {\r\n                    Dialog.alert('Lost Internet connection. Please try again after reconnect.')\r\n                } else {\r\n                    Dialog.alert('Something went wrong')\r\n                }\r\n            })\r\n        },\r\n\r\n        checkEmpAllocationActive() {\r\n            this.schedDetail.EmpAllocations.forEach((detail: any) => {\r\n                if (!detail.DateTo) {\r\n                    detail.isActive = true;\r\n                    return\r\n                }\r\n                let dateFrom = moment(detail.DateFrom)\r\n                let dateTo = moment(detail.DateTo)\r\n                detail.isActive = dateTo.diff(moment(), 'day') >= 0 && dateFrom.diff(moment(), 'day') <= 0\r\n            })\r\n        },\r\n\r\n\r\n        createNewSchedule: function () {\r\n            console.log('create new got called')\r\n            this.createNew = true;\r\n            let startDate = moment();\r\n            startDate.hour(0);\r\n            startDate.minute(0);\r\n            startDate.second(0);\r\n            this.schedDetail = {\r\n                Id: -1,\r\n                Name: '',\r\n                Description: '',\r\n                NoOfWeeks: 1,\r\n                StartDate: startDate,\r\n                Days: []\r\n            };\r\n\r\n            if (this.$refs.detail) {\r\n                (this.$refs.detail as any).hasChanges = true;\r\n            }\r\n        },\r\n\r\n        cancelScheduleDetail() {\r\n            console.log('cancel called')\r\n            if (this.createNew) {\r\n                this.createNew = false;\r\n            }\r\n\r\n            this.schedDetail = null;\r\n        },\r\n\r\n        reloadSchedulesDetail: function () {\r\n            console.log('reloadSchedulesDetail')\r\n            if (!this.selectedSched)\r\n                this.schedDetail = null;\r\n            else\r\n                this.selectSchedulesDetail(this.selectedSched);\r\n\r\n            this.createNew = false;\r\n        },\r\n\r\n        closeScheduleDetail(changeCheck: boolean) {\r\n            if (!changeCheck || !(this.$refs as any).detail.hasChanges) {\r\n                this.schedDetail = null;\r\n                this.createNew = false;\r\n                this.selectedSched = null;\r\n                (this.$refs as any).searchScheduleRef.deselectScheDetail();\r\n                return;\r\n            }\r\n\r\n            Dialog.checkChange({\r\n                message: 'There are currently Schedule Detail changes <br /> Do you want to discard your changes?',\r\n                onOk: () => {\r\n                    this.closeScheduleDetail(false)\r\n                }\r\n            })\r\n        },\r\n\r\n        scheduleSaved: function (detail: any) {\r\n            if (!this.selectedSched)\r\n                this.schedDetail = null;\r\n            else {\r\n                this.schedDetail = detail;\r\n                this.selectedSched = {\r\n                    Id: detail.Id,\r\n                };\r\n            }\r\n\r\n            (this.$refs as any).searchScheduleRef.getSchedulesList();\r\n            this.createNew = false;\r\n        },\r\n\r\n        scheduleDeleted: function () {\r\n            this.selectedSched = null;\r\n            this.schedDetail = null;\r\n            (this.$refs as any).searchScheduleRef.getSchedulesList();\r\n        },\r\n    },\r\n\r\n})\r\n","import { render } from \"./SchedulesManagement.vue?vue&type=template&id=5cb8baa9&scoped=true\"\nimport script from \"./SchedulesManagement.vue?vue&type=script&lang=ts\"\nexport * from \"./SchedulesManagement.vue?vue&type=script&lang=ts\"\n\nimport \"./schedulesManagement.scss?vue&type=style&index=0&lang=scss\"\nimport \"./SchedulesManagement.vue?vue&type=style&index=1&id=5cb8baa9&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5cb8baa9\"\n\nexport default script","<template>\r\n    <div class=\"outter-h-scroll\">\r\n        <div class=\"fix-content-width\">\r\n            <search-employee class=\"mr-4 mr-xs-0\" ref=\"SearchEmployeeRef\"\r\n                             @updateSelectedEmpList=\"updateEmpList\"></search-employee>\r\n            <div class=\"emp-detail pa-4 mr-4 mr-xs-0\" v-if=\"bulkEmpList.length > 0\">\r\n                <div class=\"section\">\r\n                    <div class=\"d-flex justify-space-between\">\r\n                        <h3>Selected Employees</h3>\r\n                    </div>\r\n\r\n                    <div class=\"emp-selection-list mt-4 caption\">\r\n                        <div v-for=\"(emp, index) in bulkEmpList\"\r\n                             class=\"d-flex justify-space-between align-center py-1 px-2\"\r\n                             v-bind:class=\"{'emp-select-item-odd': index % 2}\">\r\n                            <div>\r\n                                <span class=\"list-text\"\r\n                                      v-tooltip.right=\"{content: 'Remove from Employee Selection List'}\">{{ emp.EmployeeName }} ({{ emp.EmployeeNo }})</span>\r\n                            </div>\r\n                            <div>\r\n                                <button v-if=\"!isMobileView\"\r\n                                        class=\"blue small\"\r\n                                        v-tooltip.right=\"{ content: 'View Schedule Allocations'}\"\r\n                                        style=\"margin-right:3px;\"\r\n                                        @click=\"showScheduleDetail(emp)\">\r\n                                    <span class=\"icon-calendar white lh-0\"></span>\r\n                                </button>\r\n\r\n                                <button v-if=\"!isMobileView\"\r\n                                        class=\"orange small\"\r\n                                        v-tooltip.right=\"{ content: 'Remove from Employee Selection List'}\"\r\n                                        @click=\"removeEmployee(emp)\">\r\n                                    <span class=\"icon-minus white lh-0\"></span>\r\n                                </button>\r\n\r\n                                <button v-if=\"isMobileView\"\r\n                                        class=\"orange small\"\r\n                                        @click=\"removeEmployee(emp)\">\r\n                                    <span class=\"icon-minus white lh-0\"></span>\r\n                                </button>\r\n\r\n                                <button v-if=\"isMobileView\" class=\"blue ml-1 small\"\r\n                                        style=\"margin-right:3px;\" @click=\"showScheduleDetail(emp)\">\r\n                                    <span class=\"icon-calendar white lh-0\"></span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"schedules-buttons mt-2 d-flex justify-end\">\r\n                        <button v-if=\"!isMobileView\" class=\"button grey small\"\r\n                                @click=\"clearSelectedEmployee()\"\r\n                                v-tooltip.right=\"{ content: 'Clear Employee Selection List'}\">\r\n                            <span class=\"icon-cancel mr-2 vert-mid white lh-0\"></span><span class=\"text-capitalize white \">Clear</span>\r\n                        </button>\r\n\r\n                        <button v-if=\"isMobileView\" class=\"button grey small\"\r\n                                @click=\"clearSelectedEmployee()\">\r\n                            <span class=\"icon-cancel vert-mid white lh-0\"></span><span class=\"text-capitalize white\">Clear</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <div class=\"section mt-4\" style=\"height:100%;\">\r\n                        <h3 class=\"bold-text\">Allocate Schedule</h3>\r\n                        <div class=\"mt-4 allocate-sche-form\">\r\n                            <form>\r\n                                <div class=\"custom-select\" tabindex=\"1\" ref=\"selectRef\">\r\n                                    <div class=\"custom-select-selected\">\r\n                                        <input class=\"custom-select-input\" ref=\"selectInputRef\"\r\n                                               v-model=\"selectSearchInput\" @keyup=\"updateSearchList\">\r\n                                    </div>\r\n                                    <div class=\"custom-select-items\">\r\n                                        <div class=\"custom-select-item\" ref=\"selectDropdownRef\"\r\n                                             v-for=\"(option, index) in cloneSchedList\" :key=\"index\"\r\n                                             :tabindex=\"index+99\"\r\n                                             @keyup.down=\"navDownList\"\r\n                                             @click=\"chooseSchedule($event, option)\">\r\n                                            <div class=\"cell-config\">\r\n                                                {{ option.Name }}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div v-if=\"selectedSchedule && selectedSchedule.Name\" class=\"mt-4\">\r\n                                    <div class=\"bold-text\">Description</div>\r\n                                    <div class=\"caption\">{{ selectedSchedule.Description }}</div>\r\n                                    <div class=\"bold-text mt-4\">No. of Weeks: <span\r\n                                        class=\"ml-4\">{{ selectedSchedule.NoOfWeeks }}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"d-flex justify-space-between\">\r\n                                    <div class=\"mt-4 date-input-warpper\">\r\n                                        <div class=\"bold-text\">Date From</div>\r\n\r\n                                        <input :value=\"$filters.reformatDate(schedAllocation.DateFrom)\"\r\n                                              class=\"d-inline-flex ma-0 pa-0 mr-2 caption date-input-width date-input\"\r\n                                              @change=\"updateDateText($event, schedAllocation.DateFrom)\"\r\n                                              @click=\"updateDateTime($event, schedAllocation.DateFrom, 'DateFrom')\"\r\n                                              @click:clear=\"fromDate = false\">\r\n                                    </div>\r\n                                    <div class=\"mt-4 date-input-warpper\">\r\n                                        <div class=\"bold-text\">Date To</div>\r\n                                        <input :value=\"$filters.reformatDate(schedAllocation.DateTo)\"\r\n                                              class=\"d-inline-flex ma-0 pa-0 caption date-input-width date-input\"\r\n                                              @change=\"updateDateText($event, schedAllocation.DateTo)\"\r\n                                               @click=\"updateDateTime($event, schedAllocation.DateTo, 'DateTo')\"\r\n                                               @click:clear=\"toDateMenu = false\">\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"mt-4\">\r\n                                    <div class=\"bold-text\">Notes</div>\r\n                                    <textarea rows=\"3\" class=\"white caption\"\r\n                                              @keyup=\"hasChanges = true\"\r\n                                              v-model=\"schedAllocation.Comment\"> </textarea>\r\n                                </div>\r\n                                <div class=\"form-row mt-4\" v-if=\"schedAllocation.DateFrom\">\r\n                                    <label class=\"label-width\">End existing schedules on {{ capDate }}</label>\r\n                                    <input type=\"checkbox\" value=\"1\" v-model=\"schedAllocation.EndExistingScheds\">\r\n                                </div>\r\n                                <div class=\"schedules-buttons mt-4 d-flex justify-end\">\r\n                                    <button class=\"grey vert-mid small\" @click=\"closeSchedAllocation()\">\r\n                                        <span class=\"icon-cancel vert-mid lh-0 white--text mr-1\"></span>\r\n                                        <span class=\"text-capitalize white--text\">Cancel</span>\r\n                                    </button>\r\n                                    <button class=\"green ml-4 small\" @click=\"allocateEmployees()\">\r\n                                        <span class=\"icon-paperplane vert-mid lh-0 white--text mr-1\"></span>\r\n                                        <span class=\"text-capitalize white--text\">Allocate</span>\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <template v-if=\"selectedEmpForDetail\">\r\n                <employee-schedule ref=\"EmployeeScheduleRef\" :employee=\"selectedEmpForDetail\"\r\n                                   @close=\"resetSelectedEmpForDetail\"></employee-schedule>\r\n            </template>\r\n            <date-picker ref=\"DatePickerRef\" :top=\"dateModalTop\" :left=\"dateModalLeft\"></date-picker>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script lang=\"ts\">\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport {emitter} from \"../../main\";\r\nimport moment, {Moment} from \"moment\";\r\nimport EmployeeSchedule from \"./EmployeeSchedule.vue\";\r\nimport SearchEmployee from \"./SearchEmployee.vue\";\r\nimport Dialog from '@/components/dialog';\r\nimport {defineComponent} from \"vue\";\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\n\r\nexport default defineComponent({\r\n    name: 'employeeAllocation',\r\n    components: {\r\n        SearchEmployee,\r\n        EmployeeSchedule,\r\n        DatePicker,\r\n    },\r\n    data: function () {\r\n        return {\r\n            bulkEmpList: <any[]>[],\r\n            schedList: <any[]>[],\r\n            hasChanges: false,\r\n\r\n            // select schedule\r\n            cloneSchedList: <any[]>[],\r\n            selectSearchInput: '',\r\n\r\n            // form model\r\n            schedAllocation: {\r\n                WorkschedId: -1,\r\n                DateFrom: <Moment | null>moment(),\r\n                DateTo: <Moment | null>null,\r\n                Comment: '',\r\n                EndExistingScheds: true\r\n            },\r\n\r\n            selectedSchedule: <any>{},\r\n\r\n            // employee-chedule component input data\r\n            selectedEmpForDetail: null,\r\n\r\n            // datePicker\r\n            startDateMenu: false,\r\n            toDateMenu: false,\r\n            startDatePickerValue: <any>'',\r\n            toDatePickerValue: <any>'',\r\n            datePickerTargetDay: <any>null,\r\n            dateType: '',\r\n\r\n            //\r\n            isMobileView: false,\r\n\r\n            //date modal\r\n            dateModalTop: null,\r\n            dateModalLeft: null,\r\n        };\r\n    },\r\n\r\n    // created: function () {\r\n    //\r\n    // },\r\n    mounted: function () {\r\n        this.isMobileView = this.checkIsMobileView()\r\n        // Dialog.loading()\r\n        Remote.StandardSchedules().then(response => {\r\n            this.schedList = response.Data.filter((data: any) => data.Archive === false);\r\n            this.cloneSchedList = this.schedList.slice();\r\n            //  Dialog.clear()\r\n        })\r\n        this.$watch('schedAllocation', (newVal: any, oldVal: any) => {\r\n            if (newVal === oldVal) {\r\n                this.hasChanges = true; //ignore employee list changes.\r\n            }\r\n        }, {deep: true});\r\n    },\r\n    computed: {\r\n        selectedSched() {\r\n            if (this.schedAllocation.WorkschedId === -1) {\r\n                return false;\r\n            }\r\n\r\n            // todo: cant not use this.schedList in return\r\n            let schedList: any = this.schedList;\r\n            return schedList.find((sched: any)=> {\r\n                return sched.Id === this.schedAllocation.WorkschedId\r\n            })\r\n        },\r\n\r\n        capDate: function () {\r\n            if (!this.schedAllocation.DateFrom) {\r\n                return\r\n            }\r\n\r\n            let schedAllocation: any = this.schedAllocation\r\n\r\n            let date = moment(schedAllocation.DateFrom);\r\n            let yesterday = date.subtract(1, 'day')\r\n            return yesterday.format('DD/MM/YYYY');\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        // todo: fix calendar\r\n        // getDay(date) {\r\n        //     const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n        //\r\n        //     let i = new Date(date).getDay(date)\r\n        //     return daysOfWeek[i]\r\n        // },\r\n\r\n        testDown() {\r\n            console.log('down')\r\n        },\r\n\r\n        navDownList() {\r\n            console.log('nav down list')\r\n        },\r\n\r\n        updateSearchList(event: any) {\r\n            console.log('test', event)\r\n            if (event.key === \"ArrowDown\") {\r\n                (this.$refs.selectDropdownRef as any).focus();\r\n            }\r\n            this.cloneSchedList = this.schedList.filter(o => {\r\n                console.log('o')\r\n                return o.Name.toLowerCase().indexOf(this.selectSearchInput.toLowerCase()) > -1\r\n            })\r\n        },\r\n\r\n        updateDateText(event: any, target: any) {\r\n            this.startDateMenu = false\r\n            this.toDateMenu = false;\r\n            target.set(moment(event, 'DD/MM/YYYY').toObject())\r\n            // todo: add check for is correct format\r\n            this.datePickerFormattedFromDate();\r\n            this.datePickerFormattedToDate();\r\n        },\r\n\r\n        datePickerFormattedFromDate() {\r\n            this.startDatePickerValue = this.schedAllocation.DateFrom ? moment(this.schedAllocation.DateFrom).format('YYYY-MM-DD') : undefined; // Date picker objects needs date in this particular format\r\n        },\r\n        datePickerFormattedToDate() {\r\n            this.toDatePickerValue = this.schedAllocation.DateTo ? moment(this.schedAllocation.DateTo).format('YYYY-MM-DD') : undefined; // Date picker objects needs date in this particular format\r\n        },\r\n\r\n        updateEmpList(empList: any) {\r\n            this.bulkEmpList = empList\r\n        },\r\n        startDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.schedAllocation.DateFrom = date;\r\n            this.datePickerFormattedFromDate()\r\n        },\r\n        toDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.schedAllocation.DateTo = date;\r\n            this.datePickerFormattedToDate()\r\n        },\r\n\r\n        removeEmployee: function (emp: any) {\r\n            (this.$refs.SearchEmployeeRef as any).removeEmployee(emp)\r\n        },\r\n\r\n        clearSelectedEmployee: function () {\r\n            if (this.hasChanges) {\r\n                Dialog.checkChange({\r\n                    message: 'There are currently Schedule Allocation changes <br /> Do you want to discard your changes?',\r\n                    onOk: () => {\r\n                        (this.$refs.SearchEmployeeRef as any).clearSelectedEmployeeList();\r\n                        this.resetSchedAllocation()\r\n                    }\r\n                })\r\n            } else {\r\n                (this.$refs.SearchEmployeeRef as any).clearSelectedEmployeeList();\r\n            }\r\n        },\r\n\r\n        allocateEmployees: function () {\r\n            var warningMsgs = '';\r\n            if (this.selectedSchedule.Id < 1 || !this.selectedSchedule.Id) {\r\n                warningMsgs += '<br />Select a schedule that you want to allocate.';\r\n            }\r\n\r\n            if (this.schedAllocation.DateFrom && this.schedAllocation.DateTo &&\r\n                this.schedAllocation.DateFrom.diff(this.schedAllocation.DateTo) > 0) {\r\n                warningMsgs += '<br />Date To cannot be before Date From.';\r\n            }\r\n\r\n            if (warningMsgs != '') {\r\n                // emitter.emit('dialog', {\r\n                //     message: warningMsgs,\r\n                //     showButtons: true,\r\n                //     noClose: false,\r\n                //     showLoader: false\r\n                // });\r\n\r\n                return;\r\n            }\r\n\r\n            var postData = {\r\n                WorkschedId: this.selectedSchedule.Id,\r\n                EmployeeList: <any[]> [],\r\n                DateFrom: moment(this.schedAllocation.DateFrom) ? moment(this.schedAllocation.DateFrom).format('DD/MMM/YYYY') : null,\r\n                DateTo: moment(this.schedAllocation.DateTo) ? moment(this.schedAllocation.DateTo).format('DD/MMM/YYYY') : null,\r\n                Comment: this.schedAllocation.Comment,\r\n                EndExistingScheds: this.schedAllocation.EndExistingScheds\r\n            };\r\n\r\n            if (this.bulkEmpList.length > 0) {\r\n                this.bulkEmpList.forEach((emp: any) => {\r\n                    postData.EmployeeList.push(emp.EmployeeNo);\r\n                });\r\n\r\n            }\r\n\r\n            // todo: did not find this.selectedEmp ??!!\r\n            // else if (this.selectedEmp) {\r\n            //     postData.EmployeeList = [this.selectedEmp.EmployeeNo];\r\n            // }\r\n\r\n            Dialog.loading()\r\n            Remote.AllocateSchedule(postData).then(res => {\r\n                this.hasChanges = false;\r\n                this.resetSchedAllocation();\r\n                Dialog.clear()\r\n                if (this.$refs.EmployeeScheduleRef) {\r\n                    (this.$refs.EmployeeScheduleRef as any).getEmpWorkScheds()\r\n                }\r\n\r\n                // this.getEmpWorkScheds\r\n            })\r\n                .catch(err => {\r\n                    Dialog.alert(err.message)\r\n                    console.error('err', err)\r\n                })\r\n        },\r\n\r\n        closeSchedAllocation: function () {\r\n            if (this.hasChanges) {\r\n                Dialog.checkChange({\r\n                    message: 'You have unsaved changes. Are you sure to discard the changes?',\r\n                    onOk: () => {\r\n                        this.resetSchedAllocation();\r\n                        this.hasChanges = false;\r\n                        (this.$refs.SearchEmployeeRef as any).clearSelectedEmployeeList();\r\n                    },\r\n                })\r\n            } else {\r\n                (this.$refs.SearchEmployeeRef as any).clearSelectedEmployeeList();\r\n            }\r\n        },\r\n\r\n        showScheduleDetail: function (employee: any) {\r\n            this.selectedEmpForDetail = employee;\r\n        },\r\n\r\n        resetSelectedEmpForDetail() {\r\n            this.selectedEmpForDetail = null;\r\n        },\r\n\r\n        resetSchedAllocation: function () {\r\n            this.hasChanges = false;\r\n            this.schedAllocation = {\r\n                WorkschedId: -1,\r\n                DateFrom: moment(),\r\n                DateTo: null,\r\n                Comment: '',\r\n                EndExistingScheds: true\r\n            };\r\n        },\r\n\r\n        checkIsMobileView: function () {\r\n            if (navigator.userAgent.match(/Android/i)\r\n                || navigator.userAgent.match(/webOS/i)\r\n                || navigator.userAgent.match(/iPhone/i)\r\n                || navigator.userAgent.match(/iPad/i)\r\n                || navigator.userAgent.match(/iPod/i)\r\n                || navigator.userAgent.match(/BlackBerry/i)\r\n                || navigator.userAgent.match(/Windows Phone/i)\r\n            ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        chooseSchedule($event: any, option: any) {\r\n            $event.target.blur()\r\n            console.log('schedList', this.schedList)\r\n            this.selectedSchedule = option;\r\n            this.selectSearchInput = this.selectedSchedule.Name;\r\n\r\n            let a = $event.target.blur();\r\n            console.log('fawef', a)\r\n\r\n            // console.log('a')\r\n\r\n            // console.log('$event', $event)\r\n\r\n            let b = (this.$refs.selectRef as any);\r\n            b.blur();\r\n            let c = (this.$refs.selectInputRef as any);\r\n            c.blur();\r\n        },\r\n\r\n        updateDateTime($event: any, dateFrom: any, dateType: string) {\r\n            let element = $event.target.getClientRects()[0]\r\n            this.dateModalTop = element.bottom;\r\n            this.dateModalLeft = element.left;\r\n            this.datePickerTargetDay = dateFrom;\r\n            this.dateType = dateType;\r\n            this.openDatePicker()\r\n        },\r\n\r\n        async openDatePicker() {\r\n            // (this.$refs.DatePickerRef as any).toggleShow();\r\n            let result = await ((this.$refs.DatePickerRef as any).toggleShow(this.datePickerTargetDay));\r\n            if (this.dateType === 'DateTo') {\r\n                this.schedAllocation.DateTo = result\r\n            } else if (this.dateType === 'DateFrom') {\r\n                this.schedAllocation.DateFrom = result\r\n            }\r\n\r\n        }\r\n    },\r\n})\r\n</script>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n@use '../../style/colors';\r\n\r\n$button-blue: #44b5ec;\r\n$table-odd-color: #f6f6f6;\r\n\r\n.outter-h-scroll {\r\n    overflow-x: auto;\r\n}\r\n\r\n.fix-content-width {\r\n    width: max-content;\r\n\r\n    @media only screen and (max-width: 980px) {\r\n        width: auto;\r\n        text-align: center;\r\n    }\r\n}\r\n\r\n\r\n.vert-mid {\r\n    vertical-align: middle;\r\n}\r\n\r\n.emp-detail {\r\n    display: inline-block;\r\n    width: 380px;\r\n    background: #efefef;\r\n\r\n    @media only screen and (max-width: 980px) {\r\n        margin-top: 10px;\r\n    }\r\n\r\n    @media only screen and (max-width: 600px) {\r\n        margin-top: 8px;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.emp-selection-list {\r\n    max-height: 150px;\r\n    overflow: auto;\r\n    background: white;\r\n}\r\n\r\n.emp-select-item-odd {\r\n    background-color: $table-odd-color;\r\n}\r\n\r\n.aff-table table tr .emp-selected {\r\n    background: $button-blue;\r\n    color: white;\r\n}\r\n\r\ntextarea {\r\n    width: 100%;\r\n    padding: 5px;\r\n\r\n    margin: 0;\r\n    border-top: 1px solid #b3b3b3;\r\n    border-right: 1px solid #e6e6e6;\r\n    border-bottom: 1px solid #fff;\r\n    border-left: 1px solid #e6e6e6;\r\n    font-size: 12px;\r\n    font-family: 'Montserrat', Arial, 'Helvetica Neue', Helvetica, Sans-Serif;\r\n    background: #fff;\r\n}\r\n\r\n.allocate-sche-form {\r\n    font-size: 12px;\r\n}\r\n\r\n.date-input-width {\r\n    max-width: 160px;\r\n}\r\n\r\n.date-input-width {\r\n    width: 90%\r\n}\r\n\r\n.date-input-warpper {\r\n    width: 45%;\r\n}\r\n\r\n.custom-select {\r\n    font-size: 12px;\r\n}\r\n\r\n.custom-select-selected {\r\n    min-height: 24px;\r\n    padding: 4px 1.5em 4px 0.2em;\r\n    border: none;\r\n    border-radius: 0;\r\n    background-color: transparent;\r\n    border-bottom: 1px solid rgba(colors.$grey, 0.7);\r\n\r\n}\r\n\r\n.custom-select-selected:after {\r\n    top: 8px;\r\n    right: 0;\r\n}\r\n\r\n.custom-select:focus-within {\r\n    .custom-select-selected {\r\n        border: none;\r\n        border-radius: 0;\r\n        border-bottom: 1px solid colors.$aff-dark-blue;\r\n    }\r\n\r\n    .custom-select-selected:after {\r\n        transform: rotate(180deg);\r\n        top: 4px;\r\n    }\r\n}\r\n\r\n.custom-select-items {\r\n    background: white;\r\n}\r\n\r\n.custom-select-item {\r\n    color: colors.$dark-blue-app;\r\n    // padding-left: 1em;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    padding: 4px 1em;\r\n}\r\n\r\n.custom-select-item:hover {\r\n    color: colors.$aff-dark-blue;\r\n    background-color: lighten(colors.$aff-blue, 50%);\r\n}\r\n\r\n.custom-select-input {\r\n    border: none;\r\n    background: transparent;\r\n}\r\n\r\n.cell-config {\r\n    pointer-events: none;\r\n}\r\n</style>","<template>\r\n    <div class=\"emp-workSched-card pa-4\">\r\n        <div class=\"d-flex justify-space-between\">\r\n            <h3>{{ selectedEmp.EmployeeName }} ({{ selectedEmp.EmployeeNo }})</h3>\r\n            <span class=\"icon-cross vp-icon\" @click=\"closeEmployeeSchedule(true)\"></span>\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-end align-center mt-4 caption\">\r\n            <input class=\"override-width mr-2\" type=\"checkbox\" v-model=\"activeOnly\" @change=\"updateActiveOnly\"\r\n                   v-bind:true-value=\"1\" v-bind:false-value=\"0\">\r\n            <label class=\"default-line-height\">Active Only</label>\r\n            <!--span class=\"button blue w-icon-only\" @click=\"openSchedAllocation()\" v-bind:class=\"{ 'disabled': showSchedAllocation}\" v-show=\"!bulkAllocationSelected()\"><span class=\"icon-schedule\"></span><span>Allocate</span></span-->\r\n        </div>\r\n        <div v-if=\"empSchedList.length > 0\" class=\"section-table aff-table mt-2\">\r\n            <table>\r\n                <thead>\r\n                <tr>\r\n                    <th>Schedule Name</th>\r\n                    <th class=\"text-center\">Date From</th>\r\n                    <th class=\"text-center\">Date To</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"empSched in empSchedList\" v-bind:class=\"empSched.classObject\"\r\n                    @click=\"selectEmpSchedCheck(empSched)\">\r\n                    <td>{{ empSched.WorkSchedName }}</td>\r\n                    <td class=\"text-center\">{{ $filters.reformatDate(empSched.DateFrom) }}</td>\r\n                    <td class=\"text-center\">{{ $filters.reformatDate(empSched.DateTo) }}</td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div v-else> Work schedule empty.</div>\r\n\r\n        <template v-if=\"selectedEmpSched\">\r\n            <emp-schedule-detail ref=\"empScheDetailRef\" :empSched=\"selectedEmpSched\" @deleted=\"deleteSelection\"\r\n                                 @updated=\"updatedEmpSchedule\"></emp-schedule-detail>\r\n        </template>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {emitter} from \"../../main\";\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport EmpScheduleDetail from \"@/components/employeeAllocation/EmpSchedDetail.vue\";\r\nimport Dialog from \"@/components/dialog\";\r\nimport {defineComponent, ref} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"employeeSchedule\",\r\n    components: {EmpScheduleDetail},\r\n    props: ['employee'],\r\n    data: function () {\r\n        return {\r\n            selectedEmp: <any>null,\r\n            empSchedList: <any[]>[],\r\n            activeOnly: false,\r\n            selectedEmpSched: <any>null\r\n        }\r\n    },\r\n    setup(props) {\r\n        const selectedEmp = ref<any>(props.employee)\r\n\r\n        return {selectedEmp}\r\n    },\r\n    mounted() {\r\n        console.log('this employee', this.employee)\r\n        this.selectedEmp = this.employee;\r\n        if (this.selectedEmp && this.selectedEmp.EmployeeNo) {\r\n            this.getEmpWorkScheds()\r\n        } else {\r\n            console.error('employee or employee number missing')\r\n        }\r\n    },\r\n    watch: {\r\n        employee() {\r\n            this.selectedEmp = this.employee;\r\n            if (this.selectedEmp && this.selectedEmp.EmployeeNo) {\r\n                this.getEmpWorkScheds()\r\n            } else {\r\n                console.error('employee or employee number missing')\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        selectEmpSchedCheck(empSched: any) {\r\n            if (this.$refs.empScheDetailRef && (this.$refs.empScheDetailRef as any).hasChanges) {\r\n                Dialog.checkChange({\r\n                    message: 'There are currently Schedule changes <br /> Do you want to discard your changes?',\r\n                    onOk: () => {\r\n                        this.selectEmpSched(empSched)\r\n                    }\r\n                })\r\n            } else {\r\n                this.selectEmpSched(empSched)\r\n            }\r\n        },\r\n        selectEmpSched(empSched: any) {\r\n\r\n            this.empSchedList.forEach(empSched => {\r\n                empSched.classObject.selected = false;\r\n            })\r\n\r\n            empSched.classObject.selected = true\r\n            this.selectedEmpSched = empSched;\r\n        },\r\n\r\n        getEmpWorkScheds() {\r\n            Dialog.loading()\r\n            Remote.EmpWorkScheds(this.selectedEmp.EmployeeNo + (this.activeOnly ? \"?activeOnly=true\" : \"?activeOnly=false\"))\r\n                .then(res => {\r\n                    res.Data.map((empSched: any, index: number) => {\r\n                        empSched.classObject = {\r\n                            'selected': false,\r\n                            'odd': index % 2\r\n                        }\r\n                        empSched.DateFrom = new Date(Date.parse(empSched.DateFrom));\r\n                        if (empSched.DateTo)\r\n                            empSched.DateTo = new Date(Date.parse(empSched.DateTo));\r\n                    });\r\n                    this.empSchedList = res.Data;\r\n                    Dialog.clear();\r\n                })\r\n        },\r\n\r\n        updateActiveOnly() {\r\n            this.getEmpWorkScheds();\r\n        },\r\n        closeEmployeeSchedule(changeCheck: any) {\r\n            if (!changeCheck || !this.$refs.empScheDetailRef || (this.$refs.empScheDetailRef && !(this.$refs.empScheDetailRef as any).hasChanges)) {\r\n                this.$emit('close')\r\n                return;\r\n            }\r\n\r\n            Dialog.checkChange({\r\n                message: 'There are currently Schedule changes <br /> Do you want to discard your changes?',\r\n                onOk: () => {\r\n                    this.closeEmployeeSchedule(false)\r\n                }\r\n            })\r\n        },\r\n        deleteSelection() {\r\n            this.selectedEmpSched = null;\r\n            this.getEmpWorkScheds();\r\n        },\r\n        updatedEmpSchedule() {\r\n            this.selectedEmpSched = null;\r\n            this.getEmpWorkScheds();\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.emp-workSched-card {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    min-height: 450px;\r\n    background: #efefef;\r\n    width: 460px;\r\n    /*font-size: 12px;*/\r\n\r\n    @media only screen and (max-width: 980px) {\r\n        margin-top: 10px;\r\n\r\n    }\r\n\r\n    @media only screen and (max-width: 600px) {\r\n        width: 100%;\r\n        margin-top: 8px;\r\n    }\r\n}\r\n\r\n.aff-table {\r\n    tr {\r\n        cursor: pointer;\r\n    }\r\n}\r\n\r\n.override-width {\r\n    width: auto !important;\r\n}\r\n</style>","<!--<style src=\"./scheduleDetail.scss\" lang=\"scss\"></style>-->\r\n<template>\r\n    <div class=\"section default-form sched-empSched-form mt-4\" v-if=\"empSchedDetail && empSchedDetail.Detail\">\r\n        <h3>Schedule Details</h3>\r\n        <form v-on:submit.prevent=\"submitForm\">\r\n            <div class=\"caption mt-2\">\r\n                <div class=\"form-label\">Name</div>\r\n                <div class=\"label-empSched\">{{ empSchedDetail.Detail.Name }}</div>\r\n            </div>\r\n            <div class=\"caption d-flex mt-4\">\r\n                <div class=\"form-label\">Number of Weeks</div>\r\n                <div class=\"label-empSched\">{{ empSchedDetail.Detail.NoOfWeeks }}</div>\r\n            </div>\r\n            <div class=\"d-flex justify-space-between\">\r\n                <div class=\"caption mt-4\">\r\n                    <div class=\"date-label\">Date From</div>\r\n\r\n                    <input :value=\"$filters.reformatDate(empSchedDetail.DateFrom)\"\r\n                           v-bind=\"attrs\" v-on=\"on\"\r\n                           outlined dense hide-details\r\n                           autocomplete=\"off\"\r\n                           class=\"d-inline-flex ma-0 pa-0 mr-2 caption date-input-width date-input\"\r\n                           append-icon=\"icon-calendar\"\r\n                           @change=\"updateDateText($event, empSchedDetail.DateFrom)\"\r\n                           @click=\"updateDateTime($event, empSchedDetail.DateFrom, 'DateFrom')\"\r\n                           @click:clear=\"fromDate = false\">\r\n                    <!--                    <v-menu v-model=\"fromDateMenu\" bottom offsetY-->\r\n                    <!--                            :close-on-content-click=\"false\">-->\r\n                    <!--                        <template v-slot:activator=\"{ on, attrs }\">-->\r\n                    <!--                            <input :value=\"empSchedDetail.DateFrom | date\"-->\r\n                    <!--                                          v-bind=\"attrs\" v-on=\"on\"-->\r\n                    <!--                                          autocomplete=\"off\"-->\r\n                    <!--                                          outlined dense hide-details-->\r\n                    <!--                                          append-icon=\"icon-calendar\"-->\r\n                    <!--                                          @change=\"updateDateText($event, empSchedDetail.DateFrom)\"-->\r\n                    <!--                                          class=\"d-inline-flex ma-0 pa-0 caption white date-input-width\"-->\r\n                    <!--                                          @click:clear=\"empSchedDetail.DateFrom = null\">-->\r\n                    <!--                            -->\r\n                    <!--                        </template>-->\r\n                    <!--                        <v-date-picker :value=\"fromDatePickerValue\" @input=\"fromDateDatePickerHandler\"-->\r\n                    <!--                                       :weekday-format=\"getDay\"-->\r\n                    <!--                                       no-title @change=\"fromDateMenu = false\"></v-date-picker>-->\r\n                    <!--                    </v-menu>-->\r\n                </div>\r\n                <div class=\"caption mt-4\">\r\n                    <div class=\"date-label\">Date To</div>\r\n                    <input :value=\"$filters.reformatDate(empSchedDetail.DateTo)\"\r\n                           v-bind=\"attrs\" v-on=\"on\"\r\n                           autocomplete=\"off\"\r\n                           outlined dense hide-details\r\n                           class=\"d-inline-flex ma-0 pa-0 caption date-input-width date-input\"\r\n                           append-icon=\"icon-calendar\"\r\n                           @change=\"updateDateText($event,  empSchedDetail.DateTo)\"\r\n                           @click=\"updateDateTime($event, empSchedDetail.DateTo, 'DateTo')\"\r\n                           @click:clear=\"toDateMenu = false\">\r\n                    <!--                    <v-menu v-model=\"toDateMenu\" bottom offsetY-->\r\n                    <!--                            :close-on-content-click=\"false\">-->\r\n                    <!--                        <template v-slot:activator=\"{ on, attrs }\">-->\r\n                    <!--                            <input :value=\"empSchedDetail.DateTo | date\"-->\r\n                    <!--                                          v-bind=\"attrs\" v-on=\"on\"-->\r\n                    <!--                                          autocomplete=\"off\"-->\r\n                    <!--                                          outlined dense hide-details-->\r\n                    <!--                                          append-icon=\"icon-calendar\"-->\r\n                    <!--                                          @change=\"updateDateText($event, empSchedDetail.DateTo)\"-->\r\n                    <!--                                          class=\"d-inline-flex ma-0 pa-0 caption white date-input-width\"-->\r\n                    <!--                                          @click:clear=\"empSchedDetail.DateTo = null\">-->\r\n                    <!--                            -->\r\n                    <!--                        </template>-->\r\n                    <!--                        <v-date-picker :value=\"toDatePickerValue\"-->\r\n                    <!--                                       :weekday-format=\"getDay\"-->\r\n                    <!--                                       @input=\"toDateDatePickerHandler\" no-title @change=\"toDateMenu = false\"></v-date-picker>-->\r\n                    <!--                    </v-menu>-->\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"caption mt-4\">\r\n                <div class=\"date-label\">Notes</div>\r\n                <textarea class=\"white caption schedule-textarea\"\r\n                          @keyup=\"hasChanges = true\"\r\n                          hide-details rows=\"2\" outlined dense v-model=\"empSchedDetail.Comment\">\r\n                </textarea>\r\n            </div>\r\n\r\n            <div class=\"section-table ui-gridbox-scrollable-titles mt-4\">\r\n                <div class=\"aff-table sched-empSched-table\">\r\n                    <table class=\"sched-empSched-days\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Week</th>\r\n                            <th>Day</th>\r\n                            <th class=\"text-center\">Hours</th>\r\n                            <th class=\"text-center\">Start</th>\r\n                            <th class=\"text-center\">Finish</th>\r\n                            <th>Shift</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr v-for=\"d in empSchedDetail.Detail.Days\">\r\n                            <td class=\"text-center\">\r\n                                <span v-show=\"isFirstDayOfWeek(d.DayOfWeek)\">{{ d.Week }}</span>\r\n                            </td>\r\n                            <td>\r\n                                <span class=\"mr-2 days-width\">{{ d.DayNumber + 1 }}</span>\r\n                                <span>{{ getDayOfWeek(d.DayOfWeek) }}</span>\r\n                            </td>\r\n                            <td class=\"text-center\">{{ d.Hours }}</td>\r\n                            <td class=\"text-center\"><span class=\"px-2\">{{ $filters.reformatTime(d.StartTime) }}</span></td>\r\n                            <td class=\"text-center\"><span class=\"px-2\">{{ $filters.reformatTime(d.FinishTime) }}</span></td>\r\n                            <td class=\"shift-select-td\">{{ d.ShiftId }}</td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"schedules-buttons form-row d-flex justify-end mt-4\">\r\n                <button type=\"button\" class=\"white--text small red text-capitalize mr-2\"\r\n                        @click=\"RemoveSchedule()\">\r\n                    <span class=\"icon-briefcase mr-1\"></span><span>Remove</span>\r\n                </button>\r\n                <button type=\"button\" class=\"white--text small grey text-capitalize mr-2\" :disabled=\"!hasChanges\"\r\n                        @click=\"cancelChanges()\">\r\n                    <span class=\"icon-cancel mr-1\"></span><span>Cancel</span>\r\n                </button>\r\n                <button type=\"button\" class=\"white--text small green text-capitalize mr-1\" :disabled=\"!hasChanges\"\r\n                        @click=\"updateEmpSched()\">\r\n                    <span class=\"icon-save mr-1\"></span><span>Update</span>\r\n                </button>\r\n            </div>\r\n        </form>\r\n        <date-picker ref=\"DatePickerRef\" :top=\"dateModalTop\" :left=\"dateModalLeft\"></date-picker>\r\n    </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport Vue, {defineComponent} from 'vue';\r\nimport moment from \"moment\";\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport {emitter} from '@/main';\r\nimport Dialog from \"@/components/dialog\";\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"emp-schedule-detail\",\r\n    props: ['empSched'],\r\n    components: {\r\n        DatePicker\r\n    },\r\n    data: function () {\r\n        return {\r\n            // datepicker\r\n            dateModalTop: null,\r\n            dateModalLeft: null,\r\n            datePickerTargetDay: <any>null,\r\n            dateType: '',\r\n\r\n            empSchedDetail: <any>null,\r\n            hasChanges: <null | boolean>false,\r\n            fromDateMenu: false,\r\n            toDateMenu: false,\r\n            fromDatePickerValue: <any>'',\r\n            toDatePickerValue: <any>'',\r\n\r\n        }\r\n    },\r\n    computed: {},\r\n\r\n    mounted: function () {\r\n        this.$emit(\"dataChanged\", this.hasChanges); // todo wtf is components? check what does this line do !!!\r\n        this.getEmpSchedDetail()\r\n    },\r\n    watch: {\r\n        ['empSched'](newVal, oldVal) {\r\n            if (newVal != oldVal) {\r\n                this.empSchedDetail = null;\r\n                this.hasChanges = null;\r\n                this.fromDateMenu = false;\r\n                this.toDateMenu = false;\r\n\r\n                this.getEmpSchedDetail()\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // todo: fix calendar\r\n        // getDay(date) {\r\n        //     const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n        //\r\n        //     let i = new Date(date).getDay(date)\r\n        //     return daysOfWeek[i]\r\n        // },\r\n        getEmpSchedDetail() {\r\n            Dialog.loading()\r\n            Remote.EmpSchedDetailRequest(this.empSched.EmployeeNo + '/' + this.empSched.Id)\r\n            .then(response => {\r\n                this.empSchedDetail = response.Data;\r\n                console.log('res', response)\r\n                if (!this.empSchedDetail.Detail) {\r\n                    return;\r\n                }\r\n                var week = 0;\r\n                var date = moment(this.empSchedDetail.Detail.StartDate);\r\n                // Add missing 0 days\r\n                var total = this.empSchedDetail.Detail.NoOfWeeks * 7;\r\n                var fullDays = new Array(total);\r\n                for (var dayNum = 0; dayNum < total; dayNum++) {\r\n                    if (dayNum % 7 == 0) {\r\n                        week++;\r\n                    }\r\n\r\n                    fullDays[dayNum] = {\r\n                        DayNumber: dayNum,\r\n                        DayOfWeek: date.day(),\r\n                        Week: week,\r\n                        Date: moment(date),\r\n                        Hours: 0,\r\n                        StartTime: null,\r\n                        FinishTime: null,\r\n                        ShiftId: null\r\n                    };\r\n\r\n                    date.add(1, 'day')\r\n                }\r\n\r\n                this.empSchedDetail.Detail.Days.map(function (day: any) {\r\n                    //day.Date = new Date(Date.parse(day.Date));\r\n                    if (day.StartTime)\r\n                        fullDays[day.DayNumber].StartTime = moment(day.StartTime);\r\n                    if (day.FinishTime)\r\n                        fullDays[day.DayNumber].FinishTime = moment(day.FinishTime);\r\n                    fullDays[day.DayNumber].Hours = day.Hours;\r\n                    fullDays[day.DayNumber].ShiftId = day.ShiftId;\r\n\r\n                });\r\n\r\n                this.empSchedDetail.Detail.Days = fullDays;\r\n                this.empSchedDetail.Detail.StartDate = moment(this.empSchedDetail.Detail.StartDate);\r\n\r\n                if (response.Data.DateFrom) {\r\n                    this.empSchedDetail.DateFrom = moment(response.Data.DateFrom, 'YYYY-MM-DD')\r\n                }\r\n\r\n\r\n                if (response.Data.DateTo) {\r\n                    this.empSchedDetail.DateTo = moment(response.Data.DateTo, 'YYYY-MM-DD')\r\n                }\r\n\r\n                console.log('date to', response.Data.DateTo)\r\n\r\n                this.datePickerFormattedFromDate();\r\n                this.datePickerFormattedToDate();\r\n            })\r\n            .finally(() => Dialog.clear())\r\n        },\r\n\r\n        submitForm() {\r\n            return false;\r\n        },\r\n\r\n\r\n        updateDateText(event: any, target: any) {\r\n            // this.startDateMenu = false\r\n            this.toDateMenu = false;\r\n            target.set(moment(event, 'DD/MM/YYYY').toObject())\r\n            // todo: add check for is correct format\r\n            this.datePickerFormattedFromDate();\r\n            this.datePickerFormattedToDate();\r\n        },\r\n        datePickerFormattedFromDate() {\r\n            this.fromDatePickerValue = this.empSchedDetail.DateFrom ? moment(this.empSchedDetail.DateFrom).format('YYYY-MM-DD') : undefined; // Date picker objects needs date in this particular format\r\n        },\r\n        datePickerFormattedToDate() {\r\n            this.toDatePickerValue = this.empSchedDetail.DateTo ? moment(this.empSchedDetail.DateTo).format('YYYY-MM-DD') : undefined; // Date picker objects needs date in this particular format\r\n        },\r\n\r\n        fromDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.empSchedDetail.DateFrom = date;\r\n            this.hasChanges = true;\r\n            this.datePickerFormattedFromDate()\r\n        },\r\n        toDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.empSchedDetail.DateTo = date;\r\n            this.hasChanges = true;\r\n            this.datePickerFormattedToDate();\r\n        },\r\n\r\n        isFirstDayOfWeek: function (dayNo: any) {\r\n            var startDate = moment(this.empSchedDetail.Detail.StartDate);\r\n            return dayNo == startDate.day();\r\n        },\r\n        getDayOfWeek: function (dayNo: any) {\r\n            if (dayNo < 0 || dayNo > 6)\r\n                return 'unknown';\r\n            var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n            return days[dayNo];\r\n        },\r\n\r\n        RemoveSchedule() {\r\n            // should be dialog confirm\r\n            Dialog.checkChange({\r\n                message: 'Are you sure?',\r\n                onOk: () => {\r\n                    Dialog.loading()\r\n                    Remote.RemoveEmployeeWorkSchedule(this.empSchedDetail.Id, this.empSched.EmployeeNo)\r\n                        .then(res => {\r\n                            //\r\n                            this.$emit('deleted')\r\n                        }).finally(() => Dialog.clear())\r\n\r\n                }\r\n            })\r\n        },\r\n\r\n        cancelChanges() {\r\n            // this.reloadDetail();\r\n            if (!this.hasChanges) {\r\n                // this.$emit('reload');\r\n                this.getEmpSchedDetail()\r\n                return;\r\n            }\r\n\r\n            console.log('cancel changes')\r\n            let msg = 'There is currently unsaved schedule changes <br /> Do you want to discard your changes?';\r\n            console.log('emitter', emitter)\r\n            emitter.emit('dialog', {\r\n                message: msg,\r\n                showButtons: true,\r\n                showCancel: true,\r\n                okColor: 'orange',\r\n                onOk: () => {\r\n                    // this.$emit('reload');\r\n                    this.getEmpSchedDetail()\r\n                    this.hasChanges = false;\r\n                },\r\n                onCancel: () => {\r\n                    // do nothing\r\n                }\r\n            })\r\n        },\r\n\r\n        updateEmpSched() {\r\n            var dateFrom = moment(this.empSchedDetail.DateFrom);\r\n            var dateTo = moment(this.empSchedDetail.DateTo);\r\n\r\n            if (dateFrom && dateTo &&\r\n                dateFrom > dateTo) {\r\n                Dialog.alert('<br />Date From cannot be before Date To.')\r\n                return;\r\n            }\r\n\r\n            emitter.emit('dialog', {\r\n                message: 'Updating Employee Schedule',\r\n                showButtons: false,\r\n                showLoader: true,\r\n                noClose: false\r\n            });\r\n            Dialog.loading()\r\n\r\n            var postData = {\r\n                Id: this.empSchedDetail.Id,\r\n                DateFrom: dateFrom ? dateFrom.format('DD/MMM/YYYY') : null,\r\n                DateTo: dateTo ? dateTo.format('DD/MMM/YYYY') : null,\r\n                Comment: this.empSchedDetail.Comment\r\n            };\r\n\r\n            Remote.UpdateEmpSchedRequest(postData, this.empSched.EmployeeNo)\r\n                .then(res => {\r\n                    Dialog.clear();\r\n                    this.$emit('updated')\r\n                })\r\n                .catch(err => {\r\n                    Dialog.alert(err.message)\r\n                    console.error('err', err)\r\n                })\r\n        },\r\n        updateDateTime($event: any, dateFrom: any, dateType: string) {\r\n            let element = $event.target.getClientRects()[0]\r\n            this.dateModalTop = element.bottom;\r\n            this.dateModalLeft = element.left;\r\n            console.log('updateDateTime', dateFrom)\r\n            this.datePickerTargetDay = dateFrom;\r\n            this.dateType = dateType;\r\n            this.openDatePicker()\r\n\r\n        },\r\n\r\n        async openDatePicker() {\r\n            // (this.$refs.DatePickerRef as any).toggleShow();\r\n            let result = await ((this.$refs.DatePickerRef as any).toggleShow(this.datePickerTargetDay));\r\n            if (this.dateType === 'DateTo') {\r\n                this.empSchedDetail.DateTo = result\r\n            } else if (this.dateType === 'DateFrom') {\r\n                this.empSchedDetail.DateFrom = result\r\n            }\r\n            this.hasChanges = true;\r\n\r\n        }\r\n    },\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.form-label {\r\n    display: inline-block;\r\n    width: 160px;\r\n    font-weight: bold;\r\n}\r\n\r\n.date-label {\r\n    display: block;\r\n    font-weight: bold;\r\n    width: 100px;\r\n}\r\n\r\n.date-to-label {\r\n    display: inline-block;\r\n    font-weight: bold;\r\n    width: auto;\r\n    margin-right: 40px;\r\n}\r\n\r\n.input-width {\r\n    width: 200px;\r\n}\r\n\r\n.date-input-width {\r\n    width: 160px;\r\n}\r\n\r\n.label-empSched {\r\n    display: inline-block;\r\n}\r\n\r\n.v-input--dense {\r\n    min-height: 0;\r\n}\r\n\r\n.sched-empSched-form .v-input--dense ::v-deep .v-input__control .v-input__slot {\r\n    min-height: 0;\r\n\r\n\r\n    input {\r\n        padding: 4px 0;\r\n    }\r\n}\r\n\r\n.sched-empSched-table {\r\n    overflow: auto;\r\n    max-height: 260px;\r\n\r\n    table {\r\n        @media only screen and (max-width: 600px) {\r\n\r\n            width: 100%;\r\n        }\r\n    }\r\n}\r\n\r\n.shift-select-td {\r\n    position: relative;\r\n    width: 100px;\r\n}\r\n\r\n.days-width {\r\n    display: inline-block;\r\n    width: 14px;\r\n}\r\n\r\n.full-width {\r\n    width: 100%;\r\n}\r\n\r\n.schedule-textarea {\r\n    width: 100%;\r\n    height: 54px;\r\n}\r\n\r\n</style>\r\n","\r\nimport Vue, {defineComponent} from 'vue';\r\nimport moment from \"moment\";\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport {emitter} from '@/main';\r\nimport Dialog from \"@/components/dialog\";\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"emp-schedule-detail\",\r\n    props: ['empSched'],\r\n    components: {\r\n        DatePicker\r\n    },\r\n    data: function () {\r\n        return {\r\n            // datepicker\r\n            dateModalTop: null,\r\n            dateModalLeft: null,\r\n            datePickerTargetDay: <any>null,\r\n            dateType: '',\r\n\r\n            empSchedDetail: <any>null,\r\n            hasChanges: <null | boolean>false,\r\n            fromDateMenu: false,\r\n            toDateMenu: false,\r\n            fromDatePickerValue: <any>'',\r\n            toDatePickerValue: <any>'',\r\n\r\n        }\r\n    },\r\n    computed: {},\r\n\r\n    mounted: function () {\r\n        this.$emit(\"dataChanged\", this.hasChanges); // todo wtf is components? check what does this line do !!!\r\n        this.getEmpSchedDetail()\r\n    },\r\n    watch: {\r\n        ['empSched'](newVal, oldVal) {\r\n            if (newVal != oldVal) {\r\n                this.empSchedDetail = null;\r\n                this.hasChanges = null;\r\n                this.fromDateMenu = false;\r\n                this.toDateMenu = false;\r\n\r\n                this.getEmpSchedDetail()\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // todo: fix calendar\r\n        // getDay(date) {\r\n        //     const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n        //\r\n        //     let i = new Date(date).getDay(date)\r\n        //     return daysOfWeek[i]\r\n        // },\r\n        getEmpSchedDetail() {\r\n            Dialog.loading()\r\n            Remote.EmpSchedDetailRequest(this.empSched.EmployeeNo + '/' + this.empSched.Id)\r\n            .then(response => {\r\n                this.empSchedDetail = response.Data;\r\n                console.log('res', response)\r\n                if (!this.empSchedDetail.Detail) {\r\n                    return;\r\n                }\r\n                var week = 0;\r\n                var date = moment(this.empSchedDetail.Detail.StartDate);\r\n                // Add missing 0 days\r\n                var total = this.empSchedDetail.Detail.NoOfWeeks * 7;\r\n                var fullDays = new Array(total);\r\n                for (var dayNum = 0; dayNum < total; dayNum++) {\r\n                    if (dayNum % 7 == 0) {\r\n                        week++;\r\n                    }\r\n\r\n                    fullDays[dayNum] = {\r\n                        DayNumber: dayNum,\r\n                        DayOfWeek: date.day(),\r\n                        Week: week,\r\n                        Date: moment(date),\r\n                        Hours: 0,\r\n                        StartTime: null,\r\n                        FinishTime: null,\r\n                        ShiftId: null\r\n                    };\r\n\r\n                    date.add(1, 'day')\r\n                }\r\n\r\n                this.empSchedDetail.Detail.Days.map(function (day: any) {\r\n                    //day.Date = new Date(Date.parse(day.Date));\r\n                    if (day.StartTime)\r\n                        fullDays[day.DayNumber].StartTime = moment(day.StartTime);\r\n                    if (day.FinishTime)\r\n                        fullDays[day.DayNumber].FinishTime = moment(day.FinishTime);\r\n                    fullDays[day.DayNumber].Hours = day.Hours;\r\n                    fullDays[day.DayNumber].ShiftId = day.ShiftId;\r\n\r\n                });\r\n\r\n                this.empSchedDetail.Detail.Days = fullDays;\r\n                this.empSchedDetail.Detail.StartDate = moment(this.empSchedDetail.Detail.StartDate);\r\n\r\n                if (response.Data.DateFrom) {\r\n                    this.empSchedDetail.DateFrom = moment(response.Data.DateFrom, 'YYYY-MM-DD')\r\n                }\r\n\r\n\r\n                if (response.Data.DateTo) {\r\n                    this.empSchedDetail.DateTo = moment(response.Data.DateTo, 'YYYY-MM-DD')\r\n                }\r\n\r\n                console.log('date to', response.Data.DateTo)\r\n\r\n                this.datePickerFormattedFromDate();\r\n                this.datePickerFormattedToDate();\r\n            })\r\n            .finally(() => Dialog.clear())\r\n        },\r\n\r\n        submitForm() {\r\n            return false;\r\n        },\r\n\r\n\r\n        updateDateText(event: any, target: any) {\r\n            // this.startDateMenu = false\r\n            this.toDateMenu = false;\r\n            target.set(moment(event, 'DD/MM/YYYY').toObject())\r\n            // todo: add check for is correct format\r\n            this.datePickerFormattedFromDate();\r\n            this.datePickerFormattedToDate();\r\n        },\r\n        datePickerFormattedFromDate() {\r\n            this.fromDatePickerValue = this.empSchedDetail.DateFrom ? moment(this.empSchedDetail.DateFrom).format('YYYY-MM-DD') : undefined; // Date picker objects needs date in this particular format\r\n        },\r\n        datePickerFormattedToDate() {\r\n            this.toDatePickerValue = this.empSchedDetail.DateTo ? moment(this.empSchedDetail.DateTo).format('YYYY-MM-DD') : undefined; // Date picker objects needs date in this particular format\r\n        },\r\n\r\n        fromDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.empSchedDetail.DateFrom = date;\r\n            this.hasChanges = true;\r\n            this.datePickerFormattedFromDate()\r\n        },\r\n        toDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.empSchedDetail.DateTo = date;\r\n            this.hasChanges = true;\r\n            this.datePickerFormattedToDate();\r\n        },\r\n\r\n        isFirstDayOfWeek: function (dayNo: any) {\r\n            var startDate = moment(this.empSchedDetail.Detail.StartDate);\r\n            return dayNo == startDate.day();\r\n        },\r\n        getDayOfWeek: function (dayNo: any) {\r\n            if (dayNo < 0 || dayNo > 6)\r\n                return 'unknown';\r\n            var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n            return days[dayNo];\r\n        },\r\n\r\n        RemoveSchedule() {\r\n            // should be dialog confirm\r\n            Dialog.checkChange({\r\n                message: 'Are you sure?',\r\n                onOk: () => {\r\n                    Dialog.loading()\r\n                    Remote.RemoveEmployeeWorkSchedule(this.empSchedDetail.Id, this.empSched.EmployeeNo)\r\n                        .then(res => {\r\n                            //\r\n                            this.$emit('deleted')\r\n                        }).finally(() => Dialog.clear())\r\n\r\n                }\r\n            })\r\n        },\r\n\r\n        cancelChanges() {\r\n            // this.reloadDetail();\r\n            if (!this.hasChanges) {\r\n                // this.$emit('reload');\r\n                this.getEmpSchedDetail()\r\n                return;\r\n            }\r\n\r\n            console.log('cancel changes')\r\n            let msg = 'There is currently unsaved schedule changes <br /> Do you want to discard your changes?';\r\n            console.log('emitter', emitter)\r\n            emitter.emit('dialog', {\r\n                message: msg,\r\n                showButtons: true,\r\n                showCancel: true,\r\n                okColor: 'orange',\r\n                onOk: () => {\r\n                    // this.$emit('reload');\r\n                    this.getEmpSchedDetail()\r\n                    this.hasChanges = false;\r\n                },\r\n                onCancel: () => {\r\n                    // do nothing\r\n                }\r\n            })\r\n        },\r\n\r\n        updateEmpSched() {\r\n            var dateFrom = moment(this.empSchedDetail.DateFrom);\r\n            var dateTo = moment(this.empSchedDetail.DateTo);\r\n\r\n            if (dateFrom && dateTo &&\r\n                dateFrom > dateTo) {\r\n                Dialog.alert('<br />Date From cannot be before Date To.')\r\n                return;\r\n            }\r\n\r\n            emitter.emit('dialog', {\r\n                message: 'Updating Employee Schedule',\r\n                showButtons: false,\r\n                showLoader: true,\r\n                noClose: false\r\n            });\r\n            Dialog.loading()\r\n\r\n            var postData = {\r\n                Id: this.empSchedDetail.Id,\r\n                DateFrom: dateFrom ? dateFrom.format('DD/MMM/YYYY') : null,\r\n                DateTo: dateTo ? dateTo.format('DD/MMM/YYYY') : null,\r\n                Comment: this.empSchedDetail.Comment\r\n            };\r\n\r\n            Remote.UpdateEmpSchedRequest(postData, this.empSched.EmployeeNo)\r\n                .then(res => {\r\n                    Dialog.clear();\r\n                    this.$emit('updated')\r\n                })\r\n                .catch(err => {\r\n                    Dialog.alert(err.message)\r\n                    console.error('err', err)\r\n                })\r\n        },\r\n        updateDateTime($event: any, dateFrom: any, dateType: string) {\r\n            let element = $event.target.getClientRects()[0]\r\n            this.dateModalTop = element.bottom;\r\n            this.dateModalLeft = element.left;\r\n            console.log('updateDateTime', dateFrom)\r\n            this.datePickerTargetDay = dateFrom;\r\n            this.dateType = dateType;\r\n            this.openDatePicker()\r\n\r\n        },\r\n\r\n        async openDatePicker() {\r\n            // (this.$refs.DatePickerRef as any).toggleShow();\r\n            let result = await ((this.$refs.DatePickerRef as any).toggleShow(this.datePickerTargetDay));\r\n            if (this.dateType === 'DateTo') {\r\n                this.empSchedDetail.DateTo = result\r\n            } else if (this.dateType === 'DateFrom') {\r\n                this.empSchedDetail.DateFrom = result\r\n            }\r\n            this.hasChanges = true;\r\n\r\n        }\r\n    },\r\n})\r\n","import { render } from \"./EmpSchedDetail.vue?vue&type=template&id=04d53c9e&scoped=true\"\nimport script from \"./EmpSchedDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./EmpSchedDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./EmpSchedDetail.vue?vue&type=style&index=0&id=04d53c9e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-04d53c9e\"\n\nexport default script","\r\nimport {emitter} from \"../../main\";\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport EmpScheduleDetail from \"@/components/employeeAllocation/EmpSchedDetail.vue\";\r\nimport Dialog from \"@/components/dialog\";\r\nimport {defineComponent, ref} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"employeeSchedule\",\r\n    components: {EmpScheduleDetail},\r\n    props: ['employee'],\r\n    data: function () {\r\n        return {\r\n            selectedEmp: <any>null,\r\n            empSchedList: <any[]>[],\r\n            activeOnly: false,\r\n            selectedEmpSched: <any>null\r\n        }\r\n    },\r\n    setup(props) {\r\n        const selectedEmp = ref<any>(props.employee)\r\n\r\n        return {selectedEmp}\r\n    },\r\n    mounted() {\r\n        console.log('this employee', this.employee)\r\n        this.selectedEmp = this.employee;\r\n        if (this.selectedEmp && this.selectedEmp.EmployeeNo) {\r\n            this.getEmpWorkScheds()\r\n        } else {\r\n            console.error('employee or employee number missing')\r\n        }\r\n    },\r\n    watch: {\r\n        employee() {\r\n            this.selectedEmp = this.employee;\r\n            if (this.selectedEmp && this.selectedEmp.EmployeeNo) {\r\n                this.getEmpWorkScheds()\r\n            } else {\r\n                console.error('employee or employee number missing')\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        selectEmpSchedCheck(empSched: any) {\r\n            if (this.$refs.empScheDetailRef && (this.$refs.empScheDetailRef as any).hasChanges) {\r\n                Dialog.checkChange({\r\n                    message: 'There are currently Schedule changes <br /> Do you want to discard your changes?',\r\n                    onOk: () => {\r\n                        this.selectEmpSched(empSched)\r\n                    }\r\n                })\r\n            } else {\r\n                this.selectEmpSched(empSched)\r\n            }\r\n        },\r\n        selectEmpSched(empSched: any) {\r\n\r\n            this.empSchedList.forEach(empSched => {\r\n                empSched.classObject.selected = false;\r\n            })\r\n\r\n            empSched.classObject.selected = true\r\n            this.selectedEmpSched = empSched;\r\n        },\r\n\r\n        getEmpWorkScheds() {\r\n            Dialog.loading()\r\n            Remote.EmpWorkScheds(this.selectedEmp.EmployeeNo + (this.activeOnly ? \"?activeOnly=true\" : \"?activeOnly=false\"))\r\n                .then(res => {\r\n                    res.Data.map((empSched: any, index: number) => {\r\n                        empSched.classObject = {\r\n                            'selected': false,\r\n                            'odd': index % 2\r\n                        }\r\n                        empSched.DateFrom = new Date(Date.parse(empSched.DateFrom));\r\n                        if (empSched.DateTo)\r\n                            empSched.DateTo = new Date(Date.parse(empSched.DateTo));\r\n                    });\r\n                    this.empSchedList = res.Data;\r\n                    Dialog.clear();\r\n                })\r\n        },\r\n\r\n        updateActiveOnly() {\r\n            this.getEmpWorkScheds();\r\n        },\r\n        closeEmployeeSchedule(changeCheck: any) {\r\n            if (!changeCheck || !this.$refs.empScheDetailRef || (this.$refs.empScheDetailRef && !(this.$refs.empScheDetailRef as any).hasChanges)) {\r\n                this.$emit('close')\r\n                return;\r\n            }\r\n\r\n            Dialog.checkChange({\r\n                message: 'There are currently Schedule changes <br /> Do you want to discard your changes?',\r\n                onOk: () => {\r\n                    this.closeEmployeeSchedule(false)\r\n                }\r\n            })\r\n        },\r\n        deleteSelection() {\r\n            this.selectedEmpSched = null;\r\n            this.getEmpWorkScheds();\r\n        },\r\n        updatedEmpSchedule() {\r\n            this.selectedEmpSched = null;\r\n            this.getEmpWorkScheds();\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./EmployeeSchedule.vue?vue&type=template&id=9e5ee39c&scoped=true\"\nimport script from \"./EmployeeSchedule.vue?vue&type=script&lang=ts\"\nexport * from \"./EmployeeSchedule.vue?vue&type=script&lang=ts\"\n\nimport \"./EmployeeSchedule.vue?vue&type=style&index=0&id=9e5ee39c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9e5ee39c\"\n\nexport default script","<template>\r\n    <div class=\"section shadow sched-card-default pa-4\">\r\n        <h3>Select Employees</h3>\r\n        <input class=\"mt-2 caption text-field-input\" v-model=\"searchTerm\" hide-details dense outlined type=\"text\"\r\n               placeholder=\"Search for employees \"/>\r\n        <div class=\"aff-table mt-4\">\r\n            <table class=\"ui-grid\">\r\n                <tbody>\r\n                <tr v-for=\"emp in empList\" :class=\"emp.classObject\" @click=\"toggleEmployeeSelect(emp)\">\r\n                    <td>\r\n                        <span class=\"name-text-width\">{{ emp.EmployeeName }} ({{ emp.EmployeeNo }})</span>\r\n\r\n                        <span class=\"current-schedules-width\">\r\n                            <div class=\"schedule-name\" v-for=\"name in emp.WorkschedNames\">{{ name }}</div>\r\n                            <div class=\"schedule-name\">{{ emp.PersonalSchedule }}</div>\r\n                        </span>\r\n                    </td>\r\n                    <td>\r\n                        <button v-if=\"!isMobileView && !emp.classObject.selected\"\r\n                                class=\"green white--text fsmall\"\r\n                                v-tooltip.right=\"{content: 'Add to Employee Selection List'}\"\r\n                                @click.stop=\"addEmployee(emp)\">\r\n                            <span class=\"icon-add-to-list\"></span>\r\n                        </button>\r\n                        <button v-if=\"isMobileView && !emp.classObject.selected\"\r\n                                class=\"green white--text fsmall\"\r\n                                @click.stop=\"addEmployee(emp)\">\r\n                            <span class=\"icon-add-to-list\"></span>\r\n                        </button>\r\n                        <button v-if=\"emp.classObject.selected\"\r\n                                class=\"grey fsmall\"\r\n                                v-tooltip.right=\"{content: 'Remove Employee From Selection List'}\"\r\n                                @click.stop=\"removeEmployee(emp)\">\r\n                            <span class=\"icon-minus white--text small\"></span>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {emitter} from \"../../main\";\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport Vue, {defineComponent} from \"vue\";\r\nimport Dialog from '@/components/dialog'\r\n\r\nexport default defineComponent({\r\n    name: \"SearchEmployee\",\r\n    data: function () {\r\n        return {\r\n            // employee list\r\n            searchTerm: '',\r\n            empList: [],\r\n            selectedEmpList: <any>[],\r\n            selectedEmp: null,\r\n            isMobileView: false,\r\n        }\r\n    },\r\n    mounted() {\r\n        if (navigator.userAgent.match(/Android/i)\r\n            || navigator.userAgent.match(/webOS/i)\r\n            || navigator.userAgent.match(/iPhone/i)\r\n            || navigator.userAgent.match(/iPad/i)\r\n            || navigator.userAgent.match(/iPod/i)\r\n            || navigator.userAgent.match(/BlackBerry/i)\r\n            || navigator.userAgent.match(/Windows Phone/i)\r\n        ) {\r\n            console.log('is mobile view true')\r\n            this.isMobileView = true;\r\n        } else {\r\n            this.isMobileView = false;\r\n        }\r\n\r\n        this.getEmployeesList()\r\n    },\r\n    watch: {\r\n        searchTerm: function (newVal, oldVal) {\r\n            if (oldVal != newVal) {\r\n                if (newVal.trim().length == 0) {\r\n                    this.empList.forEach(function (emp: any) {\r\n                        emp.classObject.visible = true;\r\n                        emp.classObject.hidden = false;\r\n                    });\r\n\r\n                } else {\r\n                    var searchTerm = newVal.toLowerCase().trim();\r\n                    this.empList.forEach((emp: any) => {\r\n                        emp.classObject.visible = (emp.EmployeeName && emp.EmployeeName.toLowerCase().indexOf(searchTerm) > -1) || (emp.EmployeeNo && emp.EmployeeNo.toString().indexOf(searchTerm) > -1);\r\n                        emp.classObject.hidden = !emp.classObject.visible;\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        getEmployeesList() {\r\n            Dialog.loading()\r\n            Remote.EmployeesList().then(response => {\r\n                response.Data.map((sched: any, index: number) => {\r\n                    sched.classObject = {\r\n                        'visible': true,\r\n                        'hidden': false,\r\n                        'selected': false,\r\n                        'odd': index % 2\r\n                    }\r\n                })\r\n                this.empList = response.Data;\r\n            }).finally(() => {\r\n                Dialog.clear()\r\n            })\r\n\r\n        },\r\n        toggleEmployeeSelect: function (emp: any) {\r\n            if (emp.classObject.selected) {\r\n                this.removeEmployee(emp)\r\n            } else {\r\n                this.addEmployee(emp)\r\n            }\r\n        },\r\n        removeEmployee: function (emp: any) {\r\n            emp.classObject.selected = false;\r\n            this.selectedEmpList.splice(this.selectedEmpList.indexOf(emp), 1);\r\n            this.$emit('updateSelectedEmpList', this.selectedEmpList)\r\n        },\r\n\r\n        addEmployee: function (emp: any) {\r\n            emp.classObject.selected = true;\r\n            this.selectedEmpList.push(emp);\r\n            this.$emit('updateSelectedEmpList', this.selectedEmpList)\r\n        },\r\n\r\n        // external\r\n        // called from parent\r\n        clearSelectedEmployeeList: function () {\r\n            this.selectedEmpList.forEach((emp: any) => {\r\n                emp.classObject.selected = false;\r\n            })\r\n\r\n            this.selectedEmpList = [];\r\n            this.$emit('updateSelectedEmpList', this.selectedEmpList)\r\n        },\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.sched-card-default {\r\n    background: #efefef;\r\n    width: 460px;\r\n\r\n    @media only screen and (max-width: 600px) {\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.aff-table {\r\n    max-height: 600px;\r\n    overflow: auto;\r\n\r\n    table {\r\n        border: 1px solid #e3e3e3;\r\n    }\r\n\r\n    tr {\r\n        cursor: pointer;\r\n    }\r\n\r\n    @media only screen and (max-height: 900px) {\r\n        max-height: 600px;\r\n    }\r\n\r\n    @media only screen and (max-height: 800px) {\r\n        max-height: 500px;\r\n    }\r\n\r\n    @media only screen and (max-height: 700px) {\r\n        max-height: 400px;\r\n    }\r\n\r\n    @media only screen and (max-width: 600px) {\r\n        max-height: 200px;\r\n    }\r\n}\r\n\r\n.emp-selected-table {\r\n    width: 80%;\r\n}\r\n\r\n.v-btn:not(.v-btn--round).v-size--small {\r\n    height: 24px;\r\n}\r\n\r\n.name-text-width {\r\n    display: inline-block;\r\n    width: 200px;\r\n    vertical-align: top;\r\n    @media screen and (max-width: 600px) {\r\n        width: 140px;\r\n    }\r\n}\r\n\r\n.current-schedules-width {\r\n    display: inline-block;\r\n    width: 130px;\r\n}\r\n\r\n.schedule-name {\r\n    width: 130px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n</style>","\r\nimport {emitter} from \"../../main\";\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport Vue, {defineComponent} from \"vue\";\r\nimport Dialog from '@/components/dialog'\r\n\r\nexport default defineComponent({\r\n    name: \"SearchEmployee\",\r\n    data: function () {\r\n        return {\r\n            // employee list\r\n            searchTerm: '',\r\n            empList: [],\r\n            selectedEmpList: <any>[],\r\n            selectedEmp: null,\r\n            isMobileView: false,\r\n        }\r\n    },\r\n    mounted() {\r\n        if (navigator.userAgent.match(/Android/i)\r\n            || navigator.userAgent.match(/webOS/i)\r\n            || navigator.userAgent.match(/iPhone/i)\r\n            || navigator.userAgent.match(/iPad/i)\r\n            || navigator.userAgent.match(/iPod/i)\r\n            || navigator.userAgent.match(/BlackBerry/i)\r\n            || navigator.userAgent.match(/Windows Phone/i)\r\n        ) {\r\n            console.log('is mobile view true')\r\n            this.isMobileView = true;\r\n        } else {\r\n            this.isMobileView = false;\r\n        }\r\n\r\n        this.getEmployeesList()\r\n    },\r\n    watch: {\r\n        searchTerm: function (newVal, oldVal) {\r\n            if (oldVal != newVal) {\r\n                if (newVal.trim().length == 0) {\r\n                    this.empList.forEach(function (emp: any) {\r\n                        emp.classObject.visible = true;\r\n                        emp.classObject.hidden = false;\r\n                    });\r\n\r\n                } else {\r\n                    var searchTerm = newVal.toLowerCase().trim();\r\n                    this.empList.forEach((emp: any) => {\r\n                        emp.classObject.visible = (emp.EmployeeName && emp.EmployeeName.toLowerCase().indexOf(searchTerm) > -1) || (emp.EmployeeNo && emp.EmployeeNo.toString().indexOf(searchTerm) > -1);\r\n                        emp.classObject.hidden = !emp.classObject.visible;\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        getEmployeesList() {\r\n            Dialog.loading()\r\n            Remote.EmployeesList().then(response => {\r\n                response.Data.map((sched: any, index: number) => {\r\n                    sched.classObject = {\r\n                        'visible': true,\r\n                        'hidden': false,\r\n                        'selected': false,\r\n                        'odd': index % 2\r\n                    }\r\n                })\r\n                this.empList = response.Data;\r\n            }).finally(() => {\r\n                Dialog.clear()\r\n            })\r\n\r\n        },\r\n        toggleEmployeeSelect: function (emp: any) {\r\n            if (emp.classObject.selected) {\r\n                this.removeEmployee(emp)\r\n            } else {\r\n                this.addEmployee(emp)\r\n            }\r\n        },\r\n        removeEmployee: function (emp: any) {\r\n            emp.classObject.selected = false;\r\n            this.selectedEmpList.splice(this.selectedEmpList.indexOf(emp), 1);\r\n            this.$emit('updateSelectedEmpList', this.selectedEmpList)\r\n        },\r\n\r\n        addEmployee: function (emp: any) {\r\n            emp.classObject.selected = true;\r\n            this.selectedEmpList.push(emp);\r\n            this.$emit('updateSelectedEmpList', this.selectedEmpList)\r\n        },\r\n\r\n        // external\r\n        // called from parent\r\n        clearSelectedEmployeeList: function () {\r\n            this.selectedEmpList.forEach((emp: any) => {\r\n                emp.classObject.selected = false;\r\n            })\r\n\r\n            this.selectedEmpList = [];\r\n            this.$emit('updateSelectedEmpList', this.selectedEmpList)\r\n        },\r\n    }\r\n})\r\n","import { render } from \"./SearchEmployee.vue?vue&type=template&id=d14d6750&scoped=true\"\nimport script from \"./SearchEmployee.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchEmployee.vue?vue&type=script&lang=ts\"\n\nimport \"./SearchEmployee.vue?vue&type=style&index=0&id=d14d6750&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-d14d6750\"\n\nexport default script","\r\nimport Remote from \"@/remote/scheduleRequest\";\r\nimport {emitter} from \"../../main\";\r\nimport moment, {Moment} from \"moment\";\r\nimport EmployeeSchedule from \"./EmployeeSchedule.vue\";\r\nimport SearchEmployee from \"./SearchEmployee.vue\";\r\nimport Dialog from '@/components/dialog';\r\nimport {defineComponent} from \"vue\";\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\n\r\nexport default defineComponent({\r\n    name: 'employeeAllocation',\r\n    components: {\r\n        SearchEmployee,\r\n        EmployeeSchedule,\r\n        DatePicker,\r\n    },\r\n    data: function () {\r\n        return {\r\n            bulkEmpList: <any[]>[],\r\n            schedList: <any[]>[],\r\n            hasChanges: false,\r\n\r\n            // select schedule\r\n            cloneSchedList: <any[]>[],\r\n            selectSearchInput: '',\r\n\r\n            // form model\r\n            schedAllocation: {\r\n                WorkschedId: -1,\r\n                DateFrom: <Moment | null>moment(),\r\n                DateTo: <Moment | null>null,\r\n                Comment: '',\r\n                EndExistingScheds: true\r\n            },\r\n\r\n            selectedSchedule: <any>{},\r\n\r\n            // employee-chedule component input data\r\n            selectedEmpForDetail: null,\r\n\r\n            // datePicker\r\n            startDateMenu: false,\r\n            toDateMenu: false,\r\n            startDatePickerValue: <any>'',\r\n            toDatePickerValue: <any>'',\r\n            datePickerTargetDay: <any>null,\r\n            dateType: '',\r\n\r\n            //\r\n            isMobileView: false,\r\n\r\n            //date modal\r\n            dateModalTop: null,\r\n            dateModalLeft: null,\r\n        };\r\n    },\r\n\r\n    // created: function () {\r\n    //\r\n    // },\r\n    mounted: function () {\r\n        this.isMobileView = this.checkIsMobileView()\r\n        // Dialog.loading()\r\n        Remote.StandardSchedules().then(response => {\r\n            this.schedList = response.Data.filter((data: any) => data.Archive === false);\r\n            this.cloneSchedList = this.schedList.slice();\r\n            //  Dialog.clear()\r\n        })\r\n        this.$watch('schedAllocation', (newVal: any, oldVal: any) => {\r\n            if (newVal === oldVal) {\r\n                this.hasChanges = true; //ignore employee list changes.\r\n            }\r\n        }, {deep: true});\r\n    },\r\n    computed: {\r\n        selectedSched() {\r\n            if (this.schedAllocation.WorkschedId === -1) {\r\n                return false;\r\n            }\r\n\r\n            // todo: cant not use this.schedList in return\r\n            let schedList: any = this.schedList;\r\n            return schedList.find((sched: any)=> {\r\n                return sched.Id === this.schedAllocation.WorkschedId\r\n            })\r\n        },\r\n\r\n        capDate: function () {\r\n            if (!this.schedAllocation.DateFrom) {\r\n                return\r\n            }\r\n\r\n            let schedAllocation: any = this.schedAllocation\r\n\r\n            let date = moment(schedAllocation.DateFrom);\r\n            let yesterday = date.subtract(1, 'day')\r\n            return yesterday.format('DD/MM/YYYY');\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        // todo: fix calendar\r\n        // getDay(date) {\r\n        //     const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n        //\r\n        //     let i = new Date(date).getDay(date)\r\n        //     return daysOfWeek[i]\r\n        // },\r\n\r\n        testDown() {\r\n            console.log('down')\r\n        },\r\n\r\n        navDownList() {\r\n            console.log('nav down list')\r\n        },\r\n\r\n        updateSearchList(event: any) {\r\n            console.log('test', event)\r\n            if (event.key === \"ArrowDown\") {\r\n                (this.$refs.selectDropdownRef as any).focus();\r\n            }\r\n            this.cloneSchedList = this.schedList.filter(o => {\r\n                console.log('o')\r\n                return o.Name.toLowerCase().indexOf(this.selectSearchInput.toLowerCase()) > -1\r\n            })\r\n        },\r\n\r\n        updateDateText(event: any, target: any) {\r\n            this.startDateMenu = false\r\n            this.toDateMenu = false;\r\n            target.set(moment(event, 'DD/MM/YYYY').toObject())\r\n            // todo: add check for is correct format\r\n            this.datePickerFormattedFromDate();\r\n            this.datePickerFormattedToDate();\r\n        },\r\n\r\n        datePickerFormattedFromDate() {\r\n            this.startDatePickerValue = this.schedAllocation.DateFrom ? moment(this.schedAllocation.DateFrom).format('YYYY-MM-DD') : undefined; // Date picker objects needs date in this particular format\r\n        },\r\n        datePickerFormattedToDate() {\r\n            this.toDatePickerValue = this.schedAllocation.DateTo ? moment(this.schedAllocation.DateTo).format('YYYY-MM-DD') : undefined; // Date picker objects needs date in this particular format\r\n        },\r\n\r\n        updateEmpList(empList: any) {\r\n            this.bulkEmpList = empList\r\n        },\r\n        startDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.schedAllocation.DateFrom = date;\r\n            this.datePickerFormattedFromDate()\r\n        },\r\n        toDateDatePickerHandler(date: any) {\r\n            if (typeof date === 'string')\r\n                date = moment(date);\r\n            this.schedAllocation.DateTo = date;\r\n            this.datePickerFormattedToDate()\r\n        },\r\n\r\n        removeEmployee: function (emp: any) {\r\n            (this.$refs.SearchEmployeeRef as any).removeEmployee(emp)\r\n        },\r\n\r\n        clearSelectedEmployee: function () {\r\n            if (this.hasChanges) {\r\n                Dialog.checkChange({\r\n                    message: 'There are currently Schedule Allocation changes <br /> Do you want to discard your changes?',\r\n                    onOk: () => {\r\n                        (this.$refs.SearchEmployeeRef as any).clearSelectedEmployeeList();\r\n                        this.resetSchedAllocation()\r\n                    }\r\n                })\r\n            } else {\r\n                (this.$refs.SearchEmployeeRef as any).clearSelectedEmployeeList();\r\n            }\r\n        },\r\n\r\n        allocateEmployees: function () {\r\n            var warningMsgs = '';\r\n            if (this.selectedSchedule.Id < 1 || !this.selectedSchedule.Id) {\r\n                warningMsgs += '<br />Select a schedule that you want to allocate.';\r\n            }\r\n\r\n            if (this.schedAllocation.DateFrom && this.schedAllocation.DateTo &&\r\n                this.schedAllocation.DateFrom.diff(this.schedAllocation.DateTo) > 0) {\r\n                warningMsgs += '<br />Date To cannot be before Date From.';\r\n            }\r\n\r\n            if (warningMsgs != '') {\r\n                // emitter.emit('dialog', {\r\n                //     message: warningMsgs,\r\n                //     showButtons: true,\r\n                //     noClose: false,\r\n                //     showLoader: false\r\n                // });\r\n\r\n                return;\r\n            }\r\n\r\n            var postData = {\r\n                WorkschedId: this.selectedSchedule.Id,\r\n                EmployeeList: <any[]> [],\r\n                DateFrom: moment(this.schedAllocation.DateFrom) ? moment(this.schedAllocation.DateFrom).format('DD/MMM/YYYY') : null,\r\n                DateTo: moment(this.schedAllocation.DateTo) ? moment(this.schedAllocation.DateTo).format('DD/MMM/YYYY') : null,\r\n                Comment: this.schedAllocation.Comment,\r\n                EndExistingScheds: this.schedAllocation.EndExistingScheds\r\n            };\r\n\r\n            if (this.bulkEmpList.length > 0) {\r\n                this.bulkEmpList.forEach((emp: any) => {\r\n                    postData.EmployeeList.push(emp.EmployeeNo);\r\n                });\r\n\r\n            }\r\n\r\n            // todo: did not find this.selectedEmp ??!!\r\n            // else if (this.selectedEmp) {\r\n            //     postData.EmployeeList = [this.selectedEmp.EmployeeNo];\r\n            // }\r\n\r\n            Dialog.loading()\r\n            Remote.AllocateSchedule(postData).then(res => {\r\n                this.hasChanges = false;\r\n                this.resetSchedAllocation();\r\n                Dialog.clear()\r\n                if (this.$refs.EmployeeScheduleRef) {\r\n                    (this.$refs.EmployeeScheduleRef as any).getEmpWorkScheds()\r\n                }\r\n\r\n                // this.getEmpWorkScheds\r\n            })\r\n                .catch(err => {\r\n                    Dialog.alert(err.message)\r\n                    console.error('err', err)\r\n                })\r\n        },\r\n\r\n        closeSchedAllocation: function () {\r\n            if (this.hasChanges) {\r\n                Dialog.checkChange({\r\n                    message: 'You have unsaved changes. Are you sure to discard the changes?',\r\n                    onOk: () => {\r\n                        this.resetSchedAllocation();\r\n                        this.hasChanges = false;\r\n                        (this.$refs.SearchEmployeeRef as any).clearSelectedEmployeeList();\r\n                    },\r\n                })\r\n            } else {\r\n                (this.$refs.SearchEmployeeRef as any).clearSelectedEmployeeList();\r\n            }\r\n        },\r\n\r\n        showScheduleDetail: function (employee: any) {\r\n            this.selectedEmpForDetail = employee;\r\n        },\r\n\r\n        resetSelectedEmpForDetail() {\r\n            this.selectedEmpForDetail = null;\r\n        },\r\n\r\n        resetSchedAllocation: function () {\r\n            this.hasChanges = false;\r\n            this.schedAllocation = {\r\n                WorkschedId: -1,\r\n                DateFrom: moment(),\r\n                DateTo: null,\r\n                Comment: '',\r\n                EndExistingScheds: true\r\n            };\r\n        },\r\n\r\n        checkIsMobileView: function () {\r\n            if (navigator.userAgent.match(/Android/i)\r\n                || navigator.userAgent.match(/webOS/i)\r\n                || navigator.userAgent.match(/iPhone/i)\r\n                || navigator.userAgent.match(/iPad/i)\r\n                || navigator.userAgent.match(/iPod/i)\r\n                || navigator.userAgent.match(/BlackBerry/i)\r\n                || navigator.userAgent.match(/Windows Phone/i)\r\n            ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        chooseSchedule($event: any, option: any) {\r\n            $event.target.blur()\r\n            console.log('schedList', this.schedList)\r\n            this.selectedSchedule = option;\r\n            this.selectSearchInput = this.selectedSchedule.Name;\r\n\r\n            let a = $event.target.blur();\r\n            console.log('fawef', a)\r\n\r\n            // console.log('a')\r\n\r\n            // console.log('$event', $event)\r\n\r\n            let b = (this.$refs.selectRef as any);\r\n            b.blur();\r\n            let c = (this.$refs.selectInputRef as any);\r\n            c.blur();\r\n        },\r\n\r\n        updateDateTime($event: any, dateFrom: any, dateType: string) {\r\n            let element = $event.target.getClientRects()[0]\r\n            this.dateModalTop = element.bottom;\r\n            this.dateModalLeft = element.left;\r\n            this.datePickerTargetDay = dateFrom;\r\n            this.dateType = dateType;\r\n            this.openDatePicker()\r\n        },\r\n\r\n        async openDatePicker() {\r\n            // (this.$refs.DatePickerRef as any).toggleShow();\r\n            let result = await ((this.$refs.DatePickerRef as any).toggleShow(this.datePickerTargetDay));\r\n            if (this.dateType === 'DateTo') {\r\n                this.schedAllocation.DateTo = result\r\n            } else if (this.dateType === 'DateFrom') {\r\n                this.schedAllocation.DateFrom = result\r\n            }\r\n\r\n        }\r\n    },\r\n})\r\n","import { render } from \"./EmployeeAllocation.vue?vue&type=template&id=5d191eec&scoped=true\"\nimport script from \"./EmployeeAllocation.vue?vue&type=script&lang=ts\"\nexport * from \"./EmployeeAllocation.vue?vue&type=script&lang=ts\"\n\nimport \"./EmployeeAllocation.vue?vue&type=style&index=0&id=5d191eec&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-5d191eec\"\n\nexport default script","<template>\r\n    <div class=\"d-flex mt-4 justify-space-between\">\r\n\r\n        <div class=\"ml-2\">\r\n            <flex-schedule-cell-control></flex-schedule-cell-control>\r\n        </div>\r\n        <div class=\"weekDetail d-flex align-center\">\r\n            <span class=\"arrow-height mr-4\" @click=\"getLastWeek\">\r\n                <Icon :icon=\"$icons.chevronLeft\" height=\"30\" :style=\"{ color: '#0000008a' }\" ></Icon>\r\n            </span>\r\n            <span @click=\"chooseCalendarDate\">{{$filters.ordinalSuffix(dayFocus.week())}} Week, {{ dayFocus.format('DD-MM-YYYY') }}</span>\r\n            <span class=\"arrow-height ml-4\" @click=\"getNextWeek\">\r\n                <Icon :icon=\"$icons.chevronRight\" height=\"30\" :style=\"{ color: '#0000008a' }\"></Icon>\r\n            </span>\r\n\r\n        </div>\r\n        <div></div>\r\n    </div>\r\n\r\n    <div class=\"schedules-data-medium mt-4\" style=\"overflow:auto;\">\r\n        <div class=\"flex-sche-table\">\r\n            <div class=\"table-head\">\r\n                <div class=\"schedule-head-grid\">\r\n                    <div class=\"table-cell\"></div>\r\n                    <div class=\"table-cell\">Std Hour</div>\r\n                    <div class=\"table-cell\">Total Hour</div>\r\n                    <div class=\"table-cell\" v-for=\"weekDay in weekDays\">\r\n                        {{ weekDay.day }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"table-body\">\r\n<!--                <div v-for=\"(scheduleArr, value) of scheduleWeek.entries()\">-->\r\n<!--                    <div>{{scheduleArr}}</div>-->\r\n<!--                    <div>{{value}}</div>-->\r\n<!--                </div>-->\r\n                <div class=\"schedules-arr\" v-for=\"(empNo) in scheduleWeek.keys()\">\r\n                    <div class=\"content-cell\">{{ scheduleWeek.get(empNo).EmployeeName }}</div>\r\n                    <div class=\"content-cell\">{{ scheduleWeek.get(empNo).StdHoursPerWeek }}</div>\r\n                    <div class=\"content-cell\">{{getTotalHour(scheduleWeek.get(empNo).sche)}}</div>\r\n                    <div class=\"content-cell\" v-for=\"scheDay in scheduleWeek.get(empNo).sche\" v-bind:style=\"scheDay.column\">\r\n                        <dynamic-day-cell :scheDay=\"scheDay\" @openEditDialog=\"openEditDialog\"></dynamic-day-cell>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n<!--    popups -->\r\n    <div>\r\n        <edit-flex-schedule ref=\"EditModalRef\" :isEdit=\"isEditingDialog\"></edit-flex-schedule>\r\n        <date-picker ref=\"DatePickerRef\" :top=\"datePickerTop\" :left=\"datePickerLeft\"></date-picker>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent, ref} from \"vue\";\r\nimport moment, {Moment} from \"moment\";\r\nimport {getScheduleWeek, ScheduleDay} from \"./schedule-day-mock\";\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\nimport EditFlexSchedule from \"@/components/FlexSchedule/EditFlexSchedule.vue\";\r\nimport DynamicDayCell from \"@/components/FlexSchedule/DynamicDayCell.vue\"\r\nimport {FlexScheduleAction, FlexScheduleMutation} from \"@/store/flexScheduleModule\";\r\nimport FlexScheduleCellControl from \"@/components/FlexSchedule/FlexScheduleCellControl.vue\";\r\nimport TimePicker from \"@/components/common/timePicker/TimePicker.vue\";\r\n\r\nimport { Icon } from '@iconify/vue';\r\nimport AutoComplete from \"@/components/common/AutoComplete.vue\";\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport {LookupActions} from \"@/store/lookupModule\";\r\nimport {useStore} from \"vuex\";\r\ndeclare var Affinity: any\r\n\r\nexport default defineComponent({\r\n    name: \"FlexSchedule\",\r\n    components: {\r\n        DatePicker,\r\n        TimePicker,\r\n        EditFlexSchedule,\r\n        DynamicDayCell,\r\n        FlexScheduleCellControl,\r\n        Icon,\r\n        AutoComplete,\r\n    },\r\n    data() {\r\n        return {\r\n            dayFocus: moment(),\r\n            weekDays: <any[]>[], // calendar week days name\r\n            scheduleWeek: <any[]>[], // list of data per week\r\n            selectedWeekStart: moment(),\r\n            autoCompleteList:[\r\n                {\r\n                    name: '1',\r\n                    display: 'display 1'\r\n                },\r\n                {\r\n                    name: '2',\r\n                    display: 'display 2'\r\n                },\r\n                {\r\n                    name: '3',\r\n                    display: 'display 3'\r\n                },\r\n                {\r\n                    name: '4',\r\n                    display: 'display 4'\r\n                }\r\n            ],\r\n            isEditingDialog: false,\r\n            datePickerTop: 0,\r\n            datePickerLeft: 0,\r\n            employeeList: <any>[],\r\n            scheduleWeekMap: new Map()\r\n\r\n        }\r\n    },\r\n    setup() {\r\n        // const store = useStore()\r\n        // store.dispatch(FlexScheduleAction.loadTargetSchedule,6)\r\n    },\r\n    async mounted() {\r\n        this.$store.dispatch(LookupActions.getPositions, Affinity.user.EmployeeNo)\r\n        this.$store.dispatch(LookupActions.getShifts)\r\n        this.$store.dispatch(LookupActions.getCostElement)\r\n\r\n        let today = moment();\r\n        let weekStart = today.clone().startOf('week')\r\n        let weekEnd = today.clone().endOf('week')\r\n        this.loadDate(weekStart, weekEnd)\r\n    },\r\n\r\n    methods: {\r\n        async loadDate(weekStart: Moment, weekEnd: Moment) {\r\n            let [dateData, employeeList] = await Promise.all([\r\n                this.getDateData(weekStart, weekEnd),\r\n                Remote.GetManagedEmployees(Affinity.user.EmployeeNo).then(res => {\r\n                    console.log('res employees', res)\r\n                    return res.map((data: any) => {\r\n                        return {\r\n                            EmployeeName: data.CommonName,\r\n                            EmployeeNo: data.EmployeeNo,\r\n                            StdHoursPerWeek: data.StdHoursPerWeek,\r\n                            PositionCode: data.PositionCode\r\n                        }\r\n                    })\r\n                })\r\n            ]);\r\n\r\n            for (let employee of employeeList) {\r\n                this.scheduleWeekMap.set(employee.EmployeeNo, employee)\r\n            }\r\n\r\n            for (let sche of dateData) {\r\n                if (this.scheduleWeekMap.get(sche.EmployeeNo) && !this.scheduleWeekMap.get(sche.EmployeeNo).sche) {\r\n                    this.scheduleWeekMap.get(sche.EmployeeNo).sche = [sche]\r\n                } else if (this.scheduleWeekMap.get(sche.EmployeeNo)) {\r\n                    this.scheduleWeekMap.get(sche.EmployeeNo).sche.push(sche)\r\n                }\r\n            }\r\n\r\n            let newWeek = {\r\n                weekStart: moment().startOf('week'),\r\n                weekEnd: moment().endOf('week'),\r\n                scheduleWeek: this.scheduleWeekMap\r\n            }\r\n\r\n            this.$store.state.FlexSchedule.calendarFocusDate = moment();\r\n\r\n            this.getNewWeek(newWeek);\r\n            console.log('scheduleWeekMap', this.scheduleWeekMap)\r\n        },\r\n\r\n        async chooseCalendarDate($event: any) {\r\n            // console.log('event', $event)\r\n            let element = $event.target.getClientRects()[0]\r\n            this.datePickerTop = element.bottom;\r\n            this.datePickerLeft = element.left;\r\n            let datePickerResult;\r\n            try {\r\n                datePickerResult = await (this.$refs.DatePickerRef as any).toggleShow(this.dayFocus);\r\n            } catch (e) {\r\n                return\r\n            }\r\n            this.selectDate(datePickerResult)\r\n        },\r\n\r\n        async selectDate(date: Moment) {\r\n            this.dayFocus = date;\r\n            this.$store.state.FlexSchedule.calendarFocusDate = date\r\n            let weekStart = date.clone().startOf('week')\r\n            let weekEnd = date.clone().endOf('week')\r\n            return this.getDateData(weekStart, weekEnd)\r\n            // this.getNewWeek(date)\r\n        },\r\n        getSelectedWeek(selectedDate: any) {\r\n            var weekStart = selectedDate.clone().startOf('week');\r\n            var weekEnd = selectedDate.clone().endOf('week');\r\n\r\n            this.weekDays = [];\r\n\r\n            for (let i = 0; i <= 6; i++) {\r\n                let momentDay = moment(weekStart).add(i, 'days')\r\n                this.weekDays.push({\r\n                    momentDay: momentDay,\r\n                    day: momentDay.format(\"ddd, MMM Do\")\r\n                })\r\n            }\r\n        },\r\n        async getDateData(startDate?: Moment, endDate?: Moment) {\r\n            let param = {}\r\n            if (startDate && endDate) {\r\n                param = {\r\n                    startDate: startDate.format('YYYY-MM-DD'),\r\n                    endDate: endDate.format('YYYY-MM-DD')\r\n                }\r\n            }\r\n\r\n            return Remote.GetFlexSchedules(param).then(res => {\r\n                // console.log('res', res)\r\n                return this.reformatData(res)\r\n\r\n            })\r\n        },\r\n        scheDaysToColumn() {\r\n            // let scheduleWeekList = getScheduleWeek(12)\r\n\r\n            for (let scheduleArr of this.scheduleWeek.values()) {\r\n                let employeeName = scheduleArr.EmployeeName\r\n                let employeeNo = scheduleArr.EmployeeNo\r\n                for (let i = 0; i <= 6; i++) {\r\n\r\n                    let findResult\r\n\r\n                    if (scheduleArr.sche) {\r\n                        findResult = scheduleArr.sche.find((day: any) => {\r\n                            return day.dayInWeek === i;\r\n                        })\r\n                    } else {\r\n                        scheduleArr.sche = []\r\n                    }\r\n\r\n                    if (!findResult) {\r\n                        // if first day in array and that employee do not have flex schedule ([0].dayInWeek == undefined)\r\n                        if (i === 0 && (!scheduleArr.sche[0]\r\n                                        || (scheduleArr.sche[0].dayInWeek === null\r\n                                            || scheduleArr.sche[0].dayInWeek === undefined ))) {\r\n                            scheduleArr.sche[0] = {}\r\n                            scheduleArr.sche[0].dayInWeek = 0;\r\n                            scheduleArr.sche[0].employeeName = employeeName;\r\n                            scheduleArr.sche[0].employeeNo = employeeNo;\r\n                        } else {\r\n                            scheduleArr.sche.push({\r\n                                dayInWeek: i,\r\n                                employeeName: employeeName,\r\n                                employeeNo: employeeNo\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n\r\n                scheduleArr.sche.sort((a: any, b: any) => a.dayInWeek - b.dayInWeek)\r\n                for (let day of scheduleArr.sche) {\r\n                    day.column = `grid-column-start: ${day.dayInWeek + 4}`;\r\n                    day.editing = false;\r\n                }\r\n            }\r\n\r\n            console.log('this.scheduleWeek', this.scheduleWeek)\r\n        },\r\n        getLastWeek() {\r\n            this.dayFocus.subtract(7, 'days')\r\n\r\n            let weekStart = this.dayFocus.clone().startOf('week')\r\n            let weekEnd = this.dayFocus.clone().endOf('week')\r\n\r\n            console.log('this.scheduleWeekMap', this.scheduleWeekMap)\r\n\r\n            this.loadDate(weekStart, weekEnd)\r\n\r\n            // this.getNewWeek()\r\n        },\r\n        getNextWeek() {\r\n            this.dayFocus.add(7, 'days')\r\n            let weekStart = this.dayFocus.clone().startOf('week')\r\n            let weekEnd = this.dayFocus.clone().endOf('week')\r\n            this.loadDate(weekStart, weekEnd)\r\n            // this.getNewWeek()\r\n        },\r\n\r\n        getNewWeek(newWeek?: any) {\r\n            let newWeekData = newWeek;\r\n            this.getSelectedWeek(newWeekData!.weekStart)\r\n            this.scheduleWeek = this.$store.state.FlexSchedule.scheduleWeek = newWeekData!.scheduleWeek\r\n            this.scheDaysToColumn();\r\n        },\r\n        moreDetail(day: ScheduleDay) {\r\n            this.$store.commit(FlexScheduleMutation.setScheduleDay, day)\r\n        },\r\n\r\n        getTotalHour(sche: ScheduleDay[]) {\r\n            let totalHours = 0;\r\n            for (let day of sche) {\r\n                if (day.hours) {\r\n                    totalHours += day.hours\r\n                }\r\n            }\r\n            return totalHours;\r\n        },\r\n\r\n        confirmEdit(day: any) {\r\n            day.editing = false;\r\n        },\r\n\r\n        cancelEdit(day: any) {\r\n\r\n        },\r\n\r\n        editScheDay(day: any) {\r\n            day.editing = true\r\n        },\r\n        openEditDialog(isEdit: false) {\r\n            // console.log('step 1');\r\n            this.isEditingDialog = isEdit;\r\n            (this.$refs.EditModalRef as any).openEdit();\r\n        },\r\n        reformatData(res: any) {\r\n            res.forEach((obj: any) => {\r\n                obj.id = obj.Id;\r\n                obj.startTime = moment(obj.StartTime).format('HH:mm')\r\n                obj.endTime = moment(obj.EndTime).format('HH:mm')\r\n                obj.hours = obj.Hours\r\n                obj.scheduleDetail = obj.ScheduleData\r\n                obj.dayInWeek = moment(obj.Date).day()\r\n            })\r\n            return res;\r\n        },\r\n\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n$border-color: #cbcbcb;\r\n.schedule-head-grid {\r\n    display: grid;\r\n    width: 100%;\r\n    //grid-template-columns: 12% 12% 12% 12% 12% 12% 12% 12%;\r\n    grid-template-columns: 8% 5% 5% repeat(7, 1fr);\r\n    grid-gap: 1px;\r\n    height: 23px;\r\n    background: $border-color;\r\n}\r\n\r\n.weekDetail {\r\n    font-size: 16px;\r\n    .arrow-height {\r\n        height: 30px;\r\n        margin-top: 1px;\r\n        cursor: pointer;\r\n    }\r\n\r\n}\r\n\r\n.table-body {\r\n    display: grid;\r\n    //grid-template-rows: repeat(auto-fill, 60px);\r\n    //grid-template-rows: min-content;\r\n    grid-gap: 1px;\r\n}\r\n\r\n.table-cell {\r\n    padding: 3px 5px 3px 5px;\r\n    //background-color: white;\r\n    background: linear-gradient(to bottom, #fcfcfc 0%, #efefef 49%, #e2e2e2 51%, #d6d6d6 100%);\r\n    //border: 1px solid #cbcbcb\r\n}\r\n\r\n.schedules-arr {\r\n    display: grid;\r\n    width: 100%;\r\n    grid-template-columns: 8% 5% 5% repeat(7, 1fr);\r\n    //grid-template-rows: min-content;\r\n    //grid-template-rows: repeat(auto-fit, 60px);\r\n    grid-gap: 1px;\r\n\r\n}\r\n\r\n.flex-sche-table {\r\n    border: 1px solid $border-color;\r\n    font-size: 14px;\r\n    border-collapse: collapse;\r\n    background: $border-color;\r\n}\r\n\r\n.content-cell {\r\n    display: grid;\r\n    justify-items: center;\r\n    align-items: center;\r\n    background: white;\r\n    text-align: center;\r\n    min-height: 60px;\r\n}\r\n\r\n\r\n.table-head {\r\n    //background: linear-gradient(to bottom, #fcfcfc 0%, #efefef 49%, #e2e2e2 51%, #d6d6d6 100%);\r\n    //padding: 3px 5px 3px 5px;\r\n    height: 23px;\r\n}\r\n</style>","<!--dialog or side bar inner for bring up full feature of single flex schedule day to edit-->\r\n\r\n<template>\r\n    <Modal ref=\"ModalRef\">\r\n        <template v-slot:header>\r\n            <div>\r\n                <h2 class=\"bold\">\r\n                    <span v-if=\"isEdit\">Edit</span>\r\n                    <span v-else>Create</span>\r\n                    Schedule\r\n                </h2>\r\n            </div>\r\n        </template>\r\n        <template v-slot:body>\r\n            <div>\r\n                <div class=\"edit-form mt-4 copy2\">\r\n                    <label>Start Time: </label><input v-model=\"day.startTime\">\r\n                    <label>End Time: </label><input v-model=\"day.endTime\">\r\n                    <div class=\"mt-4\"></div>\r\n                    <div></div>\r\n                    <label>Net Hours: </label><input v-model=\"day.hours\">\r\n                    <label>Break Length</label><input v-model=\"day.breakLength\">\r\n                    <label>Shift Id</label>\r\n                    <div>\r\n                        <custom-select v-if=\"shiftOptions && shiftOptions.length > 0\"\r\n                                       :options=\"shiftOptions\"\r\n                                       :displayKey=\"'description'\"\r\n                                       :selected=\"selectedShift\"\r\n                                       @selectOption=\"selectShift\">\r\n                        </custom-select>\r\n                    </div>\r\n                    <label>Position</label>\r\n                    <div>\r\n                        <span v-if=\"positionOptions && positionOptions.length === 1\">{{positionOptions[0].positionTitle}}</span>\r\n                        <custom-select v-else-if=\"positionOptions && positionOptions.length > 1\"\r\n                                       :options=\"positionOptions\"\r\n                                       :displayKey=\"'positionTitle'\"\r\n                                       :selected=\"selectedPosition\"\r\n                                        @selectOption=\"selectPositionCustom\">\r\n\r\n                        </custom-select>\r\n                        <input v-else v-model=\"day.position\">\r\n                    </div>\r\n\r\n                    <label>CostElement 1</label>\r\n                    <div>\r\n                        <custom-select v-if=\"costElementOptions && costElementOptions.length > 0\"\r\n                                       :options=\"costElementOptions\"\r\n                                       :displayKey=\"'description'\"\r\n                                       :selected=\"selectedCostElement1\"\r\n                                       @selectOption=\"selectCostElement1\">\r\n\r\n                        </custom-select>\r\n                    </div>\r\n\r\n                    <label>CostElement 2</label>\r\n                    <div>\r\n                        <custom-select v-if=\"costElementOptions && costElementOptions.length > 0\"\r\n                                       :options=\"costElementOptions\"\r\n                                       :displayKey=\"'description'\"\r\n                                       :selected=\"selectedCostElement2\"\r\n                                       @selectOption=\"selectCostElement2\">\r\n\r\n                        </custom-select>\r\n                    </div>\r\n\r\n<!--                    <label>Cost Element 1</label><input v-model=\"day.costElement1\">-->\r\n<!--                    <label>Cost Element 2</label><input v-model=\"day.costElement2\">-->\r\n                </div>\r\n            </div>\r\n        </template>\r\n        <template v-slot:footer>\r\n            <div class=\"mt-4 full-width d-flex justify-end\">\r\n                <button v-if=\"isEdit\" class=\"blue normal copy2\" @click=\"updateSche()\"><span class=\"white\">Edit</span></button>\r\n                <button v-if=\"!isEdit\" class=\"blue normal copy2\" @click=\"createSche()\"><span class=\"white\">Create</span></button>\r\n\r\n                <button class=\"ml-2 normal orange copy2\" @click=\"cancel()\"><span class=\"white\">Cancel</span></button>\r\n            </div>\r\n        </template>\r\n    </Modal>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {mapState, ModuleTree, Store, useStore} from \"vuex\";\r\nimport {computed, defineComponent, reactive} from \"vue\";\r\nimport {FlexScheduleDay, FlexScheduleMutation} from \"@/store/flexScheduleModule\";\r\nimport Modal from \"@/components/common/Modal.vue\";\r\n// import {key} from \"@/store\";\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport {CostElement, EMPPosition, ShiftType} from \"@/store/lookupModule\";\r\nimport CustomSelect from \"@/components/common/CustomSelect.vue\";\r\nexport default defineComponent({\r\n    name: \"EditFlexSchedule\",\r\n    components: {\r\n        Modal,\r\n        CustomSelect\r\n    },\r\n    props: {\r\n        isEdit: {\r\n            type: Boolean\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            flexScheduleDay: {},\r\n            selectedPosition: <EMPPosition>{},\r\n            selectedShift: <ShiftType>{},\r\n            selectedCostElement1: <CostElement>{},\r\n            selectedCostElement2: <CostElement>{},\r\n            day: <FlexScheduleDay>{},\r\n        }\r\n    },\r\n    setup() {\r\n        // console.log('setup');\r\n        const store = useStore()\r\n        // const flexScheduleModule = getModule\r\n        // const state = reactive({\r\n        //   day: computed(() => store.state.flexSchedule.flexScheduleDay),\r\n        // });\r\n        //\r\n        // console.log('state', state)\r\n        // return {state}\r\n        return {\r\n            // day: computed(() => {\r\n            //     console.log('test', store.state)\r\n            //     return store.state.FlexSchedule.flexScheduleDay\r\n            // }),\r\n\r\n            shiftOptions: computed(() => {\r\n                console.log('store.state.LookUp.shift', store.state.LookUp.shifts)\r\n                return store.state.LookUp.shifts\r\n            }),\r\n            costElementOptions: computed(() => {\r\n                console.log('costElementOptions', store.state.LookUp.costElements)\r\n                return store.state.LookUp.costElements\r\n            }),\r\n        }\r\n    },\r\n    computed: {\r\n        positionOptions(): any {\r\n            let options = this.$store.state.LookUp.positions;\r\n            if (options.length === 1) {\r\n                (this as any).selectedPosition = options[0];\r\n            }\r\n            return options\r\n        },\r\n    },\r\n    // computed: mapState([\r\n    //   // map this.count to store.state.count\r\n    //   'flexSchedule/startTime'\r\n    // ]),\r\n    mounted() {\r\n        // let startTime = this.$store.state.FlexScheduleModule.startTime;\r\n        let startTime = this.$store;\r\n        this.day = this.$store.state.FlexSchedule.flexScheduleDay\r\n        // console.log('state', startTime)\r\n        console.log('edit flex schedule mounted')\r\n    },\r\n\r\n    // computed: {\r\n    //   ...mapState({\r\n    //     day: (state: State) => state.flexSchedule.flexScheduleDay\r\n    //   }),\r\n    // },\r\n\r\n    methods: {\r\n        selectCostElement1(costElement1: any) {\r\n            this.selectedCostElement1 = costElement1;\r\n        },\r\n        selectCostElement2(costElement2: any) {\r\n            this.selectedCostElement2 = costElement2;\r\n        },\r\n        selectShift(shift: any) {\r\n            this.selectedShift = shift;\r\n        },\r\n        selectPositionCustom(position: any) {\r\n            console.log('position', position)\r\n            this.selectedPosition = position\r\n        },\r\n\r\n        selectPosition($event: any, position: EMPPosition) {\r\n            this.selectedPosition = position\r\n            $event.target.blur()\r\n            let b = (this.$refs.selectRef as any);\r\n            b.blur();\r\n        },\r\n        clearForm() {\r\n            this.$store.commit(FlexScheduleMutation.clearForm)\r\n        },\r\n\r\n        cancel() {\r\n            this.$store.commit(FlexScheduleMutation.clearForm)\r\n            this.toggleShow();\r\n        },\r\n\r\n        updateSche() {\r\n            let putData = {\r\n                EmployeeNo: this.$store.state.FlexSchedule.selectedFlexDay.employeeNo,\r\n                Date: this.$store.state.FlexSchedule.calendarFocusDate.day(this.$store.state.FlexSchedule.selectedFlexDay.dayInWeek).format('MM/DD/YYYY'),\r\n                StartTime: this.day.startTime,\r\n                EndTime: this.day.endTime,\r\n                Hours: this.day.hours,\r\n                ScheduleData: {\r\n                    ShiftId: this.selectedShift.shiftType,\r\n                    BreakLength: this.day.breakLength,\r\n                    Position : this.selectedPosition.positionCode,\r\n                    CostElement1: this.selectedCostElement1 ? this.selectedCostElement1.id : undefined,\r\n                    CostElement2: this.selectedCostElement1 ? this.selectedCostElement2.id : undefined\r\n                }\r\n            }\r\n\r\n            // console.log('selectedFlexDay', this.$store.state.FlexSchedule.selectedFlexDay)\r\n\r\n            Remote.UpdateFlexSchedule(this.$store.state.FlexSchedule.selectedFlexDay.id, putData).then(res => {\r\n                //todo what happen after update\r\n                console.log('res', res)\r\n            })\r\n\r\n            // console.log('form', this.$store.state.FlexSchedule.flexScheduleDay)\r\n            this.$store.commit(FlexScheduleMutation.saveScheduleDayToWeek)\r\n            this.toggleShow();\r\n        },\r\n\r\n        createSche() {\r\n            let postData = [{\r\n                EmployeeNo: this.$store.state.FlexSchedule.selectedFlexDay.employeeNo,\r\n                Date: this.$store.state.FlexSchedule.calendarFocusDate.day(this.$store.state.FlexSchedule.selectedFlexDay.dayInWeek).format('MM/DD/YYYY'),\r\n                StartTime: this.day.startTime,\r\n                EndTime: this.day.endTime,\r\n                Hours: this.day.hours,\r\n                ScheduleData: {\r\n                    ShiftId: this.selectedShift.shiftType,\r\n                    BreakLength: this.day.breakLength,\r\n                    Position : this.selectedPosition.positionCode,\r\n                    CostElement1: this.selectedCostElement1.id,\r\n                    CostElement2: this.selectedCostElement2.id\r\n                }\r\n            }]\r\n            //\r\n            Remote.CreateFlexSchedule(postData).then(res => {\r\n                //todo what happen after create\r\n                //console.log('res', res)\r\n            })\r\n\r\n            // console.log('form', this.$store.state.FlexSchedule.flexScheduleDay)\r\n            this.$store.commit(FlexScheduleMutation.saveScheduleDayToWeek)\r\n            this.toggleShow();\r\n        },\r\n        openEdit() {\r\n            // todo load position\r\n\r\n            // todo load shift\r\n            let selectedShift\r\n            if (this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData) {\r\n                selectedShift = this.shiftOptions.find((option: ShiftType) => {\r\n                    return option.shiftType ===  this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.ShiftId\r\n                })\r\n            }\r\n\r\n\r\n            if (selectedShift) {\r\n                this.selectedShift = selectedShift;\r\n            }\r\n\r\n            // todo load custom element\r\n\r\n            if (this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData) {\r\n                this.selectedCostElement1 = this.costElementOptions.find((option: CostElement) => {\r\n                    return option.id === this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.CostElement1\r\n                })\r\n\r\n                this.selectedCostElement2 = this.costElementOptions.find((option: CostElement) => {\r\n                    return option.id === this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.CostElement2\r\n                })\r\n            }\r\n\r\n            console.log('this.selectedShift', this.selectedShift);\r\n            this.day = this.$store.state.FlexSchedule.flexScheduleDay;\r\n            (this.$refs.ModalRef as any).toggleShow();\r\n        },\r\n        toggleShow() {\r\n            (this.$refs.ModalRef as any).toggleShow();\r\n\r\n        },\r\n\r\n    }\r\n\r\n\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.edit-form {\r\n    display: grid;\r\n    grid-template-columns: 140px 150px;\r\n    grid-template-rows: repeat(9, min-content);\r\n    row-gap: 8px;\r\n    align-items: center;\r\n\r\n    input {\r\n        height: 30px;\r\n        border-radius: 5px;\r\n        border: 1px solid black;\r\n        padding: 0 10px;\r\n\r\n        &:focus {\r\n            outline: none;\r\n        }\r\n    }\r\n}\r\n\r\n.custom-select-selected:after {\r\n    top: calc(50% - 5px);\r\n    right: 10px;\r\n}\r\n\r\n.custom-select-selected {\r\n    padding: 8px 10px;\r\n    min-height: 35px;\r\n}\r\n</style>","// Flex Schedule data module. Store current editing schedule data\r\n\r\n// import { Module } from \"vuex\"\r\nimport {RootState} from \"./index\"\r\nimport _ from \"lodash\";\r\nimport moment, {Moment} from \"moment\";\r\nimport {ActionTree, Module, MutationTree} from \"vuex\";\r\nimport Remote from \"@/remote/scheduleRequest\";\r\n\r\nexport interface DictionaryOfCheckboxes {\r\n    name: string;\r\n    value: boolean;\r\n}\r\n\r\nexport interface FlexScheduleState {\r\n    selectedDate: Moment\r\n    flexScheduleDay: FlexScheduleDay,\r\n    selectedFlexDay: ScheduleDayInView | null,\r\n    scheduleWeek: ScheduleWeek[],\r\n    editFlexScheduleDayConfig: FlexScheduleDayEditConfig\r\n    flexScheduleCellSetting: FlexScheduleCellSetting\r\n    calendarFocusDate: Moment\r\n}\r\n\r\nexport interface ScheduleWeek {\r\n    empName: string;\r\n    scheDays: ScheduleDayInView[];\r\n}\r\n\r\nexport interface ScheduleDayInView {\r\n    scheduleDetail?: any;\r\n    date?: string;\r\n    time: string,\r\n    startTime: string,\r\n    endTime: string,\r\n    hours: number,\r\n    Hours?: number,\r\n    schedule: string,\r\n    dayInWeek: number,\r\n    column?: string,\r\n    editing?: boolean\r\n}\r\n\r\nexport interface FlexScheduleDayEditConfig {\r\n    startTime: boolean,\r\n    endTime: boolean,\r\n    hours: boolean,\r\n    breakLength: boolean,\r\n    shiftId: boolean,\r\n    position: boolean,\r\n    costElement1: boolean,\r\n    costElement2: boolean,\r\n}\r\n\r\nexport interface FlexScheduleDay {\r\n    date: string,\r\n    startTime: string,\r\n    endTime: string,\r\n    hours: number,\r\n    breakLength: number,\r\n    shiftId: string,\r\n    position: string,\r\n    costElement1: string,\r\n    costElement2: string,\r\n}\r\n\r\nexport interface FlexScheduleCellSetting {\r\n    showHours: DictionaryOfCheckboxes,\r\n    showBreakLength: DictionaryOfCheckboxes,\r\n    showShiftId: DictionaryOfCheckboxes,\r\n    showPosition: DictionaryOfCheckboxes,\r\n    showCostElement1: DictionaryOfCheckboxes,\r\n    showCostElement2: DictionaryOfCheckboxes,\r\n}\r\n\r\nconst EMPTY_FORM = {\r\n    date: '',\r\n    startTime: '',\r\n    endTime: '',\r\n    hours: 0,\r\n    breakLength: 0,\r\n    shiftId: '',\r\n    position: '',\r\n    costElement1: '',\r\n    costElement2: ''\r\n}\r\n\r\nexport enum FlexScheduleAction {\r\n    loadTargetSchedule = \"LOAD_TARGET_SCHEDULE\"\r\n}\r\n\r\nexport enum FlexScheduleMutation {\r\n    clearForm = \"CLEAR_FORM\",\r\n    setScheduleDay = \"SET_SCHEDULE_DAY\",\r\n    saveScheduleDayToWeek = \"SAVE_SCHEDULE_DAY_TO_WEEK\",\r\n    updateEditConfig = \"UPDATE_EDIT_CONFIG\",\r\n    createNewScheduleDay = \"CREATE_NEW_SCHEDULE_DAY\",\r\n}\r\n\r\nconst actions: ActionTree<FlexScheduleState, RootState> = {\r\n    [FlexScheduleAction.loadTargetSchedule]({ commit }, scheduleId: number) {\r\n        console.log('scheduleId', scheduleId)\r\n        Remote.GetFlexScheduleDetail(scheduleId)\r\n            .then(res => {\r\n                console.log('GetFlexScheduleDetail', res)\r\n            })\r\n    }\r\n}\r\n\r\nconst mutations: MutationTree<FlexScheduleState> = {\r\n    [FlexScheduleMutation.clearForm](state) {\r\n        state.flexScheduleDay = EMPTY_FORM\r\n    },\r\n\r\n    [FlexScheduleMutation.createNewScheduleDay](state, day: ScheduleDayInView) {\r\n        state.flexScheduleDay = EMPTY_FORM\r\n        state.selectedFlexDay = day;\r\n    },\r\n\r\n    [FlexScheduleMutation.setScheduleDay](state, day: ScheduleDayInView) {\r\n        console.log('emit', day)\r\n        // state.flexScheduleDay = _.merge({}, state.flexScheduleDay, day)\r\n        state.selectedFlexDay = day;\r\n\r\n        state.flexScheduleDay.startTime = day.startTime;\r\n        state.flexScheduleDay.endTime = day.endTime;\r\n        state.flexScheduleDay.hours = day.Hours!;\r\n\r\n        let scheduleDetail = Object.fromEntries(\r\n                                Object.entries(day.scheduleDetail).map(\r\n                                    ([k,v]) => [k.charAt(0).toLowerCase() + k.slice(1), v])\r\n                                );\r\n\r\n        state.flexScheduleDay = _.merge({}, state.flexScheduleDay, scheduleDetail)\r\n\r\n        console.log('state', state.flexScheduleDay)\r\n\r\n    },\r\n    [FlexScheduleMutation.saveScheduleDayToWeek](state) {\r\n        if (!state.selectedFlexDay) {\r\n            console.error('missing selected flex day');\r\n            return\r\n        }\r\n\r\n        state.selectedFlexDay.startTime = state.flexScheduleDay.startTime;\r\n        state.selectedFlexDay.endTime = state.flexScheduleDay.endTime;\r\n        state.selectedFlexDay.scheduleDetail = _.merge({}, state.selectedFlexDay.scheduleDetail, state.flexScheduleDay)\r\n\r\n        // state.FlexScheduleDay\r\n    },\r\n    [FlexScheduleMutation.updateEditConfig](state, newConfig: FlexScheduleDayEditConfig) {\r\n        state.editFlexScheduleDayConfig = _.clone(newConfig)\r\n    }\r\n}\r\n\r\n\r\nconst FlexSchedule: Module<FlexScheduleState, RootState> = {\r\n    // namespaced: true as true,\r\n\r\n    state: {\r\n        selectedDate: moment(),\r\n        calendarFocusDate: moment(),\r\n        selectedFlexDay: null,\r\n        flexScheduleDay: { // modal\r\n            date: '',\r\n            startTime: '',\r\n            endTime: '',\r\n            hours: 0,\r\n            breakLength: 0,\r\n            shiftId: '',\r\n            position: '',\r\n            costElement1: '',\r\n            costElement2: ''\r\n        },\r\n        editFlexScheduleDayConfig: {\r\n            startTime: false,\r\n            endTime: false,\r\n            hours: false,\r\n            breakLength: false,\r\n            shiftId: false,\r\n            position: false,\r\n            costElement1: false,\r\n            costElement2: false\r\n        },\r\n        scheduleWeek: [],\r\n        //Net Hours\r\n        // Break Length\r\n        // Shift Id\r\n\r\n        flexScheduleCellSetting: {\r\n            showHours: {\r\n                value: false,\r\n                name: 'Net Hours'\r\n            },\r\n            showBreakLength: {\r\n                value: false,\r\n                name: 'Break Length'\r\n            },\r\n            showShiftId: {\r\n                value: false,\r\n                name: 'Shift Id'\r\n            },\r\n            showPosition: {\r\n                value: false,\r\n                name: 'Position'\r\n            },\r\n            showCostElement1: {\r\n                value: false,\r\n                name: 'Cost Element 1'\r\n            },\r\n            showCostElement2: {\r\n                value: false,\r\n                name: 'Cost Element 2'\r\n            },\r\n        }\r\n    },\r\n\r\n    // getters: {\r\n    //\r\n    // },\r\n    mutations: mutations,\r\n    actions: actions\r\n    // mutations: {\r\n    //     // SET_NAME(state, newName: string) {\r\n    //     //     state.name = newName\r\n    //     // },\r\n    //     clearForm(state) {\r\n    //         state.flexScheduleDay = EMPTY_FORM\r\n    //         // for( let key in state.flexScheduleDay) {\r\n    //             // state.flexScheduleDay[key] = EMPTY_FORM[key];\r\n    //             // state.flexScheduleDay.name =\r\n    //         // }\r\n    //     },\r\n    //     setScheduleDay(state, day: ScheduleDayInView) {\r\n    //         console.log('emit', day)\r\n    //         // state.flexScheduleDay = _.merge({}, state.flexScheduleDay, day)\r\n    //         state.selectedFlexDay = day;\r\n    //         state.flexScheduleDay.startTime = day.startTime;\r\n    //         state.flexScheduleDay.endTime = day.endTime;\r\n    //         state.flexScheduleDay = _.merge({}, state.flexScheduleDay, day.scheduleDetail)\r\n    //\r\n    //         console.log('state', state.flexScheduleDay)\r\n    //\r\n    //     },\r\n    //     saveScheduleDayToWeek(state) {\r\n    //         if (!state.selectedFlexDay) { console.error('missing selected flex day'); return}\r\n    //\r\n    //         state.selectedFlexDay.startTime = state.flexScheduleDay.startTime;\r\n    //         state.selectedFlexDay.endTime = state.flexScheduleDay.endTime;\r\n    //         state.selectedFlexDay.scheduleDetail = _.merge({}, state.selectedFlexDay.scheduleDetail, state.flexScheduleDay)\r\n    //\r\n    //         // state.FlexScheduleDay\r\n    //     },\r\n    //     updateEditConfig(state, newConfig: FlexScheduleDayEditConfig) {\r\n    //         state.editFlexScheduleDayConfig = _.clone(newConfig)\r\n    //     }\r\n    // },\r\n    // actions: {\r\n    // async loadName({ commit }, payload: { id: string }) {\r\n    //     const name = `Name-${payload.id}` // load it from somewhere\r\n    //     commit(\"SET_NAME\", name)\r\n    //     return { name }\r\n    // },\r\n    // }\r\n}\r\n\r\n\r\nexport default FlexSchedule;","<template>\r\n    <div>\r\n        <span>\r\n            <div class=\"custom-select\" tabindex=\"1\" ref=\"selectRef\">\r\n                <div class=\"custom-select-selected\">\r\n                    <span v-if=\"selected && typeof selected === 'object'\">{{selected[displayKey]}}</span>\r\n                    <span v-else-if=\"selected\">{{selected}}</span>\r\n                </div>\r\n                <div class=\"custom-select-items\" v-bind:style=\"{ 'left': left + 'px'}\">\r\n                    <div class=\"custom-select-item\"\r\n                         v-for=\"(option, index) of options\" :key=\"index\"\r\n                         @click=\"selectOption($event, option);\">\r\n                        <div class=\"cell-config\">\r\n                            <label>{{ option[displayKey] }}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent, ref} from \"vue\";\r\n\r\n\r\nexport default defineComponent({\r\n    name: \"CustomSelect\",\r\n    props: {\r\n        options: {\r\n            type: Array,\r\n            default: []\r\n        },\r\n        displayKey: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        selected: {}\r\n    },\r\n    data() {\r\n        return {\r\n            left: 0\r\n        }\r\n    },\r\n    mounted() {\r\n        this.left = (this.$refs as any).selectRef.getClientRects()[0].left;\r\n        console.log('left', this.left)\r\n    },\r\n    methods: {\r\n        selectOption($event: any, option: any) {\r\n            $event.target.blur()\r\n            let b = (this.$refs.selectRef as any);\r\n            b.blur();\r\n            this.$emit('selectOption', option)\r\n        }\r\n    }\r\n\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.custom-select-selected:after {\r\n    top: calc(50% - 5px);\r\n    right: 10px;\r\n}\r\n\r\n.custom-select-selected {\r\n    padding: 8px 10px;\r\n    min-height: 35px;\r\n}\r\n\r\n.custom-select-items {\r\n    position: fixed;\r\n    width: 150px;\r\n}\r\n</style>","\r\nimport {defineComponent, ref} from \"vue\";\r\n\r\n\r\nexport default defineComponent({\r\n    name: \"CustomSelect\",\r\n    props: {\r\n        options: {\r\n            type: Array,\r\n            default: []\r\n        },\r\n        displayKey: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        selected: {}\r\n    },\r\n    data() {\r\n        return {\r\n            left: 0\r\n        }\r\n    },\r\n    mounted() {\r\n        this.left = (this.$refs as any).selectRef.getClientRects()[0].left;\r\n        console.log('left', this.left)\r\n    },\r\n    methods: {\r\n        selectOption($event: any, option: any) {\r\n            $event.target.blur()\r\n            let b = (this.$refs.selectRef as any);\r\n            b.blur();\r\n            this.$emit('selectOption', option)\r\n        }\r\n    }\r\n\r\n})\r\n","import { render } from \"./CustomSelect.vue?vue&type=template&id=7330ab18&scoped=true\"\nimport script from \"./CustomSelect.vue?vue&type=script&lang=ts\"\nexport * from \"./CustomSelect.vue?vue&type=script&lang=ts\"\n\nimport \"./CustomSelect.vue?vue&type=style&index=0&id=7330ab18&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7330ab18\"\n\nexport default script","\r\nimport {mapState, ModuleTree, Store, useStore} from \"vuex\";\r\nimport {computed, defineComponent, reactive} from \"vue\";\r\nimport {FlexScheduleDay, FlexScheduleMutation} from \"@/store/flexScheduleModule\";\r\nimport Modal from \"@/components/common/Modal.vue\";\r\n// import {key} from \"@/store\";\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport {CostElement, EMPPosition, ShiftType} from \"@/store/lookupModule\";\r\nimport CustomSelect from \"@/components/common/CustomSelect.vue\";\r\nexport default defineComponent({\r\n    name: \"EditFlexSchedule\",\r\n    components: {\r\n        Modal,\r\n        CustomSelect\r\n    },\r\n    props: {\r\n        isEdit: {\r\n            type: Boolean\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            flexScheduleDay: {},\r\n            selectedPosition: <EMPPosition>{},\r\n            selectedShift: <ShiftType>{},\r\n            selectedCostElement1: <CostElement>{},\r\n            selectedCostElement2: <CostElement>{},\r\n            day: <FlexScheduleDay>{},\r\n        }\r\n    },\r\n    setup() {\r\n        // console.log('setup');\r\n        const store = useStore()\r\n        // const flexScheduleModule = getModule\r\n        // const state = reactive({\r\n        //   day: computed(() => store.state.flexSchedule.flexScheduleDay),\r\n        // });\r\n        //\r\n        // console.log('state', state)\r\n        // return {state}\r\n        return {\r\n            // day: computed(() => {\r\n            //     console.log('test', store.state)\r\n            //     return store.state.FlexSchedule.flexScheduleDay\r\n            // }),\r\n\r\n            shiftOptions: computed(() => {\r\n                console.log('store.state.LookUp.shift', store.state.LookUp.shifts)\r\n                return store.state.LookUp.shifts\r\n            }),\r\n            costElementOptions: computed(() => {\r\n                console.log('costElementOptions', store.state.LookUp.costElements)\r\n                return store.state.LookUp.costElements\r\n            }),\r\n        }\r\n    },\r\n    computed: {\r\n        positionOptions(): any {\r\n            let options = this.$store.state.LookUp.positions;\r\n            if (options.length === 1) {\r\n                (this as any).selectedPosition = options[0];\r\n            }\r\n            return options\r\n        },\r\n    },\r\n    // computed: mapState([\r\n    //   // map this.count to store.state.count\r\n    //   'flexSchedule/startTime'\r\n    // ]),\r\n    mounted() {\r\n        // let startTime = this.$store.state.FlexScheduleModule.startTime;\r\n        let startTime = this.$store;\r\n        this.day = this.$store.state.FlexSchedule.flexScheduleDay\r\n        // console.log('state', startTime)\r\n        console.log('edit flex schedule mounted')\r\n    },\r\n\r\n    // computed: {\r\n    //   ...mapState({\r\n    //     day: (state: State) => state.flexSchedule.flexScheduleDay\r\n    //   }),\r\n    // },\r\n\r\n    methods: {\r\n        selectCostElement1(costElement1: any) {\r\n            this.selectedCostElement1 = costElement1;\r\n        },\r\n        selectCostElement2(costElement2: any) {\r\n            this.selectedCostElement2 = costElement2;\r\n        },\r\n        selectShift(shift: any) {\r\n            this.selectedShift = shift;\r\n        },\r\n        selectPositionCustom(position: any) {\r\n            console.log('position', position)\r\n            this.selectedPosition = position\r\n        },\r\n\r\n        selectPosition($event: any, position: EMPPosition) {\r\n            this.selectedPosition = position\r\n            $event.target.blur()\r\n            let b = (this.$refs.selectRef as any);\r\n            b.blur();\r\n        },\r\n        clearForm() {\r\n            this.$store.commit(FlexScheduleMutation.clearForm)\r\n        },\r\n\r\n        cancel() {\r\n            this.$store.commit(FlexScheduleMutation.clearForm)\r\n            this.toggleShow();\r\n        },\r\n\r\n        updateSche() {\r\n            let putData = {\r\n                EmployeeNo: this.$store.state.FlexSchedule.selectedFlexDay.employeeNo,\r\n                Date: this.$store.state.FlexSchedule.calendarFocusDate.day(this.$store.state.FlexSchedule.selectedFlexDay.dayInWeek).format('MM/DD/YYYY'),\r\n                StartTime: this.day.startTime,\r\n                EndTime: this.day.endTime,\r\n                Hours: this.day.hours,\r\n                ScheduleData: {\r\n                    ShiftId: this.selectedShift.shiftType,\r\n                    BreakLength: this.day.breakLength,\r\n                    Position : this.selectedPosition.positionCode,\r\n                    CostElement1: this.selectedCostElement1 ? this.selectedCostElement1.id : undefined,\r\n                    CostElement2: this.selectedCostElement1 ? this.selectedCostElement2.id : undefined\r\n                }\r\n            }\r\n\r\n            // console.log('selectedFlexDay', this.$store.state.FlexSchedule.selectedFlexDay)\r\n\r\n            Remote.UpdateFlexSchedule(this.$store.state.FlexSchedule.selectedFlexDay.id, putData).then(res => {\r\n                //todo what happen after update\r\n                console.log('res', res)\r\n            })\r\n\r\n            // console.log('form', this.$store.state.FlexSchedule.flexScheduleDay)\r\n            this.$store.commit(FlexScheduleMutation.saveScheduleDayToWeek)\r\n            this.toggleShow();\r\n        },\r\n\r\n        createSche() {\r\n            let postData = [{\r\n                EmployeeNo: this.$store.state.FlexSchedule.selectedFlexDay.employeeNo,\r\n                Date: this.$store.state.FlexSchedule.calendarFocusDate.day(this.$store.state.FlexSchedule.selectedFlexDay.dayInWeek).format('MM/DD/YYYY'),\r\n                StartTime: this.day.startTime,\r\n                EndTime: this.day.endTime,\r\n                Hours: this.day.hours,\r\n                ScheduleData: {\r\n                    ShiftId: this.selectedShift.shiftType,\r\n                    BreakLength: this.day.breakLength,\r\n                    Position : this.selectedPosition.positionCode,\r\n                    CostElement1: this.selectedCostElement1.id,\r\n                    CostElement2: this.selectedCostElement2.id\r\n                }\r\n            }]\r\n            //\r\n            Remote.CreateFlexSchedule(postData).then(res => {\r\n                //todo what happen after create\r\n                //console.log('res', res)\r\n            })\r\n\r\n            // console.log('form', this.$store.state.FlexSchedule.flexScheduleDay)\r\n            this.$store.commit(FlexScheduleMutation.saveScheduleDayToWeek)\r\n            this.toggleShow();\r\n        },\r\n        openEdit() {\r\n            // todo load position\r\n\r\n            // todo load shift\r\n            let selectedShift\r\n            if (this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData) {\r\n                selectedShift = this.shiftOptions.find((option: ShiftType) => {\r\n                    return option.shiftType ===  this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.ShiftId\r\n                })\r\n            }\r\n\r\n\r\n            if (selectedShift) {\r\n                this.selectedShift = selectedShift;\r\n            }\r\n\r\n            // todo load custom element\r\n\r\n            if (this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData) {\r\n                this.selectedCostElement1 = this.costElementOptions.find((option: CostElement) => {\r\n                    return option.id === this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.CostElement1\r\n                })\r\n\r\n                this.selectedCostElement2 = this.costElementOptions.find((option: CostElement) => {\r\n                    return option.id === this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.CostElement2\r\n                })\r\n            }\r\n\r\n            console.log('this.selectedShift', this.selectedShift);\r\n            this.day = this.$store.state.FlexSchedule.flexScheduleDay;\r\n            (this.$refs.ModalRef as any).toggleShow();\r\n        },\r\n        toggleShow() {\r\n            (this.$refs.ModalRef as any).toggleShow();\r\n\r\n        },\r\n\r\n    }\r\n\r\n\r\n})\r\n","import { render } from \"./EditFlexSchedule.vue?vue&type=template&id=03a53dc2&scoped=true\"\nimport script from \"./EditFlexSchedule.vue?vue&type=script&lang=ts\"\nexport * from \"./EditFlexSchedule.vue?vue&type=script&lang=ts\"\n\nimport \"./EditFlexSchedule.vue?vue&type=style&index=0&id=03a53dc2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-03a53dc2\"\n\nexport default script","<template>\r\n    <div class=\"day-info\">\r\n        <!--    <div class=\"display-day\" @click=\"editScheDay(scheDay)\" v-if=\"!scheDay.editing\">-->\r\n        <div class=\"display-day\">\r\n\r\n            <!--      start time and end time -->\r\n            <div>\r\n                <div v-if=\"!editTime && (scheDay.startTime || scheDay.endTime)\" @click=\"updateEditTime(true)\">\r\n                    <div>{{ scheDay.startTime }} - {{ scheDay.endTime }}</div>\r\n                </div>\r\n                <div v-else-if=\"editTime\">\r\n                    <div class=\"d-flex flex-column align-center\">\r\n                        <label>Start Time</label>\r\n                        <input class=\"time-input\" v-model=\"scheDay.startTime\">\r\n                    </div>\r\n                    <div class=\"mt-2 d-flex flex-column align-center\">\r\n                        <label class=\"px-2\">End Time</label>\r\n                        <input class=\"time-input\" v-model=\"scheDay.endTime\">\r\n                    </div>\r\n                    <button class=\"mt-2\" @click=\"editTime = false; updateEditing(false)\">Confirm</button>\r\n                </div>\r\n                <!--      Cell without content -->\r\n                <div v-else class=\"create-day\" v-bind:class=\"{'create-day-show': !scheDay.time && !scheDay.schedule}\">\r\n                    <button class=\"blue small\" @click=\"createSche(scheDay)\"><span class=\"white\">Create</span></button>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"!editTime\">\r\n                <editable-cell-element class=\"mt-1\" v-if=\"cellSettings.showHours.value && scheDay.hours\"\r\n                                       label=\"Net hours:\" :modelValue=\"scheDay.hours\"\r\n                                       @startedEditing=\"editing = true\"\r\n                                       @update:modelValue=\"scheDay.hours = $event; updateEditing\"></editable-cell-element>\r\n                <div v-if=\"scheDay.scheduleDetail\">\r\n                    <editable-cell-element class=\"mt-1\" v-if=\"cellSettings.showBreakLength.value\"\r\n                                           label=\"Break Length:\" :modelValue=\"scheDay.scheduleDetail.breakLength\"\r\n                                           @startedEditing=\"editing = true\"\r\n                                           @update:modelValue=\"scheDay.scheduleDetail.breakLength = $event; updateEditing\"></editable-cell-element>\r\n                    <editable-cell-element class=\"mt-1\" v-if=\"cellSettings.showShiftId.value\"\r\n                                           label=\"Shift Id:\" :modelValue=\"scheDay.scheduleDetail.shiftId\"\r\n                                           @startedEditing=\"editing = true\"\r\n                                           @update:modelValue=\"scheDay.scheduleDetail.shiftId = $event; updateEditing\"></editable-cell-element>\r\n                    <editable-cell-element class=\"mt-1\" v-if=\"cellSettings.showPosition.value\"\r\n                                           label=\"Position:\" :modelValue=\"scheDay.scheduleDetail.position\"\r\n                                           :fullWidthInput=\"true\"\r\n                                           @startedEditing=\"editing = true\"\r\n                                           @update:modelValue=\"scheDay.scheduleDetail.position = $event; updateEditing\"></editable-cell-element>\r\n                    <editable-cell-element class=\"mt-1\" v-if=\"cellSettings.showCostElement1.value\"\r\n                                           label=\"CostElement1:\" :modelValue=\"scheDay.scheduleDetail.costElement1\"\r\n                                           :fullWidthInput=\"true\"\r\n                                           @startedEditing=\"editing = true\"\r\n                                           @update:modelValue=\"scheDay.scheduleDetail.costElement1 = $event; updateEditing\"></editable-cell-element>\r\n                    <editable-cell-element class=\"mt-1\" v-if=\"cellSettings.showCostElement2.value\"\r\n                                           label=\"CostElement2:\" :modelValue=\"scheDay.scheduleDetail.costElement2\"\r\n                                           :fullWidthInput=\"true\"\r\n                                           @startedEditing=\"editing = true\"\r\n                                           @update:modelValue=\"scheDay.scheduleDetail.costElement2 = $event; updateEditing\"></editable-cell-element>\r\n                </div>\r\n                <!--      <div>{{ scheDay.schedule }}</div>-->\r\n\r\n            </div>\r\n            <div v-if=\"!editing && (scheDay.startTime || scheDay.endTime)\">\r\n                <button class=\" detail-button blue small mt-2\" @click=\"moreDetail(scheDay)\">\r\n                    <span class=\"white caption\">Edit</span>\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {ScheduleDay} from \"@/components/FlexSchedule/schedule-day-mock.ts\";\r\nimport {defineComponent, PropType, reactive} from \"vue\";\r\nimport {FlexScheduleCellSetting, FlexScheduleMutation} from \"@/store/flexScheduleModule\";\r\nimport {useStore} from \"vuex\";\r\nimport EditableCellElement from \"@/components/FlexSchedule/EditableCellElement.vue\";\r\nimport {LookupActions} from \"@/store/lookupModule\";\r\n\r\nexport default defineComponent({\r\n    name: \"DynamicScheCell\",\r\n    components: {\r\n        EditableCellElement\r\n    },\r\n    props: {\r\n        scheDay: {\r\n            type: Object as PropType<ScheduleDay>\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            editTime: false,\r\n            editing: false,\r\n        }\r\n\r\n    },\r\n    setup() {\r\n        const store = useStore()\r\n\r\n        const cellSettings: FlexScheduleCellSetting = store.state.FlexSchedule.flexScheduleCellSetting\r\n\r\n        return {cellSettings}\r\n    },\r\n    methods: {\r\n        updateElement($event: any, scheDay: any, key: any) {\r\n            // console.log('update event', $event)\r\n            // console.log('update target', scheDay)\r\n            // console.log('update key', key)\r\n            scheDay.startTime = $event;\r\n        },\r\n        moreDetail(day: ScheduleDay) {\r\n            // console.log('day', day)\r\n            this.$store.commit(FlexScheduleMutation.setScheduleDay, day)\r\n            this.$emit('openEditDialog', true)\r\n        },\r\n\r\n        updateEditTime(isEditing: boolean) {\r\n            this.editTime = isEditing;\r\n            if (isEditing) {\r\n                this.editing = true;\r\n            }\r\n        },\r\n\r\n        createSche(scheDay: ScheduleDay) {\r\n            console.log('scheDay', scheDay)\r\n            // this.$store.commit(FlexScheduleMutation.setTargetEmployee)\r\n            this.$store.dispatch(LookupActions.getPositions, (scheDay as any).employeeNo)\r\n            this.$store.commit(FlexScheduleMutation.createNewScheduleDay, scheDay)\r\n            this.$emit('openEditDialog', false)\r\n        },\r\n\r\n        updateEditing(isEditing?: boolean) {\r\n            if (isEditing === true || isEditing === false) {\r\n                this.editing = isEditing;\r\n            } else {\r\n                this.editing = !this.editing\r\n            }\r\n\r\n        },\r\n\r\n        // confirmEdit(day: any) {\r\n        //   day.editing = false;\r\n        // },\r\n        //\r\n        // cancelEdit(day: any) {\r\n        //\r\n        // },\r\n        //\r\n        // editScheDay(day: any) {\r\n        //   day.editing = true\r\n        // }\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.day-info {\r\n    //min-width: 100px;\r\n    //min-height: 30px;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.display-day {\r\n    position: relative;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n    padding: 10px;\r\n\r\n\r\n    .create-day {\r\n        display: none;\r\n        transition: opacity linear 0.15s\r\n    }\r\n\r\n    .create-day-show {\r\n        display: block;\r\n        opacity: 0;\r\n    }\r\n\r\n    .detail-button {\r\n        position: absolute;\r\n        bottom: 0;\r\n        right: 0;\r\n        display: none;\r\n    }\r\n\r\n    &:hover .create-day-show {\r\n        opacity: 1;\r\n    }\r\n\r\n    &:hover .detail-button {\r\n        display: block;\r\n    }\r\n}\r\n\r\n.time-input {\r\n    max-width: 120px;\r\n}\r\n</style>","<template>\r\n    <div v-if=\"editing\" class=\"d-flex flex-wrap justify-center\" v-bind:class=\"{'input-width-full': fullWidthInput}\">\r\n        <label>{{ label }}</label>\r\n        <input v-model=\"value\" class=\"input-width\"/>\r\n        <!--    <div class=\"d-flex\">-->\r\n        <button class=\"ml-1 btn-xsmall blue\" @click=\"update\">\r\n            <span class=\"icon-tick \"></span>\r\n        </button>\r\n        <button class=\"ml-1 btn-xsmall orange\" @click=\"cancel\">\r\n            <span class=\"icon-cross\"></span>\r\n        </button>\r\n        <!--    </div>-->\r\n\r\n    </div>\r\n    <div v-else @click=\"changeEditing(true)\">\r\n        <label>{{ label }}</label>\r\n        {{ modelValue }}\r\n    </div>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"EditableCellElement\",\r\n    props: {\r\n        modelValue: {\r\n            type: [String, Number]\r\n        },\r\n        label: {\r\n            type: String\r\n        },\r\n        fullWidthInput: {\r\n            type: Boolean\r\n        }\r\n        // editing: {\r\n        //   type: Boolean\r\n        // }\r\n    },\r\n    data() {\r\n        return {\r\n            // edit\r\n            value: '',\r\n            editing: false\r\n        }\r\n    },\r\n    methods: {\r\n        changeEditing() {\r\n            this.value = this.modelValue as string;\r\n            this.editing = true;\r\n            this.$emit(\"updateEditing\", true)\r\n        },\r\n        update() {\r\n            this.$emit(\"update:modelValue\", this.value)\r\n            this.editing = false;\r\n        },\r\n        cancel() {\r\n            this.editing = false\r\n            this.$emit(\"updateEditing\", false)\r\n        }\r\n\r\n    }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@use \"../../style/colors\";\r\n\r\n.input-width {\r\n    width: 30px;\r\n}\r\n\r\n.input-width-full {\r\n    .input-width {\r\n        width: 120px;\r\n    }\r\n\r\n    label {\r\n        width: 120px;\r\n    }\r\n}\r\n\r\n.btn-xsmall {\r\n    background: white;\r\n    box-shadow: none;\r\n    border-radius: 5px;\r\n    padding: 1px 4px;\r\n    line-height: 0;\r\n\r\n    &.blue {\r\n        color: colors.$aff-blue;\r\n        border: 1px solid colors.$aff-blue;\r\n    }\r\n\r\n    &.orange {\r\n        color: colors.$orange;\r\n        border: 1px solid colors.$orange;\r\n    }\r\n}\r\n\r\n</style>","\r\nimport {defineComponent} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"EditableCellElement\",\r\n    props: {\r\n        modelValue: {\r\n            type: [String, Number]\r\n        },\r\n        label: {\r\n            type: String\r\n        },\r\n        fullWidthInput: {\r\n            type: Boolean\r\n        }\r\n        // editing: {\r\n        //   type: Boolean\r\n        // }\r\n    },\r\n    data() {\r\n        return {\r\n            // edit\r\n            value: '',\r\n            editing: false\r\n        }\r\n    },\r\n    methods: {\r\n        changeEditing() {\r\n            this.value = this.modelValue as string;\r\n            this.editing = true;\r\n            this.$emit(\"updateEditing\", true)\r\n        },\r\n        update() {\r\n            this.$emit(\"update:modelValue\", this.value)\r\n            this.editing = false;\r\n        },\r\n        cancel() {\r\n            this.editing = false\r\n            this.$emit(\"updateEditing\", false)\r\n        }\r\n\r\n    }\r\n})\r\n","import { render } from \"./EditableCellElement.vue?vue&type=template&id=0e06818a&scoped=true\"\nimport script from \"./EditableCellElement.vue?vue&type=script&lang=ts\"\nexport * from \"./EditableCellElement.vue?vue&type=script&lang=ts\"\n\nimport \"./EditableCellElement.vue?vue&type=style&index=0&id=0e06818a&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0e06818a\"\n\nexport default script","import {ActionTree, Module, MutationTree} from \"vuex\";\r\n\r\nimport {RootState} from \"@/store/index\";\r\nimport Remote from \"@/remote/scheduleRequest\";\r\n\r\nexport interface EMPPosition {\r\n    positionTitle: string;\r\n    positionCode: string;\r\n}\r\n\r\nexport interface CostElement {\r\n    id: string;\r\n    costElementType: number;\r\n    description: string\r\n}\r\n\r\nexport interface ShiftType {\r\n    archive: string\r\n    description: string\r\n    isDefault: string\r\n    shiftType: string\r\n}\r\n\r\nexport interface LookupState {\r\n    shifts: ShiftType[],\r\n    positions: EMPPosition[],\r\n    costElements: CostElement[]\r\n}\r\n\r\nexport enum LookupMutations {\r\n    setShifts = \"SET_SHIFTS\",\r\n    setPosition = \"SET_POSITION\",\r\n    setCostElements = \"SET_COST_ELEMENTS\"\r\n}\r\n\r\nexport enum LookupActions {\r\n    getPositions = 'GET_POSITIONS',\r\n    getShifts = 'GET_SHIFTS',\r\n    getCostElement = 'GET_COST_ELEMENT'\r\n}\r\n\r\nconst lookupMutations: MutationTree<LookupState> = {\r\n    [LookupMutations.setShifts](state, shifts: any[]) {\r\n        state.shifts = shifts\r\n    },\r\n\r\n    [LookupMutations.setPosition](state, positions: EMPPosition[]) {\r\n        state.positions = positions\r\n    },\r\n\r\n    [LookupMutations.setCostElements](state, costElements: CostElement[]) {\r\n        state.costElements = costElements\r\n    }\r\n}\r\n\r\nconst lookupActions: ActionTree<LookupState, RootState> = {\r\n    [LookupActions.getPositions] ({ commit }, employeeNo: number) {\r\n        Remote.GetPosition(employeeNo).then(res => {\r\n            console.log('positon', res)\r\n            let convertedPositions = res.map((positionRemote: any) => {\r\n                return Object.fromEntries(\r\n                    Object.entries(positionRemote).map(([k,v]) => [k.charAt(0).toLowerCase() + k.slice(1), v])\r\n                );\r\n            })\r\n            // state.positions = res\r\n            commit(LookupMutations.setPosition, convertedPositions)\r\n        })\r\n    },\r\n\r\n    [LookupActions.getShifts] ({ commit }) {\r\n        Remote.ShiftTypes().then(res => {\r\n\r\n            let convertedShifts = res.map((shiftRemote: any) => {\r\n                return Object.fromEntries(\r\n                    Object.entries(shiftRemote).map(([k,v]) => [k.charAt(0).toLowerCase() + k.slice(1), v])\r\n                );\r\n            })\r\n            console.log('convertedShifts', convertedShifts)\r\n            // state.positions = res\r\n            commit(LookupMutations.setShifts, convertedShifts)\r\n        })\r\n    },\r\n\r\n    [LookupActions.getCostElement] ({ commit }) {\r\n        Remote.GetCostelements().then(res => {\r\n\r\n            let convertedCostElement = res.map((element: any) => {\r\n                return Object.fromEntries(\r\n                    Object.entries(element).map(([k,v]) => [k.charAt(0).toLowerCase() + k.slice(1), v])\r\n                );\r\n            })\r\n            console.log('convertedShifts', convertedCostElement)\r\n            // state.positions = res\r\n            commit(LookupMutations.setCostElements, convertedCostElement)\r\n        })\r\n    }\r\n\r\n}\r\n\r\nconst LookupSelections: Module<LookupState, RootState> = {\r\n    state: {\r\n        shifts: [],\r\n        positions: [],\r\n        costElements: [],\r\n    },\r\n    mutations: lookupMutations,\r\n    actions: lookupActions\r\n}\r\n\r\nexport default LookupSelections;\r\n","\r\nimport {ScheduleDay} from \"@/components/FlexSchedule/schedule-day-mock.ts\";\r\nimport {defineComponent, PropType, reactive} from \"vue\";\r\nimport {FlexScheduleCellSetting, FlexScheduleMutation} from \"@/store/flexScheduleModule\";\r\nimport {useStore} from \"vuex\";\r\nimport EditableCellElement from \"@/components/FlexSchedule/EditableCellElement.vue\";\r\nimport {LookupActions} from \"@/store/lookupModule\";\r\n\r\nexport default defineComponent({\r\n    name: \"DynamicScheCell\",\r\n    components: {\r\n        EditableCellElement\r\n    },\r\n    props: {\r\n        scheDay: {\r\n            type: Object as PropType<ScheduleDay>\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            editTime: false,\r\n            editing: false,\r\n        }\r\n\r\n    },\r\n    setup() {\r\n        const store = useStore()\r\n\r\n        const cellSettings: FlexScheduleCellSetting = store.state.FlexSchedule.flexScheduleCellSetting\r\n\r\n        return {cellSettings}\r\n    },\r\n    methods: {\r\n        updateElement($event: any, scheDay: any, key: any) {\r\n            // console.log('update event', $event)\r\n            // console.log('update target', scheDay)\r\n            // console.log('update key', key)\r\n            scheDay.startTime = $event;\r\n        },\r\n        moreDetail(day: ScheduleDay) {\r\n            // console.log('day', day)\r\n            this.$store.commit(FlexScheduleMutation.setScheduleDay, day)\r\n            this.$emit('openEditDialog', true)\r\n        },\r\n\r\n        updateEditTime(isEditing: boolean) {\r\n            this.editTime = isEditing;\r\n            if (isEditing) {\r\n                this.editing = true;\r\n            }\r\n        },\r\n\r\n        createSche(scheDay: ScheduleDay) {\r\n            console.log('scheDay', scheDay)\r\n            // this.$store.commit(FlexScheduleMutation.setTargetEmployee)\r\n            this.$store.dispatch(LookupActions.getPositions, (scheDay as any).employeeNo)\r\n            this.$store.commit(FlexScheduleMutation.createNewScheduleDay, scheDay)\r\n            this.$emit('openEditDialog', false)\r\n        },\r\n\r\n        updateEditing(isEditing?: boolean) {\r\n            if (isEditing === true || isEditing === false) {\r\n                this.editing = isEditing;\r\n            } else {\r\n                this.editing = !this.editing\r\n            }\r\n\r\n        },\r\n\r\n        // confirmEdit(day: any) {\r\n        //   day.editing = false;\r\n        // },\r\n        //\r\n        // cancelEdit(day: any) {\r\n        //\r\n        // },\r\n        //\r\n        // editScheDay(day: any) {\r\n        //   day.editing = true\r\n        // }\r\n    }\r\n})\r\n","import { render } from \"./DynamicDayCell.vue?vue&type=template&id=36faa946&scoped=true\"\nimport script from \"./DynamicDayCell.vue?vue&type=script&lang=ts\"\nexport * from \"./DynamicDayCell.vue?vue&type=script&lang=ts\"\n\nimport \"./DynamicDayCell.vue?vue&type=style&index=0&id=36faa946&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-36faa946\"\n\nexport default script","<template>\r\n    <div class=\"cell-config-list\">\r\n        <div>\r\n            <div class=\"custom-select\" tabindex=\"1\" >\r\n                <div class=\"custom-select-selected\">\r\n                    Cell Options\r\n                </div>\r\n                <div class=\"custom-select-items\">\r\n                    <div class=\"custom-select-item\"\r\n                         v-for=\"(option, name) of cellSettings\" :key=\"name\"\r\n                         @click=\"checkOptions(option);\">\r\n                        <div class=\"cell-config\">\r\n                            <label>{{ option.name }}</label>\r\n                            <input type=\"checkbox\" v-model=\"option.value\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent, ref} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {FlexScheduleCellSetting} from \"@/store/flexScheduleModule\";\r\n\r\nexport default defineComponent({\r\n    name: \"FlexScheduleCellControl\",\r\n    setup() {\r\n        const store = useStore()\r\n        const open = ref(false)\r\n        const optionSelected = ref([])\r\n\r\n        const cellSettings: FlexScheduleCellSetting = store.state.FlexSchedule.flexScheduleCellSetting\r\n\r\n        return {open, cellSettings, optionSelected}\r\n    },\r\n    methods: {\r\n        checkOptions(option: any) {\r\n            // console.log('options', option)\r\n        }\r\n    }\r\n\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@use '../../style/_colors';\r\n\r\n.custom-select:focus-within {\r\n    .custom-select-selected {\r\n        border: none;\r\n        border-radius: 0;\r\n        border-bottom: 1px solid colors.$aff-dark-blue;\r\n    }\r\n\r\n    .custom-select-selected:after {\r\n        transform: rotate(180deg);\r\n        top: 8px;\r\n    }\r\n}\r\n\r\n.custom-select-selected {\r\n    padding: 8px 1.5em 8px 0.2em;\r\n    background: white;\r\n    border: none;\r\n    border-radius: 0;\r\n    border-bottom: 1px solid colors.$dark-blue-app;\r\n}\r\n\r\n.custom-select-items {\r\n    width: fit-content;\r\n}\r\n\r\n.custom-select-selected:after {\r\n    top: 15px;\r\n    right: 0;\r\n}\r\n\r\n.cell-config {\r\n    display: grid;\r\n    grid-template-columns: 130px 20px;\r\n    padding: 0;\r\n}\r\n\r\n.cell-config-list {\r\n    font-size: 14px;\r\n}\r\n\r\n\r\n</style>","\r\nimport {defineComponent, ref} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {FlexScheduleCellSetting} from \"@/store/flexScheduleModule\";\r\n\r\nexport default defineComponent({\r\n    name: \"FlexScheduleCellControl\",\r\n    setup() {\r\n        const store = useStore()\r\n        const open = ref(false)\r\n        const optionSelected = ref([])\r\n\r\n        const cellSettings: FlexScheduleCellSetting = store.state.FlexSchedule.flexScheduleCellSetting\r\n\r\n        return {open, cellSettings, optionSelected}\r\n    },\r\n    methods: {\r\n        checkOptions(option: any) {\r\n            // console.log('options', option)\r\n        }\r\n    }\r\n\r\n})\r\n","import { render } from \"./FlexScheduleCellControl.vue?vue&type=template&id=dadce0a0&scoped=true\"\nimport script from \"./FlexScheduleCellControl.vue?vue&type=script&lang=ts\"\nexport * from \"./FlexScheduleCellControl.vue?vue&type=script&lang=ts\"\n\nimport \"./FlexScheduleCellControl.vue?vue&type=style&index=0&id=dadce0a0&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-dadce0a0\"\n\nexport default script","\r\n\r\n<template>\r\n    <div>\r\n        <div class=\"heading\"></div>\r\n        <div class=\"content\">\r\n            <div class=\"clock-frame\">\r\n                <canvas ref=\"clockRef\" width=\"200\" height=\"200\" style=\"background-color:white\"></canvas>\r\n            </div>\r\n            <div class=\"controls\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n// todo: click and choose time\r\n// todo: data transfer\r\nimport {defineComponent, onMounted, ref} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"TimePicker\",\r\n    // data() {\r\n    //   return {\r\n    //     clockHours: [],\r\n    //     clockMinutes: [],\r\n    //   }\r\n    // },\r\n    setup() {\r\n        const clockHours = ref<number[]>([]);\r\n        const clockMinutes = ref<number[]>([]);\r\n        const clockRef = ref<any>(null)\r\n\r\n        for (let i = 0; i < 12; i++) {\r\n            clockHours.value.push(i)\r\n        }\r\n\r\n\r\n        for (let i = 0; i <= 55; i = i + 5) {\r\n            clockMinutes.value.push(i)\r\n        }\r\n\r\n        onMounted(() => {\r\n            // the DOM element will be assigned to the ref after initial render\r\n            console.log(clockRef.value) // <div>This is a root element</div>\r\n            let canvas = clockRef.value;\r\n            let ctx = canvas.getContext('2d')\r\n            let radius = canvas.height / 2\r\n            ctx.translate(radius, radius);\r\n            radius = radius * 0.9\r\n            drawClock();\r\n\r\n\r\n            function drawClock() {\r\n                ctx.arc(0, 0, radius, 0, 2 * Math.PI);\r\n                ctx.fillStyle = \"lightGrey\";\r\n                ctx.fill();\r\n\r\n                drawFace(ctx, radius);\r\n                drawNumbers(ctx, radius);\r\n                drawTime(ctx, radius);\r\n            }\r\n\r\n            function drawFace(ctx: any, radius: number) {\r\n                ctx.beginPath();\r\n                ctx.arc(0, 0, 5, 0, 2 * Math.PI);\r\n                ctx.fillStyle = '#333';\r\n                ctx.fill();\r\n            }\r\n\r\n            function drawNumbers(ctx: any, radius: number) {\r\n                let ang, num;\r\n                ctx.font = \"18px arial\";\r\n                ctx.textBaseline = \"middle\";\r\n                ctx.textAlign = \"center\";\r\n\r\n                for (let num = 1; num < 13; num++) {\r\n                    ang = num * Math.PI / 6;\r\n                    console.log('ang', ang)\r\n                    ctx.rotate(ang);\r\n                    ctx.translate(0, -radius * 0.85);\r\n                    ctx.rotate(-ang);\r\n                    ctx.fillText(num.toString(), 0, 0);\r\n                    ctx.rotate(ang);\r\n                    ctx.translate(0, radius * 0.85);\r\n                    ctx.rotate(-ang);\r\n                }\r\n            }\r\n\r\n            function drawTime(ctx: any, radius: number) {\r\n                var now = new Date();\r\n                var hour = 5;\r\n                var minute = 15;\r\n                //hour\r\n                hour = hour % 12;\r\n                hour = (hour * Math.PI / 6);\r\n                drawHand(ctx, hour, radius * 0.5, 5);\r\n                //minute\r\n                minute = (minute * Math.PI / 30);\r\n                drawHand(ctx, minute, radius * 0.7, 3);\r\n            }\r\n\r\n            function drawHand(ctx: any, pos: any, length: number, width: number) {\r\n                ctx.beginPath();\r\n                ctx.lineWidth = width;\r\n                ctx.lineCap = \"round\";\r\n                ctx.moveTo(0, 0);\r\n                ctx.rotate(pos);\r\n                ctx.lineTo(0, -length);\r\n                ctx.stroke();\r\n                ctx.rotate(-pos);\r\n            }\r\n        })\r\n\r\n        return {\r\n            clockHours, clockMinutes, clockRef\r\n        }\r\n\r\n    },\r\n    // mounted() {\r\n    //   console.log('ref', this.$refs.clockRef)\r\n    //   let clockRef = this.$refs.clockRef;\r\n    //\r\n    // }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n\r\n</style>","\r\n// todo: click and choose time\r\n// todo: data transfer\r\nimport {defineComponent, onMounted, ref} from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"TimePicker\",\r\n    // data() {\r\n    //   return {\r\n    //     clockHours: [],\r\n    //     clockMinutes: [],\r\n    //   }\r\n    // },\r\n    setup() {\r\n        const clockHours = ref<number[]>([]);\r\n        const clockMinutes = ref<number[]>([]);\r\n        const clockRef = ref<any>(null)\r\n\r\n        for (let i = 0; i < 12; i++) {\r\n            clockHours.value.push(i)\r\n        }\r\n\r\n\r\n        for (let i = 0; i <= 55; i = i + 5) {\r\n            clockMinutes.value.push(i)\r\n        }\r\n\r\n        onMounted(() => {\r\n            // the DOM element will be assigned to the ref after initial render\r\n            console.log(clockRef.value) // <div>This is a root element</div>\r\n            let canvas = clockRef.value;\r\n            let ctx = canvas.getContext('2d')\r\n            let radius = canvas.height / 2\r\n            ctx.translate(radius, radius);\r\n            radius = radius * 0.9\r\n            drawClock();\r\n\r\n\r\n            function drawClock() {\r\n                ctx.arc(0, 0, radius, 0, 2 * Math.PI);\r\n                ctx.fillStyle = \"lightGrey\";\r\n                ctx.fill();\r\n\r\n                drawFace(ctx, radius);\r\n                drawNumbers(ctx, radius);\r\n                drawTime(ctx, radius);\r\n            }\r\n\r\n            function drawFace(ctx: any, radius: number) {\r\n                ctx.beginPath();\r\n                ctx.arc(0, 0, 5, 0, 2 * Math.PI);\r\n                ctx.fillStyle = '#333';\r\n                ctx.fill();\r\n            }\r\n\r\n            function drawNumbers(ctx: any, radius: number) {\r\n                let ang, num;\r\n                ctx.font = \"18px arial\";\r\n                ctx.textBaseline = \"middle\";\r\n                ctx.textAlign = \"center\";\r\n\r\n                for (let num = 1; num < 13; num++) {\r\n                    ang = num * Math.PI / 6;\r\n                    console.log('ang', ang)\r\n                    ctx.rotate(ang);\r\n                    ctx.translate(0, -radius * 0.85);\r\n                    ctx.rotate(-ang);\r\n                    ctx.fillText(num.toString(), 0, 0);\r\n                    ctx.rotate(ang);\r\n                    ctx.translate(0, radius * 0.85);\r\n                    ctx.rotate(-ang);\r\n                }\r\n            }\r\n\r\n            function drawTime(ctx: any, radius: number) {\r\n                var now = new Date();\r\n                var hour = 5;\r\n                var minute = 15;\r\n                //hour\r\n                hour = hour % 12;\r\n                hour = (hour * Math.PI / 6);\r\n                drawHand(ctx, hour, radius * 0.5, 5);\r\n                //minute\r\n                minute = (minute * Math.PI / 30);\r\n                drawHand(ctx, minute, radius * 0.7, 3);\r\n            }\r\n\r\n            function drawHand(ctx: any, pos: any, length: number, width: number) {\r\n                ctx.beginPath();\r\n                ctx.lineWidth = width;\r\n                ctx.lineCap = \"round\";\r\n                ctx.moveTo(0, 0);\r\n                ctx.rotate(pos);\r\n                ctx.lineTo(0, -length);\r\n                ctx.stroke();\r\n                ctx.rotate(-pos);\r\n            }\r\n        })\r\n\r\n        return {\r\n            clockHours, clockMinutes, clockRef\r\n        }\r\n\r\n    },\r\n    // mounted() {\r\n    //   console.log('ref', this.$refs.clockRef)\r\n    //   let clockRef = this.$refs.clockRef;\r\n    //\r\n    // }\r\n})\r\n","import { render } from \"./TimePicker.vue?vue&type=template&id=50175295&scoped=true\"\nimport script from \"./TimePicker.vue?vue&type=script&lang=ts\"\nexport * from \"./TimePicker.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-50175295\"\n\nexport default script","<template>\r\n    <div class=\"custom-select\" tabindex=\"1\"  ref=\"selectRef\">\r\n        <div class=\"custom-select-selected\">\r\n            <input class=\"custom-select-input\" ref=\"selectInputRef\"\r\n                   v-model=\"selectSearchInput\" @keyup=\"updateSearchList\">\r\n        </div>\r\n        <div class=\"custom-select-items\">\r\n            <div class=\"custom-select-item\" ref=\"selectDropdownRef\"\r\n                 v-for=\"(option, index) in dropDownList\" :key=\"index\"\r\n                 :tabindex=\"index + 99\"\r\n                 v-bind:class=\"{'targeting': option.targeting}\"\r\n                 @click=\"chooseOption($event, option)\">\r\n                <div class=\"cell-config\">\r\n                    {{ option.name }}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent, ref} from \"vue\";\r\nimport _ from \"lodash\";\r\n\r\nexport default defineComponent({\r\nname: \"AutoComplete\",\r\n    props: {\r\n        inputList: {\r\n            type: Array\r\n        },\r\n        optionName: {\r\n            type: String\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            // selectSearchInput: false,\r\n            editing: false,\r\n            targetingIndex: <number | null>null,\r\n            // downDownList: <any[]>[],\r\n        }\r\n\r\n    },\r\n    setup(props: any) {\r\n\r\n        if (!props.optionName) {\r\n            // todo: treat as string array\r\n            console.error(\"need object, optionName is missing\")\r\n        } else {\r\n            // todo: treat as object array\r\n            console.log('inputLIst', props.inputList)\r\n            console.log('inputLIst', props.optionName)\r\n        }\r\n\r\n        const originList = ref(props.inputList.map((obj: any, index: number) => {\r\n            return {\r\n                targeting: false,\r\n                name: obj[props.optionName],\r\n                index: index\r\n            }\r\n        }))\r\n        const dropDownList = ref(originList.value.slice())\r\n        const selectSearchInput = ref('')\r\n\r\n        return {originList, dropDownList, selectSearchInput}\r\n\r\n    },\r\n\r\n    methods: {\r\n        updateSearchList(event: any) {\r\n            console.log('test', event)\r\n            if (event.key === \"ArrowDown\") {\r\n                this.moveTargetDown();\r\n                return\r\n            } else if (event.key === \"ArrowUp\") {\r\n                this.moveTargetUp();\r\n                return\r\n            } else if (event.key === \"Enter\") {\r\n                if (this.targetingIndex) {\r\n                    this.selectFromTarget();\r\n                    return\r\n                }\r\n            }\r\n\r\n            this.dropDownList = this.originList.filter((o: any) => {\r\n                console.log('o')\r\n                o.targeting = false;\r\n                return o.name.toLowerCase().indexOf(this.selectSearchInput.toLowerCase()) > -1\r\n            })\r\n        },\r\n\r\n        moveTargetDown() {\r\n            if (this.targetingIndex !== null) {\r\n                this.dropDownList[this.targetingIndex].targeting = false;\r\n                if (this.targetingIndex + 1 < this.dropDownList.length) {\r\n                    this.targetingIndex++\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                } else if (this.targetingIndex + 1 === this.dropDownList.length) {\r\n                    this.targetingIndex = 0\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                } else {\r\n                    this.targetingIndex = 0\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                }\r\n            } else {\r\n                this.targetingIndex = 0\r\n                this.dropDownList[this.targetingIndex].targeting = true;\r\n            }\r\n        },\r\n\r\n        moveTargetUp() {\r\n            if (this.targetingIndex !== null) {\r\n                this.dropDownList[this.targetingIndex].targeting = false;\r\n                if (this.targetingIndex - 1 >= 0) {\r\n                    this.targetingIndex--\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                } else if (this.targetingIndex - 1 < 0) {\r\n                    this.targetingIndex = this.dropDownList.length - 1;\r\n                    this.dropDownList[this.targetingIndex!].targeting = true;\r\n                } else {\r\n                    this.targetingIndex = 0\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                }\r\n            } else {\r\n                this.targetingIndex = 0\r\n                this.dropDownList[this.targetingIndex].targeting = true;\r\n            }\r\n        },\r\n\r\n        selectFromTarget() {\r\n            this.selectSearchInput = this.dropDownList[this.targetingIndex!].name\r\n            this.$emit('selected', this.inputList![this.targetingIndex!])\r\n        },\r\n\r\n        chooseOption($event: any, option: any) {\r\n            this.selectSearchInput = option.name\r\n            this.$emit('selected', this.inputList![option.index])\r\n\r\n            $event.target.blur();\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use '../../style/colors';\r\n\r\n.custom-select {\r\n    font-size: 12px;\r\n}\r\n\r\n.custom-select-selected {\r\n    min-height: 24px;\r\n    padding: 4px 1.5em 4px 0.2em;\r\n    border: none;\r\n    border-radius: 0;\r\n    background-color: transparent;\r\n    border-bottom: 1px solid rgba(colors.$grey, 0.7);\r\n\r\n}\r\n\r\n.custom-select-selected:after {\r\n    top: 8px;\r\n    right: 0;\r\n}\r\n\r\n.custom-select:focus-within {\r\n.custom-select-selected {\r\n    border: none;\r\n    border-radius: 0;\r\n    border-bottom: 1px solid colors.$aff-dark-blue;\r\n}\r\n\r\n.custom-select-selected:after {\r\n    transform: rotate(180deg);\r\n    top: 4px;\r\n}\r\n}\r\n\r\n.custom-select-items {\r\n    background: white;\r\n}\r\n\r\n.custom-select-item {\r\n    color: colors.$dark-blue-app;\r\n// padding-left: 1em;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    padding: 4px 1em;\r\n}\r\n\r\n.custom-select-item:hover {\r\n    color: colors.$aff-dark-blue;\r\n    background-color: lighten(colors.$aff-blue, 50%);\r\n}\r\n\r\n.custom-select-input {\r\n    border: none;\r\n    background: transparent;\r\n}\r\n\r\n.cell-config {\r\n    pointer-events: none;\r\n}\r\n\r\n.targeting {\r\n    background-color: colors.$aff-dark-blue;\r\n    color: white;\r\n}\r\n</style>","\r\nimport {defineComponent, ref} from \"vue\";\r\nimport _ from \"lodash\";\r\n\r\nexport default defineComponent({\r\nname: \"AutoComplete\",\r\n    props: {\r\n        inputList: {\r\n            type: Array\r\n        },\r\n        optionName: {\r\n            type: String\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            // selectSearchInput: false,\r\n            editing: false,\r\n            targetingIndex: <number | null>null,\r\n            // downDownList: <any[]>[],\r\n        }\r\n\r\n    },\r\n    setup(props: any) {\r\n\r\n        if (!props.optionName) {\r\n            // todo: treat as string array\r\n            console.error(\"need object, optionName is missing\")\r\n        } else {\r\n            // todo: treat as object array\r\n            console.log('inputLIst', props.inputList)\r\n            console.log('inputLIst', props.optionName)\r\n        }\r\n\r\n        const originList = ref(props.inputList.map((obj: any, index: number) => {\r\n            return {\r\n                targeting: false,\r\n                name: obj[props.optionName],\r\n                index: index\r\n            }\r\n        }))\r\n        const dropDownList = ref(originList.value.slice())\r\n        const selectSearchInput = ref('')\r\n\r\n        return {originList, dropDownList, selectSearchInput}\r\n\r\n    },\r\n\r\n    methods: {\r\n        updateSearchList(event: any) {\r\n            console.log('test', event)\r\n            if (event.key === \"ArrowDown\") {\r\n                this.moveTargetDown();\r\n                return\r\n            } else if (event.key === \"ArrowUp\") {\r\n                this.moveTargetUp();\r\n                return\r\n            } else if (event.key === \"Enter\") {\r\n                if (this.targetingIndex) {\r\n                    this.selectFromTarget();\r\n                    return\r\n                }\r\n            }\r\n\r\n            this.dropDownList = this.originList.filter((o: any) => {\r\n                console.log('o')\r\n                o.targeting = false;\r\n                return o.name.toLowerCase().indexOf(this.selectSearchInput.toLowerCase()) > -1\r\n            })\r\n        },\r\n\r\n        moveTargetDown() {\r\n            if (this.targetingIndex !== null) {\r\n                this.dropDownList[this.targetingIndex].targeting = false;\r\n                if (this.targetingIndex + 1 < this.dropDownList.length) {\r\n                    this.targetingIndex++\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                } else if (this.targetingIndex + 1 === this.dropDownList.length) {\r\n                    this.targetingIndex = 0\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                } else {\r\n                    this.targetingIndex = 0\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                }\r\n            } else {\r\n                this.targetingIndex = 0\r\n                this.dropDownList[this.targetingIndex].targeting = true;\r\n            }\r\n        },\r\n\r\n        moveTargetUp() {\r\n            if (this.targetingIndex !== null) {\r\n                this.dropDownList[this.targetingIndex].targeting = false;\r\n                if (this.targetingIndex - 1 >= 0) {\r\n                    this.targetingIndex--\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                } else if (this.targetingIndex - 1 < 0) {\r\n                    this.targetingIndex = this.dropDownList.length - 1;\r\n                    this.dropDownList[this.targetingIndex!].targeting = true;\r\n                } else {\r\n                    this.targetingIndex = 0\r\n                    this.dropDownList[this.targetingIndex].targeting = true;\r\n                }\r\n            } else {\r\n                this.targetingIndex = 0\r\n                this.dropDownList[this.targetingIndex].targeting = true;\r\n            }\r\n        },\r\n\r\n        selectFromTarget() {\r\n            this.selectSearchInput = this.dropDownList[this.targetingIndex!].name\r\n            this.$emit('selected', this.inputList![this.targetingIndex!])\r\n        },\r\n\r\n        chooseOption($event: any, option: any) {\r\n            this.selectSearchInput = option.name\r\n            this.$emit('selected', this.inputList![option.index])\r\n\r\n            $event.target.blur();\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./AutoComplete.vue?vue&type=template&id=ba02b0d0&scoped=true\"\nimport script from \"./AutoComplete.vue?vue&type=script&lang=ts\"\nexport * from \"./AutoComplete.vue?vue&type=script&lang=ts\"\n\nimport \"./AutoComplete.vue?vue&type=style&index=0&id=ba02b0d0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-ba02b0d0\"\n\nexport default script","\r\nimport {defineComponent, ref} from \"vue\";\r\nimport moment, {Moment} from \"moment\";\r\nimport {getScheduleWeek, ScheduleDay} from \"./schedule-day-mock\";\r\nimport DatePicker from \"@/components/common/DatePicker.vue\";\r\nimport EditFlexSchedule from \"@/components/FlexSchedule/EditFlexSchedule.vue\";\r\nimport DynamicDayCell from \"@/components/FlexSchedule/DynamicDayCell.vue\"\r\nimport {FlexScheduleAction, FlexScheduleMutation} from \"@/store/flexScheduleModule\";\r\nimport FlexScheduleCellControl from \"@/components/FlexSchedule/FlexScheduleCellControl.vue\";\r\nimport TimePicker from \"@/components/common/timePicker/TimePicker.vue\";\r\n\r\nimport { Icon } from '@iconify/vue';\r\nimport AutoComplete from \"@/components/common/AutoComplete.vue\";\r\nimport Remote from '@/remote/scheduleRequest'\r\nimport {LookupActions} from \"@/store/lookupModule\";\r\nimport {useStore} from \"vuex\";\r\ndeclare var Affinity: any\r\n\r\nexport default defineComponent({\r\n    name: \"FlexSchedule\",\r\n    components: {\r\n        DatePicker,\r\n        TimePicker,\r\n        EditFlexSchedule,\r\n        DynamicDayCell,\r\n        FlexScheduleCellControl,\r\n        Icon,\r\n        AutoComplete,\r\n    },\r\n    data() {\r\n        return {\r\n            dayFocus: moment(),\r\n            weekDays: <any[]>[], // calendar week days name\r\n            scheduleWeek: <any[]>[], // list of data per week\r\n            selectedWeekStart: moment(),\r\n            autoCompleteList:[\r\n                {\r\n                    name: '1',\r\n                    display: 'display 1'\r\n                },\r\n                {\r\n                    name: '2',\r\n                    display: 'display 2'\r\n                },\r\n                {\r\n                    name: '3',\r\n                    display: 'display 3'\r\n                },\r\n                {\r\n                    name: '4',\r\n                    display: 'display 4'\r\n                }\r\n            ],\r\n            isEditingDialog: false,\r\n            datePickerTop: 0,\r\n            datePickerLeft: 0,\r\n            employeeList: <any>[],\r\n            scheduleWeekMap: new Map()\r\n\r\n        }\r\n    },\r\n    setup() {\r\n        // const store = useStore()\r\n        // store.dispatch(FlexScheduleAction.loadTargetSchedule,6)\r\n    },\r\n    async mounted() {\r\n        this.$store.dispatch(LookupActions.getPositions, Affinity.user.EmployeeNo)\r\n        this.$store.dispatch(LookupActions.getShifts)\r\n        this.$store.dispatch(LookupActions.getCostElement)\r\n\r\n        let today = moment();\r\n        let weekStart = today.clone().startOf('week')\r\n        let weekEnd = today.clone().endOf('week')\r\n        this.loadDate(weekStart, weekEnd)\r\n    },\r\n\r\n    methods: {\r\n        async loadDate(weekStart: Moment, weekEnd: Moment) {\r\n            let [dateData, employeeList] = await Promise.all([\r\n                this.getDateData(weekStart, weekEnd),\r\n                Remote.GetManagedEmployees(Affinity.user.EmployeeNo).then(res => {\r\n                    console.log('res employees', res)\r\n                    return res.map((data: any) => {\r\n                        return {\r\n                            EmployeeName: data.CommonName,\r\n                            EmployeeNo: data.EmployeeNo,\r\n                            StdHoursPerWeek: data.StdHoursPerWeek,\r\n                            PositionCode: data.PositionCode\r\n                        }\r\n                    })\r\n                })\r\n            ]);\r\n\r\n            for (let employee of employeeList) {\r\n                this.scheduleWeekMap.set(employee.EmployeeNo, employee)\r\n            }\r\n\r\n            for (let sche of dateData) {\r\n                if (this.scheduleWeekMap.get(sche.EmployeeNo) && !this.scheduleWeekMap.get(sche.EmployeeNo).sche) {\r\n                    this.scheduleWeekMap.get(sche.EmployeeNo).sche = [sche]\r\n                } else if (this.scheduleWeekMap.get(sche.EmployeeNo)) {\r\n                    this.scheduleWeekMap.get(sche.EmployeeNo).sche.push(sche)\r\n                }\r\n            }\r\n\r\n            let newWeek = {\r\n                weekStart: moment().startOf('week'),\r\n                weekEnd: moment().endOf('week'),\r\n                scheduleWeek: this.scheduleWeekMap\r\n            }\r\n\r\n            this.$store.state.FlexSchedule.calendarFocusDate = moment();\r\n\r\n            this.getNewWeek(newWeek);\r\n            console.log('scheduleWeekMap', this.scheduleWeekMap)\r\n        },\r\n\r\n        async chooseCalendarDate($event: any) {\r\n            // console.log('event', $event)\r\n            let element = $event.target.getClientRects()[0]\r\n            this.datePickerTop = element.bottom;\r\n            this.datePickerLeft = element.left;\r\n            let datePickerResult;\r\n            try {\r\n                datePickerResult = await (this.$refs.DatePickerRef as any).toggleShow(this.dayFocus);\r\n            } catch (e) {\r\n                return\r\n            }\r\n            this.selectDate(datePickerResult)\r\n        },\r\n\r\n        async selectDate(date: Moment) {\r\n            this.dayFocus = date;\r\n            this.$store.state.FlexSchedule.calendarFocusDate = date\r\n            let weekStart = date.clone().startOf('week')\r\n            let weekEnd = date.clone().endOf('week')\r\n            return this.getDateData(weekStart, weekEnd)\r\n            // this.getNewWeek(date)\r\n        },\r\n        getSelectedWeek(selectedDate: any) {\r\n            var weekStart = selectedDate.clone().startOf('week');\r\n            var weekEnd = selectedDate.clone().endOf('week');\r\n\r\n            this.weekDays = [];\r\n\r\n            for (let i = 0; i <= 6; i++) {\r\n                let momentDay = moment(weekStart).add(i, 'days')\r\n                this.weekDays.push({\r\n                    momentDay: momentDay,\r\n                    day: momentDay.format(\"ddd, MMM Do\")\r\n                })\r\n            }\r\n        },\r\n        async getDateData(startDate?: Moment, endDate?: Moment) {\r\n            let param = {}\r\n            if (startDate && endDate) {\r\n                param = {\r\n                    startDate: startDate.format('YYYY-MM-DD'),\r\n                    endDate: endDate.format('YYYY-MM-DD')\r\n                }\r\n            }\r\n\r\n            return Remote.GetFlexSchedules(param).then(res => {\r\n                // console.log('res', res)\r\n                return this.reformatData(res)\r\n\r\n            })\r\n        },\r\n        scheDaysToColumn() {\r\n            // let scheduleWeekList = getScheduleWeek(12)\r\n\r\n            for (let scheduleArr of this.scheduleWeek.values()) {\r\n                let employeeName = scheduleArr.EmployeeName\r\n                let employeeNo = scheduleArr.EmployeeNo\r\n                for (let i = 0; i <= 6; i++) {\r\n\r\n                    let findResult\r\n\r\n                    if (scheduleArr.sche) {\r\n                        findResult = scheduleArr.sche.find((day: any) => {\r\n                            return day.dayInWeek === i;\r\n                        })\r\n                    } else {\r\n                        scheduleArr.sche = []\r\n                    }\r\n\r\n                    if (!findResult) {\r\n                        // if first day in array and that employee do not have flex schedule ([0].dayInWeek == undefined)\r\n                        if (i === 0 && (!scheduleArr.sche[0]\r\n                                        || (scheduleArr.sche[0].dayInWeek === null\r\n                                            || scheduleArr.sche[0].dayInWeek === undefined ))) {\r\n                            scheduleArr.sche[0] = {}\r\n                            scheduleArr.sche[0].dayInWeek = 0;\r\n                            scheduleArr.sche[0].employeeName = employeeName;\r\n                            scheduleArr.sche[0].employeeNo = employeeNo;\r\n                        } else {\r\n                            scheduleArr.sche.push({\r\n                                dayInWeek: i,\r\n                                employeeName: employeeName,\r\n                                employeeNo: employeeNo\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n\r\n                scheduleArr.sche.sort((a: any, b: any) => a.dayInWeek - b.dayInWeek)\r\n                for (let day of scheduleArr.sche) {\r\n                    day.column = `grid-column-start: ${day.dayInWeek + 4}`;\r\n                    day.editing = false;\r\n                }\r\n            }\r\n\r\n            console.log('this.scheduleWeek', this.scheduleWeek)\r\n        },\r\n        getLastWeek() {\r\n            this.dayFocus.subtract(7, 'days')\r\n\r\n            let weekStart = this.dayFocus.clone().startOf('week')\r\n            let weekEnd = this.dayFocus.clone().endOf('week')\r\n\r\n            console.log('this.scheduleWeekMap', this.scheduleWeekMap)\r\n\r\n            this.loadDate(weekStart, weekEnd)\r\n\r\n            // this.getNewWeek()\r\n        },\r\n        getNextWeek() {\r\n            this.dayFocus.add(7, 'days')\r\n            let weekStart = this.dayFocus.clone().startOf('week')\r\n            let weekEnd = this.dayFocus.clone().endOf('week')\r\n            this.loadDate(weekStart, weekEnd)\r\n            // this.getNewWeek()\r\n        },\r\n\r\n        getNewWeek(newWeek?: any) {\r\n            let newWeekData = newWeek;\r\n            this.getSelectedWeek(newWeekData!.weekStart)\r\n            this.scheduleWeek = this.$store.state.FlexSchedule.scheduleWeek = newWeekData!.scheduleWeek\r\n            this.scheDaysToColumn();\r\n        },\r\n        moreDetail(day: ScheduleDay) {\r\n            this.$store.commit(FlexScheduleMutation.setScheduleDay, day)\r\n        },\r\n\r\n        getTotalHour(sche: ScheduleDay[]) {\r\n            let totalHours = 0;\r\n            for (let day of sche) {\r\n                if (day.hours) {\r\n                    totalHours += day.hours\r\n                }\r\n            }\r\n            return totalHours;\r\n        },\r\n\r\n        confirmEdit(day: any) {\r\n            day.editing = false;\r\n        },\r\n\r\n        cancelEdit(day: any) {\r\n\r\n        },\r\n\r\n        editScheDay(day: any) {\r\n            day.editing = true\r\n        },\r\n        openEditDialog(isEdit: false) {\r\n            // console.log('step 1');\r\n            this.isEditingDialog = isEdit;\r\n            (this.$refs.EditModalRef as any).openEdit();\r\n        },\r\n        reformatData(res: any) {\r\n            res.forEach((obj: any) => {\r\n                obj.id = obj.Id;\r\n                obj.startTime = moment(obj.StartTime).format('HH:mm')\r\n                obj.endTime = moment(obj.EndTime).format('HH:mm')\r\n                obj.hours = obj.Hours\r\n                obj.scheduleDetail = obj.ScheduleData\r\n                obj.dayInWeek = moment(obj.Date).day()\r\n            })\r\n            return res;\r\n        },\r\n\r\n    }\r\n})\r\n","import { render } from \"./FlexSchedule.vue?vue&type=template&id=100c43e2&scoped=true\"\nimport script from \"./FlexSchedule.vue?vue&type=script&lang=ts\"\nexport * from \"./FlexSchedule.vue?vue&type=script&lang=ts\"\n\nimport \"./FlexSchedule.vue?vue&type=style&index=0&id=100c43e2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-100c43e2\"\n\nexport default script","<template>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1\" crossorigin=\"anonymous\">\r\n    <aside class=\"col-sm-4\">\r\n        <p>Login form style 3</p>\r\n\r\n        <div class=\"card\">\r\n            <article class=\"card-body\">\r\n                <h4 class=\"card-title text-center mb-4 mt-1\">Sign in</h4>\r\n                <hr>\r\n                <p class=\"text-success text-center\">Some message goes here</p>\r\n                <form v-on:submit.prevent=\"login\">\r\n                    <div class=\"form-group\">\r\n                        <div class=\"input-group\">\r\n                            <input name=\"\" class=\"form-control\" placeholder=\"Email or login\" v-model=\"username\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group mt-2\">\r\n                        <div class=\"input-group\">\r\n                            <input class=\"form-control\" placeholder=\"******\" type=\"password\" v-model=\"password\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group mt-4\">\r\n                        <button type=\"submit\" class=\"btn btn-primary btn-block\"> Login  </button>\r\n                    </div>\r\n\r\n                </form>\r\n            </article>\r\n        </div> <!-- card.// -->\r\n\r\n    </aside>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: \"Login\",\r\n    data() {\r\n        return {\r\n            username: '',\r\n            password: ''\r\n        }\r\n    },\r\n    methods: {\r\n        login() {\r\n            console.log('login')\r\n            console.log(this.username)\r\n            console.log(this.password)\r\n\r\n            axios.post('http://localhost:61160/api/Authentication/post', {\r\n                username: this.username,\r\n                password: this.password\r\n            }).then(res => {\r\n                console.log('res', res)\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=71c5192d&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-71c5192d\"\n\nexport default script","// import Vue from 'vue'\r\nimport {createWebHistory, createRouter, RouteRecordRaw} from 'vue-router'\r\nimport mySchedules from \"../components/mySchedules/MySchedules.vue\";\r\nimport SchedulesManagement from \"../components/schedulesManagement/SchedulesManagement.vue\";\r\nimport employeeAllocation from \"../components/employeeAllocation/EmployeeAllocation.vue\";\r\nimport FlexSchedule from \"@/components/FlexSchedule/FlexSchedule.vue\";\r\nimport Login from \"@/components/Login/Login.vue\";\r\n\r\n// Vue.use(VueRouter)\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: Login\r\n    },\r\n    {\r\n        path: '/my-schedules',\r\n        name: 'My Schedule',\r\n        component: mySchedules\r\n    },\r\n\r\n    {\r\n        path: '/flex-schedule',\r\n        name: 'Flex Schedule',\r\n        component: FlexSchedule\r\n    },\r\n\r\n    {\r\n        path: '/team-schedules',\r\n        name: 'Schedule Management',\r\n        component: SchedulesManagement\r\n    },\r\n\r\n    {\r\n        path: '/employee-allocations',\r\n        name: 'Employee Allocation',\r\n        component: employeeAllocation\r\n    },\r\n    {\r\n        path: '/',\r\n        name: 'Home',\r\n        component: mySchedules\r\n    },\r\n]\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(process.env.BASE_URL),\r\n    // base: process.env.BASE_URL,\r\n    routes\r\n})\r\n\r\nexport default router\r\n","import Vuex, {StoreOptions} from 'vuex'\r\nimport FlexSchedule from \"@/store/flexScheduleModule\";\r\nimport LookUp from \"@/store/lookupModule\";\r\n\r\nexport interface RootState {\r\n    magic: number,\r\n}\r\n\r\nconst store: StoreOptions<RootState> = {\r\n    state: {\r\n        magic: 123\r\n    },\r\n    modules: {\r\n        FlexSchedule,\r\n        LookUp\r\n    }\r\n}\r\n\r\nexport default new Vuex.Store<RootState>(store);","import moment from \"moment\";\r\n\r\nconst filters = {\r\n    reformatDate(input: any) {\r\n        if (!input) return input\r\n\r\n        if (typeof input === \"string\") return input\r\n\r\n        // console.log('input', input)\r\n        if (typeof input === 'object' && input.constructor?.name === \"Date\") {\r\n            let date = moment(input);\r\n\r\n            return date.format('DD/MM/YYYY')\r\n        }\r\n\r\n        if (input.isValid()) {\r\n            let date = moment(input);\r\n            if (date == null || !date.isValid()) {\r\n                return input;\r\n            }\r\n\r\n            // console.log('date', date)\r\n            return date.format('DD/MM/YYYY')\r\n        } else {\r\n            return input\r\n        }\r\n\r\n    },\r\n\r\n    reformatTime(input: any) {\r\n        if (!input) return input\r\n\r\n        let date = moment(input);\r\n        if (date == null || !date.isValid()) {\r\n\r\n            let time = moment(input, 'h:m');\r\n            if (time == null || !time.isValid()) {\r\n                return input;\r\n            } else {\r\n                return time.format('HH:mm')\r\n            }\r\n            return input;\r\n        }\r\n\r\n        return date.format('HH:mm')\r\n    },\r\n\r\n    ordinalSuffix(i: number) {\r\n        let j = i % 10,\r\n            k = i % 100;\r\n        if (j == 1 && k != 11) {\r\n            return i + \"st\";\r\n        }\r\n        if (j == 2 && k != 12) {\r\n            return i + \"nd\";\r\n        }\r\n        if (j == 3 && k != 13) {\r\n            return i + \"rd\";\r\n        }\r\n        return i + \"th\";\r\n    }\r\n}\r\n\r\nexport default filters","import chevronUp from \"@iconify-icons/mdi/chevron-up\";\r\nimport chevronLeft from '@iconify-icons/mdi/chevron-left';\r\nimport chevronRight from '@iconify-icons/mdi/chevron-right';\r\nimport chevronDown from '@iconify-icons/mdi/chevron-down';\r\n\r\nconst icons = {\r\n    chevronUp: chevronUp,\r\n    chevronLeft: chevronLeft,\r\n    chevronRight: chevronRight,\r\n    chevronDown: chevronDown,\r\n}\r\n\r\nexport default icons;","// import 'babel-polyfill'\r\n// import Vue from 'vue'\r\nimport {createApp} from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n// import store, {key} from './store'\r\nimport store from './store'\r\n// import vuetify from './plugins/vuetify';\r\n// import Dashboard from '../external-lib/dashboard/index.vue'\r\n// import './components/directive';\r\nimport './assets/fonts/ui.font.icons.scss';\r\nimport './style/index.scss';\r\nimport moment from 'moment'\r\nimport mitt, {Emitter} from \"mitt\";\r\nimport VTooltip from 'v-tooltip';\r\nimport customFilters from \"@/plugins/filters\";\r\nimport iconifyIcons from './plugins/iconifyIcons';\r\n\r\nexport const emitter: Emitter = mitt();\r\n\r\n\r\n// Vue.use(VTooltip, {\r\n//     defaultBoundariesElement: 'window'\r\n// })\r\n\r\n// VTooltip.enabled = window.innerWidth > 768\r\n\r\n\r\nnavigator.serviceWorker.getRegistrations().then(function (registrations) {\r\n    for (let registration of registrations) {\r\n        registration.unregister()\r\n    }\r\n})\r\n\r\nlet app = createApp(App)\r\napp.config.globalProperties.emitter = emitter\r\napp.use(VTooltip)\r\n// app.use(store, key).use(router).mount('#app')\r\napp.use(store).use(router).mount('#app')\r\n\r\n\r\napp.config.globalProperties.$filters = customFilters\r\napp.config.globalProperties.$icons = iconifyIcons\r\n\r\n// Vue.config.productionTip = false\r\n// export const emitter = new Vue();\r\n// console.log('main file')\r\n// Vue.filter('date', function (value) {\r\n//   if (!value) return ''\r\n//   let date = moment(value);\r\n//   if (!date.isValid()) return ''\r\n//   return date.format('DD/MM/YYYY')\r\n// })\r\n//\r\n// Vue.filter('time', function (value) {\r\n//   if (!value) return ''\r\n//   let date = moment(value);\r\n//   if (!date.isValid()) return ''\r\n//   return date.format('HH:mm')\r\n// })\r\n//\r\n// Vue.component(\"dashboard\", Dashboard);\r\n//\r\n// new Vue({\r\n//   router,\r\n//   store,\r\n//   vuetify,\r\n//   render: h => h(App)\r\n// }).$mount('#app')\r\n\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditFlexSchedule.vue?vue&type=style&index=0&id=03a53dc2&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ScheduleDetail.vue?vue&type=style&index=0&id=348312c8&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./alert.vue?vue&type=style&index=0&id=9b88c2bc&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./mySchedules.scss?vue&type=style&index=0&lang=scss\""],"sourceRoot":""}