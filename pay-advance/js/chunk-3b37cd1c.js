(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b37cd1c"],{1071:function(e,t,n){"use strict";n.r(t);var s=n("7a23"),c=Object(s["N"])("data-v-9d21e672");Object(s["w"])("data-v-9d21e672");var o=Object(s["j"])("h2",{class:"text-grey ma-0"},"Pay Advance",-1),i=Object(s["j"])("h1",{class:"mt-4 mb-0 text-grey"},"Config",-1),u={class:"config-form mt-8 text-grey"},r={key:0,class:"error-section pa-4"},a=Object(s["j"])("label",{class:"red bold mb-2"},"Error:",-1),l={class:"mt-1"},d={class:"red"},b={class:"config-option"},p=Object(s["j"])("label",null,"Select ESS Group",-1),m={key:0,class:"mt-9"},j=Object(s["j"])("div",{class:"loading-spin-icon"},null,-1),f={key:1},g={class:"config-option"},O=Object(s["j"])("label",null,"Enabled",-1),h={class:"cust-box-container darkblue"},v=Object(s["j"])("span",{class:"cust-box-checkmark"},null,-1),S={class:"config-option"},C=Object(s["j"])("label",null,[Object(s["i"])("Percentage"),Object(s["j"])("span",{class:"red"}," *")],-1),y={class:"config-option"},R=Object(s["j"])("label",null,[Object(s["i"])("Minimum Request Amount"),Object(s["j"])("span",{class:"red"}," *")],-1),k={key:1,class:"mt-9 config-button-bottom"},G={key:0},q=Object(s["j"])("div",{class:"precede2 text-grey"},"Group config has not been created, please create first",-1),A={key:1,class:"d-flex justify-space-between "};Object(s["u"])();var N=c((function(e,t,n,c,N,L){return Object(s["t"])(),Object(s["e"])("div",null,[o,i,Object(s["j"])("div",u,[e.errors.length>0?(Object(s["t"])(),Object(s["e"])("div",r,[a,(Object(s["t"])(!0),Object(s["e"])(s["a"],null,Object(s["z"])(e.errors,(function(e){return Object(s["t"])(),Object(s["e"])("div",l,[Object(s["j"])("span",d,"* "+Object(s["D"])(e),1)])})),256))])):Object(s["f"])("",!0),Object(s["j"])("div",b,[p,Object(s["j"])("div",{class:"custom-select",tabindex:"1",onBlur:t[2]||(t[2]=function(t){return e.open=!1})},[Object(s["j"])("div",{class:["custom-select-selected",{open:e.open}],onClick:t[1]||(t[1]=function(t){return e.open=!e.open})},Object(s["D"])(e.essSelected.Name),3),Object(s["j"])("div",{class:["custom-select-items",{"custom-select-hide":!e.open}]},[(Object(s["t"])(!0),Object(s["e"])(s["a"],null,Object(s["z"])(e.essGroups,(function(t,n){return Object(s["t"])(),Object(s["e"])("div",{class:"custom-select-item",key:n,onClick:function(n){e.essSelected=t,e.open=!1,e.selectNewGroup()}},Object(s["D"])(t.Name),9,["onClick"])})),128))],2)],32)]),Object(s["j"])("div",null,[e.isLoading?(Object(s["t"])(),Object(s["e"])("div",m,[j])):(Object(s["t"])(),Object(s["e"])("div",f,[Object(s["j"])("div",g,[O,Object(s["j"])("label",h,[Object(s["L"])(Object(s["j"])("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.essSelected.enabled=t})},null,512),[[s["G"],e.essSelected.enabled]]),v])]),Object(s["j"])("div",S,[C,Object(s["L"])(Object(s["j"])("input",{type:"number",class:"number-input",max:"99",min:"1",onInput:t[4]||(t[4]=function(){return e.updateNumber&&e.updateNumber.apply(e,arguments)}),"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.essSelected.percentage=t})},null,544),[[s["I"],e.essSelected.percentage,void 0,{number:!0}]])]),Object(s["j"])("div",y,[R,Object(s["L"])(Object(s["j"])("input",{type:"number",class:"number-input",min:"1",onInput:t[6]||(t[6]=function(){return e.updateRequestAmount&&e.updateRequestAmount.apply(e,arguments)}),"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.essSelected.minimumRequestAmount=t})},null,544),[[s["I"],e.essSelected.minimumRequestAmount,void 0,{number:!0}]])])]))]),e.isLoading?Object(s["f"])("",!0):(Object(s["t"])(),Object(s["e"])("div",k,[e.essSelected.configured?(Object(s["t"])(),Object(s["e"])("div",A,[Object(s["j"])("button",{class:"btn-orange",onClick:t[9]||(t[9]=function(){return e.updateConfig&&e.updateConfig.apply(e,arguments)})},"Update"),"All Company"!==e.essSelected.Name?(Object(s["t"])(),Object(s["e"])("button",{key:0,class:"btn-default",onClick:t[10]||(t[10]=function(){return e.deleteConfig&&e.deleteConfig.apply(e,arguments)})},"Delete")):Object(s["f"])("",!0)])):(Object(s["t"])(),Object(s["e"])("div",G,[q,Object(s["j"])("button",{class:"btn-blue mt-4",onClick:t[8]||(t[8]=function(){return e.createConfig&&e.createConfig.apply(e,arguments)})},"Create")]))]))])])})),L=(n("d3b7"),n("d81d"),n("4242")),I=n("6c02"),w=Object(s["k"])({name:"Config.vue",data:function(){return{openEssGroupSelect:!1,open:!1,openRequestType:!1,isLoading:!1,errors:[]}},setup:function(){var e=Object(I["c"])(),t=Object(s["y"])([{Name:"default group",Id:"E001"},{Name:"group2",Id:"E002"}]),n=Object(s["y"])({});return n.value=t.value[0],L["a"].CheckIsAdmin().then((function(t){t.data.Response||e.push("/")})),{essGroups:t,essSelected:n}},mounted:function(){var e=this;this.isLoading=!0,L["a"].GetConfigEssGroups().then((function(t){return console.log("res",t),e.essGroups=t.Response.map((function(e){return{Name:e}})),e.essSelected=e.essGroups[0],L["a"].GetGroupConfig(e.essSelected.Name)})).then((function(t){console.log("res",t),e.essSelected.Id=t.Response.GroupId,e.essSelected.configured=t.Response.IsConfigured,e.essSelected.enabled=t.Response.Enabled,e.essSelected.percentage=t.Response.PayPercentage,e.essSelected.minimumRequestAmount=t.Response.MinimumRequestAmount})).finally((function(){e.isLoading=!1}))},methods:{updateNumber:function(e){var t;this.errors=[],null!==(t=e.target)&&void 0!==t&&t.value&&(e.target.value>100?this.essSelected.percentage=e.target.value=100:e.target.value<1&&(this.essSelected.percentage=e.target.value=1))},updateRequestAmount:function(e){var t;this.errors=[],null!==(t=e.target)&&void 0!==t&&t.value&&e.target.value<1&&(this.essSelected.minimumRequestAmount=e.target.value=1)},selectNewGroup:function(){var e=this;this.isLoading=!0,this.errors=[],L["a"].GetGroupConfig(this.essSelected.Name).then((function(t){e.errors=[],e.essSelected.Id=t.Response.GroupId,e.essSelected.configured=t.Response.IsConfigured,e.essSelected.configured?(e.essSelected.enabled=t.Response.Enabled,e.essSelected.percentage=t.Response.PayPercentage,e.essSelected.minimumRequestAmount=t.Response.MinimumRequestAmount):(e.essSelected.enabled=!0,e.essSelected.percentage=60,e.essSelected.minimumRequestAmount=15)})).finally((function(){e.isLoading=!1}))},validateConfig:function(){return this.errors=[],this.essSelected.percentage||0===this.essSelected.minimumRequestAmount||this.errors.push("Percentage field is required."),this.essSelected.minimumRequestAmount||0===this.essSelected.minimumRequestAmount||this.errors.push("Minimum request amount field is required."),0===this.essSelected.percentage&&this.errors.push("Percentage field must greater then 0."),0===this.essSelected.minimumRequestAmount&&this.errors.push("Minimum request amount field must greater or equal to 1."),this.errors.length<=0},createConfig:function(){var e=this;this.validateConfig()&&(this.isLoading=!0,L["a"].CreateGroupConfig(this.essSelected).then((function(t){e.selectNewGroup()}),(function(t){e.isLoading=!1})))},updateConfig:function(){var e=this;this.validateConfig()&&(this.isLoading=!0,L["a"].UpdateGroupConfig(this.essSelected).then((function(t){e.selectNewGroup()}),(function(t){console.error(t),e.isLoading=!1})))},deleteConfig:function(){var e=this;this.isLoading=!0,L["a"].DeleteConfig(this.essSelected).then((function(t){console.log("res",t),e.selectNewGroup()}),(function(t){console.error(t),e.isLoading=!1}))}}});n("9c5d");w.render=N,w.__scopeId="data-v-9d21e672";t["default"]=w},"9c5d":function(e,t,n){"use strict";n("bc77")},bc77:function(e,t,n){},d81d:function(e,t,n){"use strict";var s=n("23e7"),c=n("b727").map,o=n("1dde"),i=o("map");s({target:"Array",proto:!0,forced:!i},{map:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-3b37cd1c.js.map