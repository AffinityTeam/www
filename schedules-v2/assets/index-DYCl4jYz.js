var oL=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var hae=oL((mae,wd)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ag(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const Gt={},Ea=[],Ls=()=>{},rL=()=>!1,Zd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),lg=e=>e.startsWith("onUpdate:"),Tn=Object.assign,cg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},aL=Object.prototype.hasOwnProperty,_t=(e,t)=>aL.call(e,t),Ie=Array.isArray,xa=e=>Cc(e)==="[object Map]",Jd=e=>Cc(e)==="[object Set]",lb=e=>Cc(e)==="[object Date]",Ke=e=>typeof e=="function",on=e=>typeof e=="string",wi=e=>typeof e=="symbol",Ft=e=>e!==null&&typeof e=="object",Iw=e=>(Ft(e)||Ke(e))&&Ke(e.then)&&Ke(e.catch),Yw=Object.prototype.toString,Cc=e=>Yw.call(e),lL=e=>Cc(e).slice(8,-1),Hw=e=>Cc(e)==="[object Object]",ug=e=>on(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fl=ag(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qd=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},cL=/-(\w)/g,Js=Qd(e=>e.replace(cL,(t,n)=>n?n.toUpperCase():"")),uL=/\B([A-Z])/g,tr=Qd(e=>e.replace(uL,"-$1").toLowerCase()),eh=Qd(e=>e.charAt(0).toUpperCase()+e.slice(1)),ad=Qd(e=>e?`on${eh(e)}`:""),Xo=(e,t)=>!Object.is(e,t),ld=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ww=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},pm=e=>{const t=parseFloat(e);return isNaN(t)?e:t},dL=e=>{const t=on(e)?Number(e):NaN;return isNaN(t)?e:t};let cb;const Bw=()=>cb||(cb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wt(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=on(s)?mL(s):wt(s);if(i)for(const o in i)t[o]=i[o]}return t}else if(on(e)||Ft(e))return e}const hL=/;(?![^(]*\))/g,fL=/:([^]+)/,pL=/\/\*[^]*?\*\//g;function mL(e){const t={};return e.replace(pL,"").split(hL).forEach(n=>{if(n){const s=n.split(fL);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function nt(e){let t="";if(on(e))t=e;else if(Ie(e))for(let n=0;n<e.length;n++){const s=nt(e[n]);s&&(t+=s+" ")}else if(Ft(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function gL(e){if(!e)return null;let{class:t,style:n}=e;return t&&!on(t)&&(e.class=nt(t)),n&&(e.style=wt(n)),e}const yL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vL=ag(yL);function Vw(e){return!!e||e===""}function _L(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Na(e[s],t[s]);return n}function Na(e,t){if(e===t)return!0;let n=lb(e),s=lb(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=wi(e),s=wi(t),n||s)return e===t;if(n=Ie(e),s=Ie(t),n||s)return n&&s?_L(e,t):!1;if(n=Ft(e),s=Ft(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),c=t.hasOwnProperty(r);if(a&&!c||!a&&c||!Na(e[r],t[r]))return!1}}return String(e)===String(t)}function Uw(e,t){return e.findIndex(n=>Na(n,t))}const zw=e=>!!(e&&e.__v_isRef===!0),H=e=>on(e)?e:e==null?"":Ie(e)||Ft(e)&&(e.toString===Yw||!Ke(e.toString))?zw(e)?H(e.value):JSON.stringify(e,jw,2):String(e),jw=(e,t)=>zw(t)?jw(e,t.value):xa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],o)=>(n[gp(s,o)+" =>"]=i,n),{})}:Jd(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>gp(n))}:wi(t)?gp(t):Ft(t)&&!Ie(t)&&!Hw(t)?String(t):t,gp=(e,t="")=>{var n;return wi(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let js;class bL{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=js,!t&&js&&(this.index=(js.scopes||(js.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=js;try{return js=this,t()}finally{js=n}}}on(){js=this}off(){js=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function SL(e,t=js){t&&t.active&&t.effects.push(e)}function wL(){return js}let Ar;class dg{constructor(t,n,s,i){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,SL(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,nr();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(DL(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),sr()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Bo,n=Ar;try{return Bo=!0,Ar=this,this._runnings++,ub(this),this.fn()}finally{db(this),this._runnings--,Ar=n,Bo=t}}stop(){this.active&&(ub(this),db(this),this.onStop&&this.onStop(),this.active=!1)}}function DL(e){return e.value}function ub(e){e._trackId++,e._depsLength=0}function db(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Gw(e.deps[t],e);e.deps.length=e._depsLength}}function Gw(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Bo=!0,mm=0;const Kw=[];function nr(){Kw.push(Bo),Bo=!1}function sr(){const e=Kw.pop();Bo=e===void 0?!0:e}function hg(){mm++}function fg(){for(mm--;!mm&&gm.length;)gm.shift()()}function qw(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Gw(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const gm=[];function Xw(e,t,n){hg();for(const s of e.keys()){let i;s._dirtyLevel<t&&(i??(i=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(i??(i=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&gm.push(s.scheduler)))}fg()}const Zw=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},ym=new WeakMap,Or=Symbol(""),vm=Symbol("");function as(e,t,n){if(Bo&&Ar){let s=ym.get(e);s||ym.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=Zw(()=>s.delete(n))),qw(Ar,i)}}function no(e,t,n,s,i,o){const r=ym.get(e);if(!r)return;let a=[];if(t==="clear")a=[...r.values()];else if(n==="length"&&Ie(e)){const c=Number(s);r.forEach((d,h)=>{(h==="length"||!wi(h)&&h>=c)&&a.push(d)})}else switch(n!==void 0&&a.push(r.get(n)),t){case"add":Ie(e)?ug(n)&&a.push(r.get("length")):(a.push(r.get(Or)),xa(e)&&a.push(r.get(vm)));break;case"delete":Ie(e)||(a.push(r.get(Or)),xa(e)&&a.push(r.get(vm)));break;case"set":xa(e)&&a.push(r.get(Or));break}hg();for(const c of a)c&&Xw(c,4);fg()}const kL=ag("__proto__,__v_isRef,__isVue"),Jw=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wi)),hb=TL();function TL(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Ct(this);for(let o=0,r=this.length;o<r;o++)as(s,"get",o+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(Ct)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){nr(),hg();const s=Ct(this)[t].apply(this,n);return fg(),sr(),s}}),e}function CL(e){wi(e)||(e=String(e));const t=Ct(this);return as(t,"has",e),t.hasOwnProperty(e)}class Qw{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(i?o?YL:s1:o?n1:t1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const r=Ie(t);if(!i){if(r&&_t(hb,n))return Reflect.get(hb,n,s);if(n==="hasOwnProperty")return CL}const a=Reflect.get(t,n,s);return(wi(n)?Jw.has(n):kL(n))||(i||as(t,"get",n),o)?a:ls(a)?r&&ug(n)?a:a.value:Ft(a)?i?o1(a):Ec(a):a}}class e1 extends Qw{constructor(t=!1){super(!1,t)}set(t,n,s,i){let o=t[n];if(!this._isShallow){const c=Ir(o);if(!Fa(s)&&!Ir(s)&&(o=Ct(o),s=Ct(s)),!Ie(t)&&ls(o)&&!ls(s))return c?!1:(o.value=s,!0)}const r=Ie(t)&&ug(n)?Number(n)<t.length:_t(t,n),a=Reflect.set(t,n,s,i);return t===Ct(i)&&(r?Xo(s,o)&&no(t,"set",n,s):no(t,"add",n,s)),a}deleteProperty(t,n){const s=_t(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&no(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!wi(n)||!Jw.has(n))&&as(t,"has",n),s}ownKeys(t){return as(t,"iterate",Ie(t)?"length":Or),Reflect.ownKeys(t)}}class EL extends Qw{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const xL=new e1,ML=new EL,$L=new e1(!0),pg=e=>e,th=e=>Reflect.getPrototypeOf(e);function Ru(e,t,n=!1,s=!1){e=e.__v_raw;const i=Ct(e),o=Ct(t);n||(Xo(t,o)&&as(i,"get",t),as(i,"get",o));const{has:r}=th(i),a=s?pg:n?yg:ic;if(r.call(i,t))return a(e.get(t));if(r.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function Nu(e,t=!1){const n=this.__v_raw,s=Ct(n),i=Ct(e);return t||(Xo(e,i)&&as(s,"has",e),as(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Fu(e,t=!1){return e=e.__v_raw,!t&&as(Ct(e),"iterate",Or),Reflect.get(e,"size",e)}function fb(e,t=!1){!t&&!Fa(e)&&!Ir(e)&&(e=Ct(e));const n=Ct(this);return th(n).has.call(n,e)||(n.add(e),no(n,"add",e,e)),this}function pb(e,t,n=!1){!n&&!Fa(t)&&!Ir(t)&&(t=Ct(t));const s=Ct(this),{has:i,get:o}=th(s);let r=i.call(s,e);r||(e=Ct(e),r=i.call(s,e));const a=o.call(s,e);return s.set(e,t),r?Xo(t,a)&&no(s,"set",e,t):no(s,"add",e,t),this}function mb(e){const t=Ct(this),{has:n,get:s}=th(t);let i=n.call(t,e);i||(e=Ct(e),i=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return i&&no(t,"delete",e,void 0),o}function gb(){const e=Ct(this),t=e.size!==0,n=e.clear();return t&&no(e,"clear",void 0,void 0),n}function Iu(e,t){return function(s,i){const o=this,r=o.__v_raw,a=Ct(r),c=t?pg:e?yg:ic;return!e&&as(a,"iterate",Or),r.forEach((d,h)=>s.call(i,c(d),c(h),o))}}function Yu(e,t,n){return function(...s){const i=this.__v_raw,o=Ct(i),r=xa(o),a=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,d=i[e](...s),h=n?pg:t?yg:ic;return!t&&as(o,"iterate",c?vm:Or),{next(){const{value:p,done:g}=d.next();return g?{value:p,done:g}:{value:a?[h(p[0]),h(p[1])]:h(p),done:g}},[Symbol.iterator](){return this}}}}function ko(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function AL(){const e={get(o){return Ru(this,o)},get size(){return Fu(this)},has:Nu,add:fb,set:pb,delete:mb,clear:gb,forEach:Iu(!1,!1)},t={get(o){return Ru(this,o,!1,!0)},get size(){return Fu(this)},has:Nu,add(o){return fb.call(this,o,!0)},set(o,r){return pb.call(this,o,r,!0)},delete:mb,clear:gb,forEach:Iu(!1,!0)},n={get(o){return Ru(this,o,!0)},get size(){return Fu(this,!0)},has(o){return Nu.call(this,o,!0)},add:ko("add"),set:ko("set"),delete:ko("delete"),clear:ko("clear"),forEach:Iu(!0,!1)},s={get(o){return Ru(this,o,!0,!0)},get size(){return Fu(this,!0)},has(o){return Nu.call(this,o,!0)},add:ko("add"),set:ko("set"),delete:ko("delete"),clear:ko("clear"),forEach:Iu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Yu(o,!1,!1),n[o]=Yu(o,!0,!1),t[o]=Yu(o,!1,!0),s[o]=Yu(o,!0,!0)}),[e,n,t,s]}const[OL,PL,LL,RL]=AL();function mg(e,t){const n=t?e?RL:LL:e?PL:OL;return(s,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(_t(n,i)&&i in s?n:s,i,o)}const NL={get:mg(!1,!1)},FL={get:mg(!1,!0)},IL={get:mg(!0,!1)},t1=new WeakMap,n1=new WeakMap,s1=new WeakMap,YL=new WeakMap;function HL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function WL(e){return e.__v_skip||!Object.isExtensible(e)?0:HL(lL(e))}function Ec(e){return Ir(e)?e:gg(e,!1,xL,NL,t1)}function i1(e){return gg(e,!1,$L,FL,n1)}function o1(e){return gg(e,!0,ML,IL,s1)}function gg(e,t,n,s,i){if(!Ft(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const r=WL(e);if(r===0)return e;const a=new Proxy(e,r===2?s:n);return i.set(e,a),a}function Il(e){return Ir(e)?Il(e.__v_raw):!!(e&&e.__v_isReactive)}function Ir(e){return!!(e&&e.__v_isReadonly)}function Fa(e){return!!(e&&e.__v_isShallow)}function r1(e){return e?!!e.__v_raw:!1}function Ct(e){const t=e&&e.__v_raw;return t?Ct(t):e}function BL(e){return Object.isExtensible(e)&&Ww(e,"__v_skip",!0),e}const ic=e=>Ft(e)?Ec(e):e,yg=e=>Ft(e)?o1(e):e;class a1{constructor(t,n,s,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new dg(()=>t(this._value),()=>cd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=Ct(this);return(!t._cacheable||t.effect.dirty)&&Xo(t._value,t._value=t.effect.run())&&cd(t,4),l1(t),t.effect._dirtyLevel>=2&&cd(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function VL(e,t,n=!1){let s,i;const o=Ke(e);return o?(s=e,i=Ls):(s=e.get,i=e.set),new a1(s,i,o||!i,n)}function l1(e){var t;Bo&&Ar&&(e=Ct(e),qw(Ar,(t=e.dep)!=null?t:e.dep=Zw(()=>e.dep=void 0,e instanceof a1?e:void 0)))}function cd(e,t=4,n,s){e=Ct(e);const i=e.dep;i&&Xw(i,t)}function ls(e){return!!(e&&e.__v_isRef===!0)}function V(e){return c1(e,!1)}function UL(e){return c1(e,!0)}function c1(e,t){return ls(e)?e:new zL(e,t)}class zL{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ct(t),this._value=n?t:ic(t)}get value(){return l1(this),this._value}set value(t){const n=this.__v_isShallow||Fa(t)||Ir(t);t=n?t:Ct(t),Xo(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:ic(t),cd(this,4))}}function jn(e){return ls(e)?e.value:e}const jL={get:(e,t,n)=>jn(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return ls(i)&&!ls(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function u1(e){return Il(e)?e:new Proxy(e,jL)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vo(e,t,n,s){try{return s?e(...s):e()}catch(i){nh(i,t,n)}}function Ns(e,t,n,s){if(Ke(e)){const i=Vo(e,t,n,s);return i&&Iw(i)&&i.catch(o=>{nh(o,t,n)}),i}if(Ie(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Ns(e[o],t,n,s));return i}}function nh(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,r,a)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){nr(),Vo(c,null,10,[e,r,a]),sr();return}}GL(e,n,i,s)}function GL(e,t,n,s=!0){console.error(e)}let oc=!1,_m=!1;const Nn=[];let mi=0;const Ma=[];let Ao=null,Er=0;const d1=Promise.resolve();let vg=null;function Ks(e){const t=vg||d1;return e?t.then(this?e.bind(this):e):t}function KL(e){let t=mi+1,n=Nn.length;for(;t<n;){const s=t+n>>>1,i=Nn[s],o=rc(i);o<e||o===e&&i.pre?t=s+1:n=s}return t}function _g(e){(!Nn.length||!Nn.includes(e,oc&&e.allowRecurse?mi+1:mi))&&(e.id==null?Nn.push(e):Nn.splice(KL(e.id),0,e),h1())}function h1(){!oc&&!_m&&(_m=!0,vg=d1.then(p1))}function qL(e){const t=Nn.indexOf(e);t>mi&&Nn.splice(t,1)}function XL(e){Ie(e)?Ma.push(...e):(!Ao||!Ao.includes(e,e.allowRecurse?Er+1:Er))&&Ma.push(e),h1()}function yb(e,t,n=oc?mi+1:0){for(;n<Nn.length;n++){const s=Nn[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Nn.splice(n,1),n--,s()}}}function f1(e){if(Ma.length){const t=[...new Set(Ma)].sort((n,s)=>rc(n)-rc(s));if(Ma.length=0,Ao){Ao.push(...t);return}for(Ao=t,Er=0;Er<Ao.length;Er++){const n=Ao[Er];n.active!==!1&&n()}Ao=null,Er=0}}const rc=e=>e.id==null?1/0:e.id,ZL=(e,t)=>{const n=rc(e)-rc(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function p1(e){_m=!1,oc=!0,Nn.sort(ZL);try{for(mi=0;mi<Nn.length;mi++){const t=Nn[mi];t&&t.active!==!1&&Vo(t,t.i,t.i?15:14)}}finally{mi=0,Nn.length=0,f1(),oc=!1,vg=null,(Nn.length||Ma.length)&&p1()}}let wn=null,sh=null;function Dd(e){const t=wn;return wn=e,sh=e&&e.type.__scopeId||null,t}function ft(e){sh=e}function pt(){sh=null}const JL=e=>Ze;function Ze(e,t=wn,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&xb(-1);const o=Dd(t);let r;try{r=e(...i)}finally{Dd(o),s._d&&xb(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function ge(e,t){if(wn===null)return e;const n=ch(wn),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,a,c=Gt]=t[i];o&&(Ke(o)&&(o={mounted:o,updated:o}),o.deep&&Ro(r),s.push({dir:o,instance:n,value:r,oldValue:void 0,arg:a,modifiers:c}))}return e}function gr(e,t,n,s){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let c=a.dir[s];c&&(nr(),Ns(c,n,8,[e.el,a,e,t]),sr())}}const Oo=Symbol("_leaveCb"),Hu=Symbol("_enterCb");function QL(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ti(()=>{e.isMounted=!0}),S1(()=>{e.isUnmounting=!0}),e}const Ms=[Function,Array],m1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ms,onEnter:Ms,onAfterEnter:Ms,onEnterCancelled:Ms,onBeforeLeave:Ms,onLeave:Ms,onAfterLeave:Ms,onLeaveCancelled:Ms,onBeforeAppear:Ms,onAppear:Ms,onAfterAppear:Ms,onAppearCancelled:Ms},g1=e=>{const t=e.subTree;return t.component?g1(t.component):t},e2={name:"BaseTransition",props:m1,setup(e,{slots:t}){const n=V1(),s=QL();return()=>{const i=t.default&&v1(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const g of i)if(g.type!==ns){o=g;break}}const r=Ct(e),{mode:a}=r;if(s.isLeaving)return yp(o);const c=vb(o);if(!c)return yp(o);let d=bm(c,r,s,n,g=>d=g);kd(c,d);const h=n.subTree,p=h&&vb(h);if(p&&p.type!==ns&&!xr(c,p)&&g1(n).type!==ns){const g=bm(p,r,s,n);if(kd(p,g),a==="out-in"&&c.type!==ns)return s.isLeaving=!0,g.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},yp(o);a==="in-out"&&c.type!==ns&&(g.delayLeave=(y,_,T)=>{const w=y1(s,p);w[String(p.key)]=p,y[Oo]=()=>{_(),y[Oo]=void 0,delete d.delayedLeave},d.delayedLeave=T})}return o}}},t2=e2;function y1(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function bm(e,t,n,s,i){const{appear:o,mode:r,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:g,onLeave:y,onAfterLeave:_,onLeaveCancelled:T,onBeforeAppear:w,onAppear:k,onAfterAppear:x,onAppearCancelled:$}=t,L=String(e.key),F=y1(n,e),R=(Y,N)=>{Y&&Ns(Y,s,9,N)},W=(Y,N)=>{const G=N[1];R(Y,N),Ie(Y)?Y.every(j=>j.length<=1)&&G():Y.length<=1&&G()},z={mode:r,persisted:a,beforeEnter(Y){let N=c;if(!n.isMounted)if(o)N=w||c;else return;Y[Oo]&&Y[Oo](!0);const G=F[L];G&&xr(e,G)&&G.el[Oo]&&G.el[Oo](),R(N,[Y])},enter(Y){let N=d,G=h,j=p;if(!n.isMounted)if(o)N=k||d,G=x||h,j=$||p;else return;let J=!1;const ue=Y[Hu]=oe=>{J||(J=!0,oe?R(j,[Y]):R(G,[Y]),z.delayedLeave&&z.delayedLeave(),Y[Hu]=void 0)};N?W(N,[Y,ue]):ue()},leave(Y,N){const G=String(e.key);if(Y[Hu]&&Y[Hu](!0),n.isUnmounting)return N();R(g,[Y]);let j=!1;const J=Y[Oo]=ue=>{j||(j=!0,N(),ue?R(T,[Y]):R(_,[Y]),Y[Oo]=void 0,F[G]===e&&delete F[G])};F[G]=e,y?W(y,[Y,J]):J()},clone(Y){const N=bm(Y,t,n,s,i);return i&&i(N),N}};return z}function yp(e){if(ih(e))return e=Zo(e),e.children=null,e}function vb(e){if(!ih(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ke(n.default))return n.default()}}function kd(e,t){e.shapeFlag&6&&e.component?kd(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function v1(e,t=!1,n){let s=[],i=0;for(let o=0;o<e.length;o++){let r=e[o];const a=n==null?r.key:String(n)+String(r.key!=null?r.key:o);r.type===de?(r.patchFlag&128&&i++,s=s.concat(v1(r.children,t,a))):(t||r.type!==ns)&&s.push(a!=null?Zo(r,{key:a}):r)}if(i>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Ve(e,t){return Ke(e)?Tn({name:e.name},t,{setup:e}):e}const Yl=e=>!!e.type.__asyncLoader,ih=e=>e.type.__isKeepAlive;function n2(e,t){_1(e,"a",t)}function s2(e,t){_1(e,"da",t)}function _1(e,t,n=$n){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(oh(t,s,n),n){let i=n.parent;for(;i&&i.parent;)ih(i.parent.vnode)&&i2(s,t,n,i),i=i.parent}}function i2(e,t,n,s){const i=oh(t,e,s,!0);xc(()=>{cg(s[t],i)},n)}function oh(e,t,n=$n,s=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{nr();const a=Mc(n),c=Ns(t,n,e,r);return a(),sr(),c});return s?i.unshift(o):i.push(o),o}}const ho=e=>(t,n=$n)=>{(!lh||e==="sp")&&oh(e,(...s)=>t(...s),n)},b1=ho("bm"),Ti=ho("m"),o2=ho("bu"),r2=ho("u"),S1=ho("bum"),xc=ho("um"),a2=ho("sp"),l2=ho("rtg"),c2=ho("rtc");function u2(e,t=$n){oh("ec",e,t)}const bg="components",d2="directives";function ye(e,t){return Sg(bg,e,!0,t)||e}const w1=Symbol.for("v-ndc");function h2(e){return on(e)?Sg(bg,e,!1)||e:e||w1}function Ci(e){return Sg(d2,e)}function Sg(e,t,n=!0,s=!1){const i=wn||$n;if(i){const o=i.type;if(e===bg){const a=Q2(o,!1);if(a&&(a===t||a===Js(t)||a===eh(Js(t))))return o}const r=_b(i[e]||o[e],t)||_b(i.appContext[e],t);return!r&&s?o:r}}function _b(e,t){return e&&(e[t]||e[Js(t)]||e[eh(Js(t))])}function $e(e,t,n,s){let i;const o=n;if(Ie(e)||on(e)){i=new Array(e.length);for(let r=0,a=e.length;r<a;r++)i[r]=t(e[r],r,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o)}else if(Ft(e))if(e[Symbol.iterator])i=Array.from(e,(r,a)=>t(r,a,void 0,o));else{const r=Object.keys(e);i=new Array(r.length);for(let a=0,c=r.length;a<c;a++){const d=r[a];i[a]=t(e[d],d,a,o)}}else i=[];return i}function Pr(e,t,n={},s,i){if(wn.isCE||wn.parent&&Yl(wn.parent)&&wn.parent.isCE)return t!=="default"&&(n.name=t),ce("slot",n,s);let o=e[t];o&&o._c&&(o._d=!1),S();const r=o&&D1(o(n)),a=qt(de,{key:(n.key||r&&r.key||`_${t}`)+(!r&&s?"_fb":"")},r||[],r&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function D1(e){return e.some(t=>Cd(t)?!(t.type===ns||t.type===de&&!D1(t.children)):!0)?e:null}function bb(e,t){const n={};for(const s in e)n[/[A-Z]/.test(s)?`on:${s}`:ad(s)]=e[s];return n}const Sm=e=>e?U1(e)?ch(e):Sm(e.parent):null,Hl=Tn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Sm(e.parent),$root:e=>Sm(e.root),$emit:e=>e.emit,$options:e=>wg(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,_g(e.update)}),$nextTick:e=>e.n||(e.n=Ks.bind(e.proxy)),$watch:e=>R2.bind(e)}),vp=(e,t)=>e!==Gt&&!e.__isScriptSetup&&_t(e,t),f2={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:a,appContext:c}=e;let d;if(t[0]!=="$"){const y=r[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(vp(s,t))return r[t]=1,s[t];if(i!==Gt&&_t(i,t))return r[t]=2,i[t];if((d=e.propsOptions[0])&&_t(d,t))return r[t]=3,o[t];if(n!==Gt&&_t(n,t))return r[t]=4,n[t];wm&&(r[t]=0)}}const h=Hl[t];let p,g;if(h)return t==="$attrs"&&as(e.attrs,"get",""),h(e);if((p=a.__cssModules)&&(p=p[t]))return p;if(n!==Gt&&_t(n,t))return r[t]=4,n[t];if(g=c.config.globalProperties,_t(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:o}=e;return vp(i,t)?(i[t]=n,!0):s!==Gt&&_t(s,t)?(s[t]=n,!0):_t(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:o}},r){let a;return!!n[r]||e!==Gt&&_t(e,r)||vp(t,r)||(a=o[0])&&_t(a,r)||_t(s,r)||_t(Hl,r)||_t(i.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:_t(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sb(e){return Ie(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let wm=!0;function p2(e){const t=wg(e),n=e.proxy,s=e.ctx;wm=!1,t.beforeCreate&&wb(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:c,inject:d,created:h,beforeMount:p,mounted:g,beforeUpdate:y,updated:_,activated:T,deactivated:w,beforeDestroy:k,beforeUnmount:x,destroyed:$,unmounted:L,render:F,renderTracked:R,renderTriggered:W,errorCaptured:z,serverPrefetch:Y,expose:N,inheritAttrs:G,components:j,directives:J,filters:ue}=t;if(d&&m2(d,s,null),r)for(const me in r){const Se=r[me];Ke(Se)&&(s[me]=Se.bind(n))}if(i){const me=i.call(n,n);Ft(me)&&(e.data=Ec(me))}if(wm=!0,o)for(const me in o){const Se=o[me],Te=Ke(Se)?Se.bind(n,n):Ke(Se.get)?Se.get.bind(n,n):Ls,xe=!Ke(Se)&&Ke(Se.set)?Se.set.bind(n):Ls,Re=An({get:Te,set:xe});Object.defineProperty(s,me,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Ye=>Re.value=Ye})}if(a)for(const me in a)k1(a[me],s,n,me);if(c){const me=Ke(c)?c.call(n):c;Reflect.ownKeys(me).forEach(Se=>{ud(Se,me[Se])})}h&&wb(h,e,"c");function le(me,Se){Ie(Se)?Se.forEach(Te=>me(Te.bind(n))):Se&&me(Se.bind(n))}if(le(b1,p),le(Ti,g),le(o2,y),le(r2,_),le(n2,T),le(s2,w),le(u2,z),le(c2,R),le(l2,W),le(S1,x),le(xc,L),le(a2,Y),Ie(N))if(N.length){const me=e.exposed||(e.exposed={});N.forEach(Se=>{Object.defineProperty(me,Se,{get:()=>n[Se],set:Te=>n[Se]=Te})})}else e.exposed||(e.exposed={});F&&e.render===Ls&&(e.render=F),G!=null&&(e.inheritAttrs=G),j&&(e.components=j),J&&(e.directives=J)}function m2(e,t,n=Ls){Ie(e)&&(e=Dm(e));for(const s in e){const i=e[s];let o;Ft(i)?"default"in i?o=kn(i.from||s,i.default,!0):o=kn(i.from||s):o=kn(i),ls(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[s]=o}}function wb(e,t,n){Ns(Ie(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function k1(e,t,n,s){const i=s.includes(".")?I1(n,s):()=>n[s];if(on(e)){const o=t[e];Ke(o)&&Uo(i,o)}else if(Ke(e))Uo(i,e.bind(n));else if(Ft(e))if(Ie(e))e.forEach(o=>k1(o,t,n,s));else{const o=Ke(e.handler)?e.handler.bind(n):t[e.handler];Ke(o)&&Uo(i,o,e)}}function wg(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let c;return a?c=a:!i.length&&!n&&!s?c=t:(c={},i.length&&i.forEach(d=>Td(c,d,r,!0)),Td(c,t,r)),Ft(t)&&o.set(t,c),c}function Td(e,t,n,s=!1){const{mixins:i,extends:o}=t;o&&Td(e,o,n,!0),i&&i.forEach(r=>Td(e,r,n,!0));for(const r in t)if(!(s&&r==="expose")){const a=g2[r]||n&&n[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const g2={data:Db,props:kb,emits:kb,methods:Ol,computed:Ol,beforeCreate:zn,created:zn,beforeMount:zn,mounted:zn,beforeUpdate:zn,updated:zn,beforeDestroy:zn,beforeUnmount:zn,destroyed:zn,unmounted:zn,activated:zn,deactivated:zn,errorCaptured:zn,serverPrefetch:zn,components:Ol,directives:Ol,watch:v2,provide:Db,inject:y2};function Db(e,t){return t?e?function(){return Tn(Ke(e)?e.call(this,this):e,Ke(t)?t.call(this,this):t)}:t:e}function y2(e,t){return Ol(Dm(e),Dm(t))}function Dm(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function zn(e,t){return e?[...new Set([].concat(e,t))]:t}function Ol(e,t){return e?Tn(Object.create(null),e,t):t}function kb(e,t){return e?Ie(e)&&Ie(t)?[...new Set([...e,...t])]:Tn(Object.create(null),Sb(e),Sb(t??{})):t}function v2(e,t){if(!e)return t;if(!t)return e;const n=Tn(Object.create(null),e);for(const s in t)n[s]=zn(e[s],t[s]);return n}function T1(){return{app:null,config:{isNativeTag:rL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _2=0;function b2(e,t){return function(s,i=null){Ke(s)||(s=Tn({},s)),i!=null&&!Ft(i)&&(i=null);const o=T1(),r=new WeakSet;let a=!1;const c=o.app={_uid:_2++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:tR,get config(){return o.config},set config(d){},use(d,...h){return r.has(d)||(d&&Ke(d.install)?(r.add(d),d.install(c,...h)):Ke(d)&&(r.add(d),d(c,...h))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,h){return h?(o.components[d]=h,c):o.components[d]},directive(d,h){return h?(o.directives[d]=h,c):o.directives[d]},mount(d,h,p){if(!a){const g=ce(s,i);return g.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),h&&t?t(g,d):e(g,d,p),a=!0,c._container=d,d.__vue_app__=c,ch(g.component)}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,h){return o.provides[d]=h,c},runWithContext(d){const h=$a;$a=c;try{return d()}finally{$a=h}}};return c}}let $a=null;function ud(e,t){if($n){let n=$n.provides;const s=$n.parent&&$n.parent.provides;s===n&&(n=$n.provides=Object.create(s)),n[e]=t}}function kn(e,t,n=!1){const s=$n||wn;if(s||$a){const i=$a?$a._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ke(t)?t.call(s&&s.proxy):t}}const C1={},E1=()=>Object.create(C1),x1=e=>Object.getPrototypeOf(e)===C1;function S2(e,t,n,s=!1){const i={},o=E1();e.propsDefaults=Object.create(null),M1(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);n?e.props=s?i:i1(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function w2(e,t,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=Ct(i),[c]=e.propsOptions;let d=!1;if((s||r>0)&&!(r&16)){if(r&8){const h=e.vnode.dynamicProps;for(let p=0;p<h.length;p++){let g=h[p];if(rh(e.emitsOptions,g))continue;const y=t[g];if(c)if(_t(o,g))y!==o[g]&&(o[g]=y,d=!0);else{const _=Js(g);i[_]=km(c,a,_,y,e,!1)}else y!==o[g]&&(o[g]=y,d=!0)}}}else{M1(e,t,i,o)&&(d=!0);let h;for(const p in a)(!t||!_t(t,p)&&((h=tr(p))===p||!_t(t,h)))&&(c?n&&(n[p]!==void 0||n[h]!==void 0)&&(i[p]=km(c,a,p,void 0,e,!0)):delete i[p]);if(o!==a)for(const p in o)(!t||!_t(t,p))&&(delete o[p],d=!0)}d&&no(e.attrs,"set","")}function M1(e,t,n,s){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let c in t){if(Fl(c))continue;const d=t[c];let h;i&&_t(i,h=Js(c))?!o||!o.includes(h)?n[h]=d:(a||(a={}))[h]=d:rh(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,r=!0)}if(o){const c=Ct(n),d=a||Gt;for(let h=0;h<o.length;h++){const p=o[h];n[p]=km(i,c,p,d[p],e,!_t(d,p))}}return r}function km(e,t,n,s,i,o){const r=e[n];if(r!=null){const a=_t(r,"default");if(a&&s===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&Ke(c)){const{propsDefaults:d}=i;if(n in d)s=d[n];else{const h=Mc(i);s=d[n]=c.call(null,t),h()}}else s=c}r[0]&&(o&&!a?s=!1:r[1]&&(s===""||s===tr(n))&&(s=!0))}return s}const D2=new WeakMap;function $1(e,t,n=!1){const s=n?D2:t.propsCache,i=s.get(e);if(i)return i;const o=e.props,r={},a=[];let c=!1;if(!Ke(e)){const h=p=>{c=!0;const[g,y]=$1(p,t,!0);Tn(r,g),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!c)return Ft(e)&&s.set(e,Ea),Ea;if(Ie(o))for(let h=0;h<o.length;h++){const p=Js(o[h]);Tb(p)&&(r[p]=Gt)}else if(o)for(const h in o){const p=Js(h);if(Tb(p)){const g=o[h],y=r[p]=Ie(g)||Ke(g)?{type:g}:Tn({},g),_=y.type;let T=!1,w=!0;if(Ie(_))for(let k=0;k<_.length;++k){const x=_[k],$=Ke(x)&&x.name;if($==="Boolean"){T=!0;break}else $==="String"&&(w=!1)}else T=Ke(_)&&_.name==="Boolean";y[0]=T,y[1]=w,(T||_t(y,"default"))&&a.push(p)}}const d=[r,a];return Ft(e)&&s.set(e,d),d}function Tb(e){return e[0]!=="$"&&!Fl(e)}const A1=e=>e[0]==="_"||e==="$stable",Dg=e=>Ie(e)?e.map(pi):[pi(e)],k2=(e,t,n)=>{if(t._n)return t;const s=Ze((...i)=>Dg(t(...i)),n);return s._c=!1,s},O1=(e,t,n)=>{const s=e._ctx;for(const i in e){if(A1(i))continue;const o=e[i];if(Ke(o))t[i]=k2(i,o,s);else if(o!=null){const r=Dg(o);t[i]=()=>r}}},P1=(e,t)=>{const n=Dg(t);e.slots.default=()=>n},L1=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},T2=(e,t,n)=>{const s=e.slots=E1();if(e.vnode.shapeFlag&32){const i=t._;i?(L1(s,t,n),n&&Ww(s,"_",i,!0)):O1(t,s)}else t&&P1(e,t)},C2=(e,t,n)=>{const{vnode:s,slots:i}=e;let o=!0,r=Gt;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:L1(i,t,n):(o=!t.$stable,O1(t,i)),r=t}else t&&(P1(e,t),r={default:1});if(o)for(const a in i)!A1(a)&&r[a]==null&&delete i[a]};function Tm(e,t,n,s,i=!1){if(Ie(e)){e.forEach((g,y)=>Tm(g,t&&(Ie(t)?t[y]:t),n,s,i));return}if(Yl(s)&&!i)return;const o=s.shapeFlag&4?ch(s.component):s.el,r=i?null:o,{i:a,r:c}=e,d=t&&t.r,h=a.refs===Gt?a.refs={}:a.refs,p=a.setupState;if(d!=null&&d!==c&&(on(d)?(h[d]=null,_t(p,d)&&(p[d]=null)):ls(d)&&(d.value=null)),Ke(c))Vo(c,a,12,[r,h]);else{const g=on(c),y=ls(c);if(g||y){const _=()=>{if(e.f){const T=g?_t(p,c)?p[c]:h[c]:c.value;i?Ie(T)&&cg(T,o):Ie(T)?T.includes(o)||T.push(o):g?(h[c]=[o],_t(p,c)&&(p[c]=h[c])):(c.value=[o],e.k&&(h[e.k]=c.value))}else g?(h[c]=r,_t(p,c)&&(p[c]=r)):y&&(c.value=r,e.k&&(h[e.k]=r))};r?(_.id=-1,Qn(_,n)):_()}}}const E2=Symbol("_vte"),x2=e=>e.__isTeleport,Qn=V2;function M2(e){return $2(e)}function $2(e,t){const n=Bw();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:r,createText:a,createComment:c,setText:d,setElementText:h,parentNode:p,nextSibling:g,setScopeId:y=Ls,insertStaticContent:_}=e,T=(A,P,q,re=null,ee=null,he=null,we=void 0,ve=null,pe=!!P.dynamicChildren)=>{if(A===P)return;A&&!xr(A,P)&&(re=Q(A),Ye(A,ee,he,!0),A=null),P.patchFlag===-2&&(pe=!1,P.dynamicChildren=null);const{type:ae,ref:ke,shapeFlag:Le}=P;switch(ae){case ah:w(A,P,q,re);break;case ns:k(A,P,q,re);break;case dd:A==null&&x(P,q,re,we);break;case de:j(A,P,q,re,ee,he,we,ve,pe);break;default:Le&1?F(A,P,q,re,ee,he,we,ve,pe):Le&6?J(A,P,q,re,ee,he,we,ve,pe):(Le&64||Le&128)&&ae.process(A,P,q,re,ee,he,we,ve,pe,Oe)}ke!=null&&ee&&Tm(ke,A&&A.ref,he,P||A,!P)},w=(A,P,q,re)=>{if(A==null)s(P.el=a(P.children),q,re);else{const ee=P.el=A.el;P.children!==A.children&&d(ee,P.children)}},k=(A,P,q,re)=>{A==null?s(P.el=c(P.children||""),q,re):P.el=A.el},x=(A,P,q,re)=>{[A.el,A.anchor]=_(A.children,P,q,re,A.el,A.anchor)},$=({el:A,anchor:P},q,re)=>{let ee;for(;A&&A!==P;)ee=g(A),s(A,q,re),A=ee;s(P,q,re)},L=({el:A,anchor:P})=>{let q;for(;A&&A!==P;)q=g(A),i(A),A=q;i(P)},F=(A,P,q,re,ee,he,we,ve,pe)=>{P.type==="svg"?we="svg":P.type==="math"&&(we="mathml"),A==null?R(P,q,re,ee,he,we,ve,pe):Y(A,P,ee,he,we,ve,pe)},R=(A,P,q,re,ee,he,we,ve)=>{let pe,ae;const{props:ke,shapeFlag:Le,transition:Me,dirs:ze}=A;if(pe=A.el=r(A.type,he,ke&&ke.is,ke),Le&8?h(pe,A.children):Le&16&&z(A.children,pe,null,re,ee,_p(A,he),we,ve),ze&&gr(A,null,re,"created"),W(pe,A,A.scopeId,we,re),ke){for(const St in ke)St!=="value"&&!Fl(St)&&o(pe,St,null,ke[St],he,re);"value"in ke&&o(pe,"value",null,ke.value,he),(ae=ke.onVnodeBeforeMount)&&di(ae,re,A)}ze&&gr(A,null,re,"beforeMount");const qe=A2(ee,Me);qe&&Me.beforeEnter(pe),s(pe,P,q),((ae=ke&&ke.onVnodeMounted)||qe||ze)&&Qn(()=>{ae&&di(ae,re,A),qe&&Me.enter(pe),ze&&gr(A,null,re,"mounted")},ee)},W=(A,P,q,re,ee)=>{if(q&&y(A,q),re)for(let he=0;he<re.length;he++)y(A,re[he]);if(ee){let he=ee.subTree;if(P===he){const we=ee.vnode;W(A,we,we.scopeId,we.slotScopeIds,ee.parent)}}},z=(A,P,q,re,ee,he,we,ve,pe=0)=>{for(let ae=pe;ae<A.length;ae++){const ke=A[ae]=ve?Po(A[ae]):pi(A[ae]);T(null,ke,P,q,re,ee,he,we,ve)}},Y=(A,P,q,re,ee,he,we)=>{const ve=P.el=A.el;let{patchFlag:pe,dynamicChildren:ae,dirs:ke}=P;pe|=A.patchFlag&16;const Le=A.props||Gt,Me=P.props||Gt;let ze;if(q&&yr(q,!1),(ze=Me.onVnodeBeforeUpdate)&&di(ze,q,P,A),ke&&gr(P,A,q,"beforeUpdate"),q&&yr(q,!0),(Le.innerHTML&&Me.innerHTML==null||Le.textContent&&Me.textContent==null)&&h(ve,""),ae?N(A.dynamicChildren,ae,ve,q,re,_p(P,ee),he):we||Se(A,P,ve,null,q,re,_p(P,ee),he,!1),pe>0){if(pe&16)G(ve,Le,Me,q,ee);else if(pe&2&&Le.class!==Me.class&&o(ve,"class",null,Me.class,ee),pe&4&&o(ve,"style",Le.style,Me.style,ee),pe&8){const qe=P.dynamicProps;for(let St=0;St<qe.length;St++){const gt=qe[St],en=Le[gt],Wn=Me[gt];(Wn!==en||gt==="value")&&o(ve,gt,en,Wn,ee,q)}}pe&1&&A.children!==P.children&&h(ve,P.children)}else!we&&ae==null&&G(ve,Le,Me,q,ee);((ze=Me.onVnodeUpdated)||ke)&&Qn(()=>{ze&&di(ze,q,P,A),ke&&gr(P,A,q,"updated")},re)},N=(A,P,q,re,ee,he,we)=>{for(let ve=0;ve<P.length;ve++){const pe=A[ve],ae=P[ve],ke=pe.el&&(pe.type===de||!xr(pe,ae)||pe.shapeFlag&70)?p(pe.el):q;T(pe,ae,ke,null,re,ee,he,we,!0)}},G=(A,P,q,re,ee)=>{if(P!==q){if(P!==Gt)for(const he in P)!Fl(he)&&!(he in q)&&o(A,he,P[he],null,ee,re);for(const he in q){if(Fl(he))continue;const we=q[he],ve=P[he];we!==ve&&he!=="value"&&o(A,he,ve,we,ee,re)}"value"in q&&o(A,"value",P.value,q.value,ee)}},j=(A,P,q,re,ee,he,we,ve,pe)=>{const ae=P.el=A?A.el:a(""),ke=P.anchor=A?A.anchor:a("");let{patchFlag:Le,dynamicChildren:Me,slotScopeIds:ze}=P;ze&&(ve=ve?ve.concat(ze):ze),A==null?(s(ae,q,re),s(ke,q,re),z(P.children||[],q,ke,ee,he,we,ve,pe)):Le>0&&Le&64&&Me&&A.dynamicChildren?(N(A.dynamicChildren,Me,q,ee,he,we,ve),(P.key!=null||ee&&P===ee.subTree)&&R1(A,P,!0)):Se(A,P,q,ke,ee,he,we,ve,pe)},J=(A,P,q,re,ee,he,we,ve,pe)=>{P.slotScopeIds=ve,A==null?P.shapeFlag&512?ee.ctx.activate(P,q,re,we,pe):ue(P,q,re,ee,he,we,pe):oe(A,P,pe)},ue=(A,P,q,re,ee,he,we)=>{const ve=A.component=K2(A,re,ee);if(ih(A)&&(ve.ctx.renderer=Oe),q2(ve,!1,we),ve.asyncDep){if(ee&&ee.registerDep(ve,le,we),!A.el){const pe=ve.subTree=ce(ns);k(null,pe,P,q)}}else le(ve,A,P,q,ee,he,we)},oe=(A,P,q)=>{const re=P.component=A.component;if(H2(A,P,q))if(re.asyncDep&&!re.asyncResolved){me(re,P,q);return}else re.next=P,qL(re.update),re.effect.dirty=!0,re.update();else P.el=A.el,re.vnode=P},le=(A,P,q,re,ee,he,we)=>{const ve=()=>{if(A.isMounted){let{next:ke,bu:Le,u:Me,parent:ze,vnode:qe}=A;{const ai=N1(A);if(ai){ke&&(ke.el=qe.el,me(A,ke,we)),ai.asyncDep.then(()=>{A.isUnmounted||ve()});return}}let St=ke,gt;yr(A,!1),ke?(ke.el=qe.el,me(A,ke,we)):ke=qe,Le&&ld(Le),(gt=ke.props&&ke.props.onVnodeBeforeUpdate)&&di(gt,ze,ke,qe),yr(A,!0);const en=bp(A),Wn=A.subTree;A.subTree=en,T(Wn,en,p(Wn.el),Q(Wn),A,ee,he),ke.el=en.el,St===null&&W2(A,en.el),Me&&Qn(Me,ee),(gt=ke.props&&ke.props.onVnodeUpdated)&&Qn(()=>di(gt,ze,ke,qe),ee)}else{let ke;const{el:Le,props:Me}=P,{bm:ze,m:qe,parent:St}=A,gt=Yl(P);if(yr(A,!1),ze&&ld(ze),!gt&&(ke=Me&&Me.onVnodeBeforeMount)&&di(ke,St,P),yr(A,!0),Le&&Pt){const en=()=>{A.subTree=bp(A),Pt(Le,A.subTree,A,ee,null)};gt?P.type.__asyncLoader().then(()=>!A.isUnmounted&&en()):en()}else{const en=A.subTree=bp(A);T(null,en,q,re,A,ee,he),P.el=en.el}if(qe&&Qn(qe,ee),!gt&&(ke=Me&&Me.onVnodeMounted)){const en=P;Qn(()=>di(ke,St,en),ee)}(P.shapeFlag&256||St&&Yl(St.vnode)&&St.vnode.shapeFlag&256)&&A.a&&Qn(A.a,ee),A.isMounted=!0,P=q=re=null}},pe=A.effect=new dg(ve,Ls,()=>_g(ae),A.scope),ae=A.update=()=>{pe.dirty&&pe.run()};ae.i=A,ae.id=A.uid,yr(A,!0),ae()},me=(A,P,q)=>{P.component=A;const re=A.vnode.props;A.vnode=P,A.next=null,w2(A,P.props,re,q),C2(A,P.children,q),nr(),yb(A),sr()},Se=(A,P,q,re,ee,he,we,ve,pe=!1)=>{const ae=A&&A.children,ke=A?A.shapeFlag:0,Le=P.children,{patchFlag:Me,shapeFlag:ze}=P;if(Me>0){if(Me&128){xe(ae,Le,q,re,ee,he,we,ve,pe);return}else if(Me&256){Te(ae,Le,q,re,ee,he,we,ve,pe);return}}ze&8?(ke&16&&st(ae,ee,he),Le!==ae&&h(q,Le)):ke&16?ze&16?xe(ae,Le,q,re,ee,he,we,ve,pe):st(ae,ee,he,!0):(ke&8&&h(q,""),ze&16&&z(Le,q,re,ee,he,we,ve,pe))},Te=(A,P,q,re,ee,he,we,ve,pe)=>{A=A||Ea,P=P||Ea;const ae=A.length,ke=P.length,Le=Math.min(ae,ke);let Me;for(Me=0;Me<Le;Me++){const ze=P[Me]=pe?Po(P[Me]):pi(P[Me]);T(A[Me],ze,q,null,ee,he,we,ve,pe)}ae>ke?st(A,ee,he,!0,!1,Le):z(P,q,re,ee,he,we,ve,pe,Le)},xe=(A,P,q,re,ee,he,we,ve,pe)=>{let ae=0;const ke=P.length;let Le=A.length-1,Me=ke-1;for(;ae<=Le&&ae<=Me;){const ze=A[ae],qe=P[ae]=pe?Po(P[ae]):pi(P[ae]);if(xr(ze,qe))T(ze,qe,q,null,ee,he,we,ve,pe);else break;ae++}for(;ae<=Le&&ae<=Me;){const ze=A[Le],qe=P[Me]=pe?Po(P[Me]):pi(P[Me]);if(xr(ze,qe))T(ze,qe,q,null,ee,he,we,ve,pe);else break;Le--,Me--}if(ae>Le){if(ae<=Me){const ze=Me+1,qe=ze<ke?P[ze].el:re;for(;ae<=Me;)T(null,P[ae]=pe?Po(P[ae]):pi(P[ae]),q,qe,ee,he,we,ve,pe),ae++}}else if(ae>Me)for(;ae<=Le;)Ye(A[ae],ee,he,!0),ae++;else{const ze=ae,qe=ae,St=new Map;for(ae=qe;ae<=Me;ae++){const Cn=P[ae]=pe?Po(P[ae]):pi(P[ae]);Cn.key!=null&&St.set(Cn.key,ae)}let gt,en=0;const Wn=Me-qe+1;let ai=!1,Zr=0;const $i=new Array(Wn);for(ae=0;ae<Wn;ae++)$i[ae]=0;for(ae=ze;ae<=Le;ae++){const Cn=A[ae];if(en>=Wn){Ye(Cn,ee,he,!0);continue}let Kn;if(Cn.key!=null)Kn=St.get(Cn.key);else for(gt=qe;gt<=Me;gt++)if($i[gt-qe]===0&&xr(Cn,P[gt])){Kn=gt;break}Kn===void 0?Ye(Cn,ee,he,!0):($i[Kn-qe]=ae+1,Kn>=Zr?Zr=Kn:ai=!0,T(Cn,P[Kn],q,null,ee,he,we,ve,pe),en++)}const Jr=ai?O2($i):Ea;for(gt=Jr.length-1,ae=Wn-1;ae>=0;ae--){const Cn=qe+ae,Kn=P[Cn],jc=Cn+1<ke?P[Cn+1].el:re;$i[ae]===0?T(null,Kn,q,jc,ee,he,we,ve,pe):ai&&(gt<0||ae!==Jr[gt]?Re(Kn,q,jc,2):gt--)}}},Re=(A,P,q,re,ee=null)=>{const{el:he,type:we,transition:ve,children:pe,shapeFlag:ae}=A;if(ae&6){Re(A.component.subTree,P,q,re);return}if(ae&128){A.suspense.move(P,q,re);return}if(ae&64){we.move(A,P,q,Oe);return}if(we===de){s(he,P,q);for(let Le=0;Le<pe.length;Le++)Re(pe[Le],P,q,re);s(A.anchor,P,q);return}if(we===dd){$(A,P,q);return}if(re!==2&&ae&1&&ve)if(re===0)ve.beforeEnter(he),s(he,P,q),Qn(()=>ve.enter(he),ee);else{const{leave:Le,delayLeave:Me,afterLeave:ze}=ve,qe=()=>s(he,P,q),St=()=>{Le(he,()=>{qe(),ze&&ze()})};Me?Me(he,qe,St):St()}else s(he,P,q)},Ye=(A,P,q,re=!1,ee=!1)=>{const{type:he,props:we,ref:ve,children:pe,dynamicChildren:ae,shapeFlag:ke,patchFlag:Le,dirs:Me,cacheIndex:ze}=A;if(Le===-2&&(ee=!1),ve!=null&&Tm(ve,null,q,A,!0),ze!=null&&(P.renderCache[ze]=void 0),ke&256){P.ctx.deactivate(A);return}const qe=ke&1&&Me,St=!Yl(A);let gt;if(St&&(gt=we&&we.onVnodeBeforeUnmount)&&di(gt,P,A),ke&6)Ue(A.component,q,re);else{if(ke&128){A.suspense.unmount(q,re);return}qe&&gr(A,null,P,"beforeUnmount"),ke&64?A.type.remove(A,P,q,Oe,re):ae&&!ae.hasOnce&&(he!==de||Le>0&&Le&64)?st(ae,P,q,!1,!0):(he===de&&Le&384||!ee&&ke&16)&&st(pe,P,q),re&&ot(A)}(St&&(gt=we&&we.onVnodeUnmounted)||qe)&&Qn(()=>{gt&&di(gt,P,A),qe&&gr(A,null,P,"unmounted")},q)},ot=A=>{const{type:P,el:q,anchor:re,transition:ee}=A;if(P===de){fn(q,re);return}if(P===dd){L(A);return}const he=()=>{i(q),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(A.shapeFlag&1&&ee&&!ee.persisted){const{leave:we,delayLeave:ve}=ee,pe=()=>we(q,he);ve?ve(A.el,he,pe):pe()}else he()},fn=(A,P)=>{let q;for(;A!==P;)q=g(A),i(A),A=q;i(P)},Ue=(A,P,q)=>{const{bum:re,scope:ee,update:he,subTree:we,um:ve,m:pe,a:ae}=A;Cb(pe),Cb(ae),re&&ld(re),ee.stop(),he&&(he.active=!1,Ye(we,A,P,q)),ve&&Qn(ve,P),Qn(()=>{A.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},st=(A,P,q,re=!1,ee=!1,he=0)=>{for(let we=he;we<A.length;we++)Ye(A[we],P,q,re,ee)},Q=A=>{if(A.shapeFlag&6)return Q(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const P=g(A.anchor||A.el),q=P&&P[E2];return q?g(q):P};let be=!1;const _e=(A,P,q)=>{A==null?P._vnode&&Ye(P._vnode,null,null,!0):T(P._vnode||null,A,P,null,null,null,q),P._vnode=A,be||(be=!0,yb(),f1(),be=!1)},Oe={p:T,um:Ye,m:Re,r:ot,mt:ue,mc:z,pc:Se,pbc:N,n:Q,o:e};let mt,Pt;return{render:_e,hydrate:mt,createApp:b2(_e,mt)}}function _p({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function yr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function A2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function R1(e,t,n=!1){const s=e.children,i=t.children;if(Ie(s)&&Ie(i))for(let o=0;o<s.length;o++){const r=s[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Po(i[o]),a.el=r.el),!n&&a.patchFlag!==-2&&R1(r,a)),a.type===ah&&(a.el=r.el)}}function O2(e){const t=e.slice(),n=[0];let s,i,o,r,a;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(i=n[n.length-1],e[i]<d){t[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)a=o+r>>1,e[n[a]]<d?o=a+1:r=a;d<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=t[r];return n}function N1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:N1(t)}function Cb(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const P2=Symbol.for("v-scx"),L2=()=>kn(P2),Wu={};function Uo(e,t,n){return F1(e,t,n)}function F1(e,t,{immediate:n,deep:s,flush:i,once:o,onTrack:r,onTrigger:a}=Gt){if(t&&o){const R=t;t=(...W)=>{R(...W),F()}}const c=$n,d=R=>s===!0?R:Ro(R,s===!1?1:void 0);let h,p=!1,g=!1;if(ls(e)?(h=()=>e.value,p=Fa(e)):Il(e)?(h=()=>d(e),p=!0):Ie(e)?(g=!0,p=e.some(R=>Il(R)||Fa(R)),h=()=>e.map(R=>{if(ls(R))return R.value;if(Il(R))return d(R);if(Ke(R))return Vo(R,c,2)})):Ke(e)?t?h=()=>Vo(e,c,2):h=()=>(y&&y(),Ns(e,c,3,[_])):h=Ls,t&&s){const R=h;h=()=>Ro(R())}let y,_=R=>{y=$.onStop=()=>{Vo(R,c,4),y=$.onStop=void 0}},T;if(lh)if(_=Ls,t?n&&Ns(t,c,3,[h(),g?[]:void 0,_]):h(),i==="sync"){const R=L2();T=R.__watcherHandles||(R.__watcherHandles=[])}else return Ls;let w=g?new Array(e.length).fill(Wu):Wu;const k=()=>{if(!(!$.active||!$.dirty))if(t){const R=$.run();(s||p||(g?R.some((W,z)=>Xo(W,w[z])):Xo(R,w)))&&(y&&y(),Ns(t,c,3,[R,w===Wu?void 0:g&&w[0]===Wu?[]:w,_]),w=R)}else $.run()};k.allowRecurse=!!t;let x;i==="sync"?x=k:i==="post"?x=()=>Qn(k,c&&c.suspense):(k.pre=!0,c&&(k.id=c.uid),x=()=>_g(k));const $=new dg(h,Ls,x),L=wL(),F=()=>{$.stop(),L&&cg(L.effects,$)};return t?n?k():w=$.run():i==="post"?Qn($.run.bind($),c&&c.suspense):$.run(),T&&T.push(F),F}function R2(e,t,n){const s=this.proxy,i=on(e)?e.includes(".")?I1(s,e):()=>s[e]:e.bind(s,s);let o;Ke(t)?o=t:(o=t.handler,n=t);const r=Mc(this),a=F1(i,o.bind(s),n);return r(),a}function I1(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Ro(e,t=1/0,n){if(t<=0||!Ft(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ls(e))Ro(e.value,t,n);else if(Ie(e))for(let s=0;s<e.length;s++)Ro(e[s],t,n);else if(Jd(e)||xa(e))e.forEach(s=>{Ro(s,t,n)});else if(Hw(e)){for(const s in e)Ro(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ro(e[s],t,n)}return e}const N2=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Js(t)}Modifiers`]||e[`${tr(t)}Modifiers`];function F2(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Gt;let i=n;const o=t.startsWith("update:"),r=o&&N2(s,t.slice(7));r&&(r.trim&&(i=n.map(h=>on(h)?h.trim():h)),r.number&&(i=n.map(pm)));let a,c=s[a=ad(t)]||s[a=ad(Js(t))];!c&&o&&(c=s[a=ad(tr(t))]),c&&Ns(c,e,6,i);const d=s[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ns(d,e,6,i)}}function Y1(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!Ke(e)){const c=d=>{const h=Y1(d,t,!0);h&&(a=!0,Tn(r,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(Ft(e)&&s.set(e,null),null):(Ie(o)?o.forEach(c=>r[c]=null):Tn(r,o),Ft(e)&&s.set(e,r),r)}function rh(e,t){return!e||!Zd(t)?!1:(t=t.slice(2).replace(/Once$/,""),_t(e,t[0].toLowerCase()+t.slice(1))||_t(e,tr(t))||_t(e,t))}function bp(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:c,render:d,renderCache:h,props:p,data:g,setupState:y,ctx:_,inheritAttrs:T}=e,w=Dd(e);let k,x;try{if(n.shapeFlag&4){const L=i||s,F=L;k=pi(d.call(F,L,h,p,y,g,_)),x=a}else{const L=t;k=pi(L.length>1?L(p,{attrs:a,slots:r,emit:c}):L(p,null)),x=t.props?a:I2(a)}}catch(L){Wl.length=0,nh(L,e,1),k=ce(ns)}let $=k;if(x&&T!==!1){const L=Object.keys(x),{shapeFlag:F}=$;L.length&&F&7&&(o&&L.some(lg)&&(x=Y2(x,o)),$=Zo($,x,!1,!0))}return n.dirs&&($=Zo($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&($.transition=n.transition),k=$,Dd(w),k}const I2=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zd(n))&&((t||(t={}))[n]=e[n]);return t},Y2=(e,t)=>{const n={};for(const s in e)(!lg(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function H2(e,t,n){const{props:s,children:i,component:o}=e,{props:r,children:a,patchFlag:c}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Eb(s,r,d):!!r;if(c&8){const h=t.dynamicProps;for(let p=0;p<h.length;p++){const g=h[p];if(r[g]!==s[g]&&!rh(d,g))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===r?!1:s?r?Eb(s,r,d):!0:!!r;return!1}function Eb(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(t[o]!==e[o]&&!rh(n,o))return!0}return!1}function W2({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const B2=e=>e.__isSuspense;function V2(e,t){t&&t.pendingBranch?Ie(e)?t.effects.push(...e):t.effects.push(e):XL(e)}const de=Symbol.for("v-fgt"),ah=Symbol.for("v-txt"),ns=Symbol.for("v-cmt"),dd=Symbol.for("v-stc"),Wl=[];let ys=null;function S(e=!1){Wl.push(ys=e?null:[])}function U2(){Wl.pop(),ys=Wl[Wl.length-1]||null}let ac=1;function xb(e){ac+=e,e<0&&ys&&(ys.hasOnce=!0)}function H1(e){return e.dynamicChildren=ac>0?ys||Ea:null,U2(),ac>0&&ys&&ys.push(e),e}function D(e,t,n,s,i,o){return H1(m(e,t,n,s,i,o,!0))}function qt(e,t,n,s,i){return H1(ce(e,t,n,s,i,!0))}function Cd(e){return e?e.__v_isVNode===!0:!1}function xr(e,t){return e.type===t.type&&e.key===t.key}const W1=({key:e})=>e??null,hd=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?on(e)||ls(e)||Ke(e)?{i:wn,r:e,k:t,f:!!n}:e:null);function m(e,t=null,n=null,s=0,i=null,o=e===de?0:1,r=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&W1(t),ref:t&&hd(t),scopeId:sh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:wn};return a?(kg(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=on(n)?8:16),ac>0&&!r&&ys&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&ys.push(c),c}const ce=z2;function z2(e,t=null,n=null,s=0,i=null,o=!1){if((!e||e===w1)&&(e=ns),Cd(e)){const a=Zo(e,t,!0);return n&&kg(a,n),ac>0&&!o&&ys&&(a.shapeFlag&6?ys[ys.indexOf(e)]=a:ys.push(a)),a.patchFlag=-2,a}if(eR(e)&&(e=e.__vccOpts),t){t=B1(t);let{class:a,style:c}=t;a&&!on(a)&&(t.class=nt(a)),Ft(c)&&(r1(c)&&!Ie(c)&&(c=Tn({},c)),t.style=wt(c))}const r=on(e)?1:B2(e)?128:x2(e)?64:Ft(e)?4:Ke(e)?2:0;return m(e,t,n,s,i,r,o,!0)}function B1(e){return e?r1(e)||x1(e)?Tn({},e):e:null}function Zo(e,t,n=!1,s=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:c}=e,d=t?lc(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&W1(d),ref:t&&t.ref?n&&o?Ie(o)?o.concat(hd(t)):[o,hd(t)]:hd(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zo(e.ssContent),ssFallback:e.ssFallback&&Zo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&kd(h,c.clone(h)),h}function Ot(e=" ",t=0){return ce(ah,null,e,t)}function ja(e,t){const n=ce(dd,null,e);return n.staticCount=t,n}function X(e="",t=!1){return t?(S(),qt(ns,null,e)):ce(ns,null,e)}function pi(e){return e==null||typeof e=="boolean"?ce(ns):Ie(e)?ce(de,null,e.slice()):typeof e=="object"?Po(e):ce(ah,null,String(e))}function Po(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zo(e)}function kg(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Ie(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),kg(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!x1(t)?t._ctx=wn:i===3&&wn&&(wn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ke(t)?(t={default:t,_ctx:wn},n=32):(t=String(t),s&64?(n=16,t=[Ot(t)]):n=8);e.children=t,e.shapeFlag|=n}function lc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=nt([t.class,s.class]));else if(i==="style")t.style=wt([t.style,s.style]);else if(Zd(i)){const o=t[i],r=s[i];r&&o!==r&&!(Ie(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=s[i])}return t}function di(e,t,n,s=null){Ns(e,t,7,[n,s])}const j2=T1();let G2=0;function K2(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||j2,o={uid:G2++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new bL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$1(s,i),emitsOptions:Y1(s,i),emit:null,emitted:null,propsDefaults:Gt,inheritAttrs:s.inheritAttrs,ctx:Gt,data:Gt,props:Gt,attrs:Gt,slots:Gt,refs:Gt,setupState:Gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=F2.bind(null,o),e.ce&&e.ce(o),o}let $n=null;const V1=()=>$n||wn;let Ed,Cm;{const e=Bw(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};Ed=t("__VUE_INSTANCE_SETTERS__",n=>$n=n),Cm=t("__VUE_SSR_SETTERS__",n=>lh=n)}const Mc=e=>{const t=$n;return Ed(e),e.scope.on(),()=>{e.scope.off(),Ed(t)}},Mb=()=>{$n&&$n.scope.off(),Ed(null)};function U1(e){return e.vnode.shapeFlag&4}let lh=!1;function q2(e,t=!1,n=!1){t&&Cm(t);const{props:s,children:i}=e.vnode,o=U1(e);S2(e,s,o,t),T2(e,i,n);const r=o?X2(e,t):void 0;return t&&Cm(!1),r}function X2(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,f2);const{setup:s}=n;if(s){const i=e.setupContext=s.length>1?J2(e):null,o=Mc(e);nr();const r=Vo(s,e,0,[e.props,i]);if(sr(),o(),Iw(r)){if(r.then(Mb,Mb),t)return r.then(a=>{$b(e,a,t)}).catch(a=>{nh(a,e,0)});e.asyncDep=r}else $b(e,r,t)}else z1(e,t)}function $b(e,t,n){Ke(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ft(t)&&(e.setupState=u1(t)),z1(e,n)}let Ab;function z1(e,t,n){const s=e.type;if(!e.render){if(!t&&Ab&&!s.render){const i=s.template||wg(e).template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,d=Tn(Tn({isCustomElement:o,delimiters:a},r),c);s.render=Ab(i,d)}}e.render=s.render||Ls}{const i=Mc(e);nr();try{p2(e)}finally{sr(),i()}}}const Z2={get(e,t){return as(e,"get",""),e[t]}};function J2(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Z2),slots:e.slots,emit:e.emit,expose:t}}function ch(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(u1(BL(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Hl)return Hl[n](e)},has(t,n){return n in t||n in Hl}})):e.proxy}function Q2(e,t=!0){return Ke(e)?e.displayName||e.name:e.name||t&&e.__name}function eR(e){return Ke(e)&&"__vccOpts"in e}const An=(e,t)=>VL(e,t,lh);function Ga(e,t,n){const s=arguments.length;return s===2?Ft(t)&&!Ie(t)?Cd(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Cd(n)&&(n=[n]),ce(e,t,n))}const tR="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const nR="http://www.w3.org/2000/svg",sR="http://www.w3.org/1998/Math/MathML",Gi=typeof document<"u"?document:null,Ob=Gi&&Gi.createElement("template"),iR={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?Gi.createElementNS(nR,e):t==="mathml"?Gi.createElementNS(sR,e):n?Gi.createElement(e,{is:n}):Gi.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Gi.createTextNode(e),createComment:e=>Gi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Gi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,o){const r=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Ob.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=Ob.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},To="transition",_l="animation",cc=Symbol("_vtc"),Tg=(e,{slots:t})=>Ga(t2,oR(e),t);Tg.displayName="Transition";const j1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Tg.props=Tn({},m1,j1);const vr=(e,t=[])=>{Ie(e)?e.forEach(n=>n(...t)):e&&e(...t)},Pb=e=>e?Ie(e)?e.some(t=>t.length>1):e.length>1:!1;function oR(e){const t={};for(const j in e)j in j1||(t[j]=e[j]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:d=r,appearToClass:h=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=rR(i),T=_&&_[0],w=_&&_[1],{onBeforeEnter:k,onEnter:x,onEnterCancelled:$,onLeave:L,onLeaveCancelled:F,onBeforeAppear:R=k,onAppear:W=x,onAppearCancelled:z=$}=t,Y=(j,J,ue)=>{_r(j,J?h:a),_r(j,J?d:r),ue&&ue()},N=(j,J)=>{j._isLeaving=!1,_r(j,p),_r(j,y),_r(j,g),J&&J()},G=j=>(J,ue)=>{const oe=j?W:x,le=()=>Y(J,j,ue);vr(oe,[J,le]),Lb(()=>{_r(J,j?c:o),Co(J,j?h:a),Pb(oe)||Rb(J,s,T,le)})};return Tn(t,{onBeforeEnter(j){vr(k,[j]),Co(j,o),Co(j,r)},onBeforeAppear(j){vr(R,[j]),Co(j,c),Co(j,d)},onEnter:G(!1),onAppear:G(!0),onLeave(j,J){j._isLeaving=!0;const ue=()=>N(j,J);Co(j,p),Co(j,g),cR(),Lb(()=>{j._isLeaving&&(_r(j,p),Co(j,y),Pb(L)||Rb(j,s,w,ue))}),vr(L,[j,ue])},onEnterCancelled(j){Y(j,!1),vr($,[j])},onAppearCancelled(j){Y(j,!0),vr(z,[j])},onLeaveCancelled(j){N(j),vr(F,[j])}})}function rR(e){if(e==null)return null;if(Ft(e))return[Sp(e.enter),Sp(e.leave)];{const t=Sp(e);return[t,t]}}function Sp(e){return dL(e)}function Co(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[cc]||(e[cc]=new Set)).add(t)}function _r(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[cc];n&&(n.delete(t),n.size||(e[cc]=void 0))}function Lb(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let aR=0;function Rb(e,t,n,s){const i=e._endId=++aR,o=()=>{i===e._endId&&s()};if(n)return setTimeout(o,n);const{type:r,timeout:a,propCount:c}=lR(e,t);if(!r)return s();const d=r+"end";let h=0;const p=()=>{e.removeEventListener(d,g),o()},g=y=>{y.target===e&&++h>=c&&p()};setTimeout(()=>{h<c&&p()},a+1),e.addEventListener(d,g)}function lR(e,t){const n=window.getComputedStyle(e),s=_=>(n[_]||"").split(", "),i=s(`${To}Delay`),o=s(`${To}Duration`),r=Nb(i,o),a=s(`${_l}Delay`),c=s(`${_l}Duration`),d=Nb(a,c);let h=null,p=0,g=0;t===To?r>0&&(h=To,p=r,g=o.length):t===_l?d>0&&(h=_l,p=d,g=c.length):(p=Math.max(r,d),h=p>0?r>d?To:_l:null,g=h?h===To?o.length:c.length:0);const y=h===To&&/\b(transform|all)(,|$)/.test(s(`${To}Property`).toString());return{type:h,timeout:p,propCount:g,hasTransform:y}}function Nb(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Fb(n)+Fb(e[s])))}function Fb(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function cR(){return document.body.offsetHeight}function uR(e,t,n){const s=e[cc];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xd=Symbol("_vod"),G1=Symbol("_vsh"),rs={beforeMount(e,{value:t},{transition:n}){e[xd]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):bl(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),bl(e,!0),s.enter(e)):s.leave(e,()=>{bl(e,!1)}):bl(e,t))},beforeUnmount(e,{value:t}){bl(e,t)}};function bl(e,t){e.style.display=t?e[xd]:"none",e[G1]=!t}const dR=Symbol(""),hR=/(^|;)\s*display\s*:/;function fR(e,t,n){const s=e.style,i=on(n);let o=!1;if(n&&!i){if(t)if(on(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();n[a]==null&&fd(s,a,"")}else for(const r in t)n[r]==null&&fd(s,r,"");for(const r in n)r==="display"&&(o=!0),fd(s,r,n[r])}else if(i){if(t!==n){const r=s[dR];r&&(n+=";"+r),s.cssText=n,o=hR.test(n)}}else t&&e.removeAttribute("style");xd in e&&(e[xd]=o?s.display:"",e[G1]&&(s.display="none"))}const Ib=/\s*!important$/;function fd(e,t,n){if(Ie(n))n.forEach(s=>fd(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=pR(e,t);Ib.test(n)?e.setProperty(tr(s),n.replace(Ib,""),"important"):e[s]=n}}const Yb=["Webkit","Moz","ms"],wp={};function pR(e,t){const n=wp[t];if(n)return n;let s=Js(t);if(s!=="filter"&&s in e)return wp[t]=s;s=eh(s);for(let i=0;i<Yb.length;i++){const o=Yb[i]+s;if(o in e)return wp[t]=o}return t}const Hb="http://www.w3.org/1999/xlink";function Wb(e,t,n,s,i,o=vL(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Hb,t.slice(6,t.length)):e.setAttributeNS(Hb,t,n):n==null||o&&!Vw(n)?e.removeAttribute(t):e.setAttribute(t,o?"":wi(n)?String(n):n)}function mR(e,t,n,s){if(t==="innerHTML"||t==="textContent"){if(n==null)return;e[t]=n;return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const r=i==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?"":String(n);(r!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const r=typeof e[t];r==="boolean"?n=Vw(n):n==null&&r==="string"?(n="",o=!0):r==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(t)}function No(e,t,n,s){e.addEventListener(t,n,s)}function gR(e,t,n,s){e.removeEventListener(t,n,s)}const Bb=Symbol("_vei");function yR(e,t,n,s,i=null){const o=e[Bb]||(e[Bb]={}),r=o[t];if(s&&r)r.value=s;else{const[a,c]=vR(t);if(s){const d=o[t]=SR(s,i);No(e,a,d,c)}else r&&(gR(e,a,r,c),o[t]=void 0)}}const Vb=/(?:Once|Passive|Capture)$/;function vR(e){let t;if(Vb.test(e)){t={};let s;for(;s=e.match(Vb);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):tr(e.slice(2)),t]}let Dp=0;const _R=Promise.resolve(),bR=()=>Dp||(_R.then(()=>Dp=0),Dp=Date.now());function SR(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ns(wR(s,n.value),t,5,[s])};return n.value=e,n.attached=bR(),n}function wR(e,t){if(Ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Ub=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,DR=(e,t,n,s,i,o)=>{const r=i==="svg";t==="class"?uR(e,s,r):t==="style"?fR(e,n,s):Zd(t)?lg(t)||yR(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):kR(e,t,s,r))?(mR(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wb(e,t,s,r,o,t!=="value")):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Wb(e,t,s,r))};function kR(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ub(t)&&Ke(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ub(t)&&on(n)?!1:t in e}const Ia=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ie(t)?n=>ld(t,n):t};function TR(e){e.target.composing=!0}function zb(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const so=Symbol("_assign"),xt={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[so]=Ia(i);const o=s||i.props&&i.props.type==="number";No(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=pm(a)),e[so](a)}),n&&No(e,"change",()=>{e.value=e.value.trim()}),t||(No(e,"compositionstart",TR),No(e,"compositionend",zb),No(e,"change",zb))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:o}},r){if(e[so]=Ia(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?pm(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===c)||(e.value=c))}},Ur={deep:!0,created(e,t,n){e[so]=Ia(n),No(e,"change",()=>{const s=e._modelValue,i=K1(e),o=e.checked,r=e[so];if(Ie(s)){const a=Uw(s,i),c=a!==-1;if(o&&!c)r(s.concat(i));else if(!o&&c){const d=[...s];d.splice(a,1),r(d)}}else if(Jd(s)){const a=new Set(s);o?a.add(i):a.delete(i),r(a)}else r(q1(e,o))})},mounted:jb,beforeUpdate(e,t,n){e[so]=Ia(n),jb(e,t,n)}};function jb(e,{value:t,oldValue:n},s){e._modelValue=t,Ie(t)?e.checked=Uw(t,s.props.value)>-1:Jd(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=Na(t,q1(e,!0)))}const Ya={created(e,{value:t},n){e.checked=Na(t,n.props.value),e[so]=Ia(n),No(e,"change",()=>{e[so](K1(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[so]=Ia(s),t!==n&&(e.checked=Na(t,s.props.value))}};function K1(e){return"_value"in e?e._value:e.value}function q1(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const CR=["ctrl","shift","alt","meta"],ER={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>CR.some(n=>e[`${n}Key`]&&!t.includes(n))},io=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(i,...o)=>{for(let r=0;r<t.length;r++){const a=ER[t[r]];if(a&&a(i,t))return}return e(i,...o)})},xR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},X1=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const o=tr(i.key);if(t.some(r=>r===o||xR[r]===o))return e(i)})},MR=Tn({patchProp:DR},iR);let Gb;function $R(){return Gb||(Gb=M2(MR))}const Z1=(...e)=>{const t=$R().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=OR(s);if(!i)return;const o=t._component;!Ke(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=n(i,!1,AR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function AR(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function OR(e){return on(e)?document.querySelector(e):e}var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cg={exports:{}},Q1=function(t,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(n,i)}},PR=Q1,zr=Object.prototype.toString;function Eg(e){return zr.call(e)==="[object Array]"}function Em(e){return typeof e>"u"}function LR(e){return e!==null&&!Em(e)&&e.constructor!==null&&!Em(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function RR(e){return zr.call(e)==="[object ArrayBuffer]"}function NR(e){return typeof FormData<"u"&&e instanceof FormData}function FR(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function IR(e){return typeof e=="string"}function YR(e){return typeof e=="number"}function eD(e){return e!==null&&typeof e=="object"}function pd(e){if(zr.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function HR(e){return zr.call(e)==="[object Date]"}function WR(e){return zr.call(e)==="[object File]"}function BR(e){return zr.call(e)==="[object Blob]"}function tD(e){return zr.call(e)==="[object Function]"}function VR(e){return eD(e)&&tD(e.pipe)}function UR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function zR(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function jR(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function xg(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Eg(e))for(var n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function xm(){var e={};function t(i,o){pd(e[o])&&pd(i)?e[o]=xm(e[o],i):pd(i)?e[o]=xm({},i):Eg(i)?e[o]=i.slice():e[o]=i}for(var n=0,s=arguments.length;n<s;n++)xg(arguments[n],t);return e}function GR(e,t,n){return xg(t,function(i,o){n&&typeof i=="function"?e[o]=PR(i,n):e[o]=i}),e}function KR(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var vs={isArray:Eg,isArrayBuffer:RR,isBuffer:LR,isFormData:NR,isArrayBufferView:FR,isString:IR,isNumber:YR,isObject:eD,isPlainObject:pd,isUndefined:Em,isDate:HR,isFile:WR,isBlob:BR,isFunction:tD,isStream:VR,isURLSearchParams:UR,isStandardBrowserEnv:jR,forEach:xg,merge:xm,extend:GR,trim:zR,stripBOM:KR},fa=vs;function Kb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var nD=function(t,n,s){if(!n)return t;var i;if(s)i=s(n);else if(fa.isURLSearchParams(n))i=n.toString();else{var o=[];fa.forEach(n,function(c,d){c===null||typeof c>"u"||(fa.isArray(c)?d=d+"[]":c=[c],fa.forEach(c,function(p){fa.isDate(p)?p=p.toISOString():fa.isObject(p)&&(p=JSON.stringify(p)),o.push(Kb(d)+"="+Kb(p))}))}),i=o.join("&")}if(i){var r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},qR=vs;function uh(){this.handlers=[]}uh.prototype.use=function(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};uh.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};uh.prototype.forEach=function(t){qR.forEach(this.handlers,function(s){s!==null&&t(s)})};var XR=uh,ZR=vs,JR=function(t,n){ZR.forEach(t,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[o])})},sD=function(t,n,s,i,o){return t.config=n,s&&(t.code=s),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},kp,qb;function iD(){if(qb)return kp;qb=1;var e=sD;return kp=function(n,s,i,o,r){var a=new Error(n);return e(a,s,i,o,r)},kp}var Tp,Xb;function QR(){if(Xb)return Tp;Xb=1;var e=iD();return Tp=function(n,s,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):s(e("Request failed with status code "+i.status,i.config,null,i.request,i))},Tp}var Cp,Zb;function eN(){if(Zb)return Cp;Zb=1;var e=vs;return Cp=e.isStandardBrowserEnv()?function(){return{write:function(s,i,o,r,a,c){var d=[];d.push(s+"="+encodeURIComponent(i)),e.isNumber(o)&&d.push("expires="+new Date(o).toGMTString()),e.isString(r)&&d.push("path="+r),e.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(s){var i=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Cp}var Ep,Jb;function tN(){return Jb||(Jb=1,Ep=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),Ep}var xp,Qb;function nN(){return Qb||(Qb=1,xp=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}),xp}var Mp,e0;function sN(){if(e0)return Mp;e0=1;var e=tN(),t=nN();return Mp=function(s,i){return s&&!e(i)?t(s,i):i},Mp}var $p,t0;function iN(){if(t0)return $p;t0=1;var e=vs,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return $p=function(s){var i={},o,r,a;return s&&e.forEach(s.split(`
`),function(d){if(a=d.indexOf(":"),o=e.trim(d.substr(0,a)).toLowerCase(),r=e.trim(d.substr(a+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([r]):i[o]=i[o]?i[o]+", "+r:r}}),i},$p}var Ap,n0;function oN(){if(n0)return Ap;n0=1;var e=vs;return Ap=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),i;function o(r){var a=r;return n&&(s.setAttribute("href",a),a=s.href),s.setAttribute("href",a),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return i=o(window.location.href),function(a){var c=e.isString(a)?o(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Ap}var Op,s0;function i0(){if(s0)return Op;s0=1;var e=vs,t=QR(),n=eN(),s=nD,i=sN(),o=iN(),r=oN(),a=iD();return Op=function(d){return new Promise(function(p,g){var y=d.data,_=d.headers,T=d.responseType;e.isFormData(y)&&delete _["Content-Type"];var w=new XMLHttpRequest;if(d.auth){var k=d.auth.username||"",x=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";_.Authorization="Basic "+btoa(k+":"+x)}var $=i(d.baseURL,d.url);w.open(d.method.toUpperCase(),s($,d.params,d.paramsSerializer),!0),w.timeout=d.timeout;function L(){if(w){var R="getAllResponseHeaders"in w?o(w.getAllResponseHeaders()):null,W=!T||T==="text"||T==="json"?w.responseText:w.response,z={data:W,status:w.status,statusText:w.statusText,headers:R,config:d,request:w};t(p,g,z),w=null}}if("onloadend"in w?w.onloadend=L:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(L)},w.onabort=function(){w&&(g(a("Request aborted",d,"ECONNABORTED",w)),w=null)},w.onerror=function(){g(a("Network Error",d,null,w)),w=null},w.ontimeout=function(){var W="timeout of "+d.timeout+"ms exceeded";d.timeoutErrorMessage&&(W=d.timeoutErrorMessage),g(a(W,d,d.transitional&&d.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",w)),w=null},e.isStandardBrowserEnv()){var F=(d.withCredentials||r($))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;F&&(_[d.xsrfHeaderName]=F)}"setRequestHeader"in w&&e.forEach(_,function(W,z){typeof y>"u"&&z.toLowerCase()==="content-type"?delete _[z]:w.setRequestHeader(z,W)}),e.isUndefined(d.withCredentials)||(w.withCredentials=!!d.withCredentials),T&&T!=="json"&&(w.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&w.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",d.onUploadProgress),d.cancelToken&&d.cancelToken.promise.then(function(W){w&&(w.abort(),g(W),w=null)}),y||(y=null),w.send(y)})},Op}var Mn=vs,o0=JR,rN=sD,aN={"Content-Type":"application/x-www-form-urlencoded"};function r0(e,t){!Mn.isUndefined(e)&&Mn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function lN(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=i0()),e}function cN(e,t,n){if(Mn.isString(e))try{return(t||JSON.parse)(e),Mn.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}var dh={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:lN(),transformRequest:[function(t,n){return o0(n,"Accept"),o0(n,"Content-Type"),Mn.isFormData(t)||Mn.isArrayBuffer(t)||Mn.isBuffer(t)||Mn.isStream(t)||Mn.isFile(t)||Mn.isBlob(t)?t:Mn.isArrayBufferView(t)?t.buffer:Mn.isURLSearchParams(t)?(r0(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Mn.isObject(t)||n&&n["Content-Type"]==="application/json"?(r0(n,"application/json"),cN(t)):t}],transformResponse:[function(t){var n=this.transitional,s=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,o=!s&&this.responseType==="json";if(o||i&&Mn.isString(t)&&t.length)try{return JSON.parse(t)}catch(r){if(o)throw r.name==="SyntaxError"?rN(r,this,"E_JSON_PARSE"):r}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};dh.headers={common:{Accept:"application/json, text/plain, */*"}};Mn.forEach(["delete","get","head"],function(t){dh.headers[t]={}});Mn.forEach(["post","put","patch"],function(t){dh.headers[t]=Mn.merge(aN)});var Mg=dh,uN=vs,dN=Mg,hN=function(t,n,s){var i=this||dN;return uN.forEach(s,function(r){t=r.call(i,t,n)}),t},Pp,a0;function oD(){return a0||(a0=1,Pp=function(t){return!!(t&&t.__CANCEL__)}),Pp}var l0=vs,Lp=hN,fN=oD(),pN=Mg;function Rp(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var mN=function(t){Rp(t),t.headers=t.headers||{},t.data=Lp.call(t,t.data,t.headers,t.transformRequest),t.headers=l0.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),l0.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||pN.adapter;return n(t).then(function(i){return Rp(t),i.data=Lp.call(t,i.data,i.headers,t.transformResponse),i},function(i){return fN(i)||(Rp(t),i&&i.response&&(i.response.data=Lp.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Ln=vs,rD=function(t,n){n=n||{};var s={},i=["url","method","data"],o=["headers","auth","proxy","params"],r=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(g,y){return Ln.isPlainObject(g)&&Ln.isPlainObject(y)?Ln.merge(g,y):Ln.isPlainObject(y)?Ln.merge({},y):Ln.isArray(y)?y.slice():y}function d(g){Ln.isUndefined(n[g])?Ln.isUndefined(t[g])||(s[g]=c(void 0,t[g])):s[g]=c(t[g],n[g])}Ln.forEach(i,function(y){Ln.isUndefined(n[y])||(s[y]=c(void 0,n[y]))}),Ln.forEach(o,d),Ln.forEach(r,function(y){Ln.isUndefined(n[y])?Ln.isUndefined(t[y])||(s[y]=c(void 0,t[y])):s[y]=c(void 0,n[y])}),Ln.forEach(a,function(y){y in n?s[y]=c(t[y],n[y]):y in t&&(s[y]=c(void 0,t[y]))});var h=i.concat(o).concat(r).concat(a),p=Object.keys(t).concat(Object.keys(n)).filter(function(y){return h.indexOf(y)===-1});return Ln.forEach(p,d),s};const gN="axios",yN="0.21.4",vN="Promise based HTTP client for the browser and node.js",_N="index.js",bN={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},SN={type:"git",url:"https://github.com/axios/axios.git"},wN=["xhr","http","ajax","promise","node"],DN="Matt Zabriskie",kN="MIT",TN={url:"https://github.com/axios/axios/issues"},CN="https://axios-http.com",EN={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},xN={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},MN="dist/axios.min.js",$N="dist/axios.min.js",AN="./index.d.ts",ON={"follow-redirects":"^1.14.0"},PN=[{path:"./dist/axios.min.js",threshold:"5kB"}],LN={name:gN,version:yN,description:vN,main:_N,scripts:bN,repository:SN,keywords:wN,author:DN,license:kN,bugs:TN,homepage:CN,devDependencies:EN,browser:xN,jsdelivr:MN,unpkg:$N,typings:AN,dependencies:ON,bundlesize:PN};var aD=LN,$g={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){$g[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});var c0={},RN=aD.version.split(".");function lD(e,t){for(var n=t?t.split("."):RN,s=e.split("."),i=0;i<3;i++){if(n[i]>s[i])return!0;if(n[i]<s[i])return!1}return!1}$g.transitional=function(t,n,s){var i=n&&lD(n);function o(r,a){return"[Axios v"+aD.version+"] Transitional option '"+r+"'"+a+(s?". "+s:"")}return function(r,a,c){if(t===!1)throw new Error(o(a," has been removed in "+n));return i&&!c0[a]&&(c0[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,a,c):!0}};function NN(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var s=Object.keys(e),i=s.length;i-- >0;){var o=s[i],r=t[o];if(r){var a=e[o],c=a===void 0||r(a,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(n!==!0)throw Error("Unknown option "+o)}}var FN={isOlderVersion:lD,assertOptions:NN,validators:$g},cD=vs,IN=nD,u0=XR,d0=mN,hh=rD,uD=FN,pa=uD.validators;function $c(e){this.defaults=e,this.interceptors={request:new u0,response:new u0}}$c.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=hh(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&uD.assertOptions(n,{silentJSONParsing:pa.transitional(pa.boolean,"1.0.0"),forcedJSONParsing:pa.transitional(pa.boolean,"1.0.0"),clarifyTimeoutError:pa.transitional(pa.boolean,"1.0.0")},!1);var s=[],i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(i=i&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});var o=[];this.interceptors.response.forEach(function(g){o.push(g.fulfilled,g.rejected)});var r;if(!i){var a=[d0,void 0];for(Array.prototype.unshift.apply(a,s),a=a.concat(o),r=Promise.resolve(t);a.length;)r=r.then(a.shift(),a.shift());return r}for(var c=t;s.length;){var d=s.shift(),h=s.shift();try{c=d(c)}catch(p){h(p);break}}try{r=d0(c)}catch(p){return Promise.reject(p)}for(;o.length;)r=r.then(o.shift(),o.shift());return r};$c.prototype.getUri=function(t){return t=hh(this.defaults,t),IN(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};cD.forEach(["delete","get","head","options"],function(t){$c.prototype[t]=function(n,s){return this.request(hh(s||{},{method:t,url:n,data:(s||{}).data}))}});cD.forEach(["post","put","patch"],function(t){$c.prototype[t]=function(n,s,i){return this.request(hh(i||{},{method:t,url:n,data:s}))}});var YN=$c,Np,h0;function dD(){if(h0)return Np;h0=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Np=e,Np}var Fp,f0;function HN(){if(f0)return Fp;f0=1;var e=dD();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(r){s=r});var i=this;n(function(r){i.reason||(i.reason=new e(r),s(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.source=function(){var s,i=new t(function(r){s=r});return{token:i,cancel:s}},Fp=t,Fp}var Ip,p0;function WN(){return p0||(p0=1,Ip=function(t){return function(s){return t.apply(null,s)}}),Ip}var Yp,m0;function BN(){return m0||(m0=1,Yp=function(t){return typeof t=="object"&&t.isAxiosError===!0}),Yp}var g0=vs,VN=Q1,md=YN,UN=rD,zN=Mg;function hD(e){var t=new md(e),n=VN(md.prototype.request,t);return g0.extend(n,md.prototype,t),g0.extend(n,t),n}var Qs=hD(zN);Qs.Axios=md;Qs.create=function(t){return hD(UN(Qs.defaults,t))};Qs.Cancel=dD();Qs.CancelToken=HN();Qs.isCancel=oD();Qs.all=function(t){return Promise.all(t)};Qs.spread=WN();Qs.isAxiosError=BN();Cg.exports=Qs;Cg.exports.default=Qs;var jN=Cg.exports,GN=jN;const Je=J1(GN);Je.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";Je.interceptors.response.use(e=>e.request.responseURL.indexOf("aspxerrorpath")>-1?Promise.reject("asp error"):e,e=>(e&&e.response&&e.response.status==401&&location.reload(),Promise.reject(e)));let KN=function(e){return Je.post("EmployeeWorkSchedule",e).then(t=>typeof t.data=="string"&&t.data!==""?JSON.parse(t.data):t.data)},qN=function(){return Je.post("Auth/GetInfo").then(e=>e.data)};function XN(e){return Je.get("StandardSchedules",{params:{allSchedules:e}}).then(t=>t.data)}async function ZN(){return Je.get("ShiftTypes").then(e=>e.data)}function JN(e){return Je.get(`ScheduleDetail/${e}`).then(t=>t.data)}function QN(e){return Je.post("PostSchedule",e).then(t=>t.data)}function eF(e){return Je.get(`DeleteSchedule/${e}`).then(t=>t.data)}function tF(e){return Je.post("AllocateSchedule",e).then(t=>{if(t.data.Messages&&t.data.Messages.length>=1)throw new Error(t.data.Messages[0].Message);return t.data})}function nF(e,t){return Je.get(`RemoveEmployeeWorkSchedule/${t}/${e}`).then(n=>n.data)}function sF(e,t){return Je.post(`UpdateEmployeeWorkSchedule/${t}`,e).then(n=>{if(n.data.Messages&&n.data.Messages.length>=1)throw new Error(n.data.Messages[0].Message);return n.data})}function iF(){return Je.get("EmployeeOptions").then(e=>e.data)}function oF(e){return Je.get(`EmployeeWorkSchedules/${e}`).then(t=>t.data)}function rF(e){return Je.get(`EmployeeWorkScheduleDetail/${e}`).then(t=>t.data)}function aF(e){return Je.get(`FlexScheduleDetail/${e}`).then(t=>t.data)}function lF(e){return Je.get("FlexSchedules",{params:e}).then(t=>t.data)}function cF(e){return Je.post("CreateFlexSchedule/",e).then(t=>t.data)}function uF(e,t){return Je.put(`UpdateFlexSchedule/${e}`,t).then(n=>n.data)}function dF(e){return Je.patch("PatchFlexSchedule",e).then(t=>t.data)}function hF(e){return Je.get(`GetManagedEmployees/${e}?fields=EmployeeNo,CommonName,StdHoursPerWeek,PositionCode,PositionTitle,Cost1,Cost2,Rate1,WorkerType,TaRole,DefaultRosterGroup,PayType`).then(t=>typeof t.data=="string"&&t.data!==""?JSON.parse(t.data):t.data)}function fF(e){return Je.get(`GetPositions/${e}`).then(t=>t.data)}function pF(){return Je.get("GetCostElements").then(e=>e.data)}function mF(e){return Je.get("GetManagedLeaves",{params:e}).then(t=>typeof t.data=="string"?t.data===""?(t.data=[],t.data):JSON.parse(t.data):(t.data.forEach(n=>{n.dateFrom=n.datefrom,n.dateTo=n.dateto}),t.data))}function gF(e){return Je.post("CopyFlexSchedule",e).then(t=>t.data)}function yF(e){return Je.delete("DeleteFlexSchedule",{data:e}).then(t=>t.data)}function vF(e){return Je.post("CreateAvailability",e).then(t=>t.data)}function _F(e){return Je.get("GetAvailability",{params:{employeeNo:e}}).then(t=>t.data)}function bF(e){return Je.patch("PatchAvailability",e).then(t=>t.data)}function SF(e){return Je.delete(`DeleteAvailability/${e}`).then(t=>t.data)}function wF(e){return Je.get("GetAdditionalDetails",{params:{employeeNo:e}}).then(t=>t.data)}function DF(e){return Je.post("PublishFlexSchedule",e).then(t=>t.data)}function kF(){return Je.get("WorkTypes").then(e=>e.data)}function TF(){return Je.get("ExcludedWorkTypes").then(e=>e.data)}function CF(e){return Je.post("GetCostAnalysis",e).then(t=>t.data)}function EF(e){return Je.post("GetEmployeesCostCentres",e).then(t=>t.data)}function xF(e){return Je.post("CostingAnalytic",e).then(t=>t.data)}function MF(e){return Je.post("CostingAnalyticSummary",e).then(t=>t.data)}function $F(e,t="value"){return Je.post(`CostingDayView?reportType=${t}`,e).then(n=>n.data)}function AF(e,t="value"){return Je.post(`CostingEmployeePayDetailView?reportType=${t}`,e).then(n=>n.data)}function OF(e,t="value"){return Je.post(`CostingEmployeeView?reportType=${t}`,e).then(n=>n.data)}function PF(){return Je.get("getManagers").then(e=>e.data)}const Pe={EmployeeWorkSchedule:KN,AuthGetInfo:qN,StandardSchedules:XN,ShiftTypes:ZN,ScheduleDetail:JN,PostSchedule:QN,DeleteSchedule:eF,AllocateSchedule:tF,RemoveEmployeeWorkSchedule:nF,UpdateEmpSchedRequest:sF,EmployeesList:iF,EmpWorkScheds:oF,EmpSchedDetailRequest:rF,GetFlexScheduleDetail:aF,GetFlexSchedules:lF,CreateFlexSchedule:cF,UpdateFlexSchedule:uF,PatchFlexSchedule:dF,GetManagedEmployees:hF,GetPosition:fF,GetCostelements:pF,GetManagedLeaves:mF,CopyFlexSchedule:gF,DeleteFlexSchedule:yF,CreateAvailability:vF,GetAvailabilities:_F,PatchAvailabilities:bF,DeleteAvailabilities:SF,GetEmployeeExtraDetail:wF,PublishFlexSchedule:DF,GetWorkTypes:kF,GetDefaultWorkTypes:TF,GetCostAnalysis:CF,GetEmployeesCostCentres:EF,GetCostAnalysisV2:xF,GetCostAnalysisDetailV2:MF,GetCostingDayView:$F,CostingEmployeePayDetailView:AF,CostingEmployeeView:OF,getMyManager:PF},LF=Ve({name:"scheduleNavigation",data(){return{user:null,menus:[{text:"Work Schedule",display:"My Schedules",route:"/my-schedules",selected:!1,default:!0},{text:"Availability",display:"My Availability",route:"/Availability",selected:!1,default:!1},{text:"Employee Team",display:"My Team",route:"/my-team",selected:!1,default:!1},{text:"Flex Schedule",display:"Flexi Schedules",route:"/flex-schedule",selected:!1,default:!1},{text:"Schedule Management",display:"Team Schedules",route:"/team-schedules",selected:!1,default:!1},{text:"Employee Allocation",display:"Employee Allocations",route:"/employee-allocations",selected:!1,default:!1},{text:"Cost Report",display:"Cost Analytics",route:"/cost-reports",selected:!1,default:!1}],selectedMenu:null,isOpen:!1}},computed:{userFullName(){let e=this.user;return e?`${e.FirstName} ${e.LastName}`:""},authorizedMenus(){var e=[],t=this.user.AccessibleMenus;let n=this.menus;for(var s=0;s<this.menus.length;s++){var i=n[s];t.indexOf(i.text)!=-1&&e.push(i)}return e}},methods:{selectMenu:function(e){if(e.route==="/cost-reports"){const t=window.Affinity.config.Apps.find(n=>{var s,i,o;return((i=(s=n.Link)==null?void 0:s.Url)==null?void 0:i.split(".")[0].toLowerCase().includes("costing"))&&((o=n.Link)==null?void 0:o.Enabled)});if(t){window.location.href=t.Link.Url;return}}this.$router.push(e.route),this.isOpen=!1,this.menus.forEach(t=>{t.selected=!1}),e.selected=!0},toggleMobileMenu:function(){this.isOpen=!this.isOpen},isSelected:function(e){return this.selectedMenu&&this.selectedMenu.text==e},assignAccessibleFeatures:function(){const e=kn("MANAGE_COMPANY_CONFIG");if(!window.Affinity||window.Affinity&&!window.Affinity.user)console.log("no affinity requesting authInfo"),Pe.AuthGetInfo().then(t=>{this.user=t;try{window.dispatchEvent(new CustomEvent("GAReady",{bubbles:!0,detail:{companyNumber:this.user.CompanyNo,employeeNumber:this.user.EmployeeNo,appVersion:"V2"}}))}catch{console.warn("GA tracking failed. Contact BenK.")}e.setAllowPersonal(t.AccessibleFeatures.includes("Personal Schedule")),e.setAllowSundayFirst(t.AccessibleFeatures.includes("Sunday First"))});else{console.log("loading user from Affinity lib"),this.user=window.Affinity.user;try{window.dispatchEvent(new CustomEvent("GAReady",{bubbles:!0,detail:{companyNumber:this.user.CompanyNo,employeeNumber:this.user.EmployeeNo,appVersion:"V2"}}))}catch{console.warn("GA tracking failed. Contact BenK.")}e.setAllowPersonal(this.user.AccessibleFeatures.includes("Personal Schedule")),e.setAllowSundayFirst(this.user.AccessibleFeatures.includes("Sunday First"))}}},mounted:function(){this.assignAccessibleFeatures(),document.addEventListener("DBWDomReady",e=>{this.assignAccessibleFeatures()})}}),Ne=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},Ag=e=>(ft("data-v-d6a08263"),e=e(),pt(),e),RF={class:"schedules"},NF={class:"sch-nav justify-space-between align-center body-2"},FF=Ag(()=>m("div",{class:"sch-heading-text"},null,-1)),IF={key:0,class:"d-flex sch-toolbar align-center"},YF=Ag(()=>m("span",{class:"burger-menu"},null,-1)),HF=[YF],WF={class:"sch-nav-options mr-1 pa-0"},BF=["onClick"],VF={href:"/help/index",class:"sch-nav-help ss-help-link align-center mr-2",target:"_blank"},UF=Ag(()=>m("span",{class:"icon-help-round"},null,-1)),zF=[UF];function jF(e,t,n,s,i,o){const r=Ci("tooltip");return S(),D("div",RF,[m("div",NF,[FF,e.user?(S(),D("div",IF,[m("a",{tabindex:"1",onClick:t[0]||(t[0]=a=>e.toggleMobileMenu()),class:nt([e.isOpen?"open":"","mobile-menu"])},HF,2),m("ul",WF,[(S(!0),D(de,null,$e(e.authorizedMenus,a=>(S(),D("li",{class:nt(["nav-box mr-1 py-1 px-2 my-1 caption",{selected:a.selected}]),onClick:c=>e.selectMenu(a)},[m("div",null,H(a.display),1)],10,BF))),256))]),ge((S(),D("a",VF,zF)),[[r,{content:"Help"},void 0,{top:!0}]])])):X("",!0)])])}const GF=Ne(LF,[["render",jF],["__scopeId","data-v-d6a08263"]]),KF=Ve({name:"modal",props:{customPosition:{type:Boolean,default:!1},top:{type:Number},left:{type:Number},noBox:{type:Boolean},modalIndex:{type:Number},noOverflowAutoBody:{type:Boolean,default:!1}},data(){return{show:!1}},methods:{toggleShow(e){e===!0||e===!1?this.show=e:this.show=!this.show},clickWrapper(){this.show=!1,this.$emit("cancel")},getCustomPosition(){if(this.customPosition){let e={position:"absolute",top:`${this.top}px`,left:`${this.left}px`};return window.innerWidth<=800&&(e.left="auto"),e}else return""}}}),qF={class:"modal-wrapper"},XF={class:"modal-header"},ZF={class:"modal-footer"};function JF(e,t,n,s,i,o){return S(),qt(Tg,{name:"modal"},{default:Ze(()=>[m("div",null,[e.show?(S(),D("div",{key:0,class:"modal-mask",style:wt([e.modalIndex?{"z-index":e.modalIndex}:""])},[m("div",qF,[m("div",{class:"modal-backdrop",onClick:t[0]||(t[0]=(...r)=>e.clickWrapper&&e.clickWrapper(...r))}),m("div",{class:nt(["modal-box",{"no-modal-box":e.noBox}]),style:wt(e.getCustomPosition())},[m("div",XF,[Pr(e.$slots,"header",{},void 0,!0)]),m("div",{class:nt(["modal-body",{"no-overflow-auto-body":e.noOverflowAutoBody}])},[Pr(e.$slots,"body",{},void 0,!0)],2),m("div",ZF,[Pr(e.$slots,"footer",{},void 0,!0)])],6)])],4)):X("",!0)])]),_:3})}const cs=Ne(KF,[["render",JF],["__scopeId","data-v-7ee2eb5c"]]),QF=Ve({name:"alert",components:{Modal:cs},data(){return{dialog:!1,message:"some message ",showLoader:!1,showButtons:!1,showCancel:!1,confirmButtonText:"Ok",cancelButtonText:"Cancel"}},mounted(){os.on("alert",e=>{console.log("emitter alert"),this.dialog=!0,this.message=e,this.showLoader=!1,this.showButtons=!0}),os.on("dialog--loading--request",e=>{console.log("emitter loading request"),this.dialog=!0,this.message=e,this.showCancel=!1,this.showButtons=!1,this.showLoader=!0}),os.on("clearDialog",()=>{console.log("emitter clear dialog"),this.clearDialog(),this.dialog=!1}),os.on("dialog",e=>{console.log("emitter on dialog"),this.show(),this.dialog=!!e,this.message=e.message,this.showCancel=e.showCancel,this.showButtons=e.showButtons,this.showLoader=e.showLoader,this.confirmButtonText=e.confirmButtonText?e.confirmButtonText:"Ok",this.cancelButtonText=e.cancelButtonText?e.cancelButtonText:"Cancel",e.onOk&&(this.onOk=()=>{e.onOk(),this.dialog=!1,this.toggleShow()}),e.onCancel&&(this.onCancel=()=>{e.onCancel(),this.dialog=!1,this.toggleShow()})})},methods:{clearDialog(){this.$refs.alertModalRef.toggleShow(!1)},toggleShow(){this.$refs.alertModalRef.toggleShow()},show(){this.$refs.alertModalRef.toggleShow(!0)},onOk(){this.$refs.alertModalRef.toggleShow()},onCancel(){this.$refs.alertModalRef.toggleShow()}}}),eI=e=>(ft("data-v-257d9efb"),e=e(),pt(),e),tI={class:"promt-box"},nI={key:0,class:"mr-2 d-inline loader-icon"},sI=eI(()=>m("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"loading-3-quarters",width:"28",height:"28",fill:"currentColor","aria-hidden":"true"},[m("path",{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"})],-1)),iI=[sI],oI=["innerHTML"],rI={key:0,class:"promptButtons mt-4"},aI={class:"label text-capitalize"},lI={class:"label text-capitalize"};function cI(e,t,n,s,i,o){const r=ye("modal");return S(),qt(r,{ref:"alertModalRef",noBox:!0},{body:Ze(()=>[m("div",tI,[m("div",null,[e.showLoader?(S(),D("div",nI,iI)):X("",!0),m("div",{class:"content",innerHTML:e.message},null,8,oI)]),e.showButtons?(S(),D("div",rI,[m("button",{type:"button",class:nt(["orange white--text small",{"mr-2":e.showCancel}]),tabindex:"9999998",onClick:t[0]||(t[0]=(...a)=>e.onOk&&e.onOk(...a))},[m("span",aI,H(e.confirmButtonText),1)],2),e.showCancel?(S(),D("button",{key:0,class:"grey white--text small",small:"",tabindex:"9999999",onClick:t[1]||(t[1]=(...a)=>e.onCancel&&e.onCancel(...a))},[m("span",lI,H(e.cancelButtonText),1)])):X("",!0)])):X("",!0)])]),_:1},512)}const uI=Ne(QF,[["render",cI],["__scopeId","data-v-257d9efb"]]);function dI(){return fD().__VUE_DEVTOOLS_GLOBAL_HOOK__}function fD(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const hI=typeof Proxy=="function",fI="devtools-plugin:setup",pI="plugin:settings:set";let ma,Mm;function mI(){var e;return ma!==void 0||(typeof window<"u"&&window.performance?(ma=!0,Mm=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(ma=!0,Mm=globalThis.perf_hooks.performance):ma=!1),ma}function gI(){return mI()?Mm.now():Date.now()}class yI{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const r in t.settings){const a=t.settings[r];s[r]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},s);try{const r=localStorage.getItem(i),a=JSON.parse(r);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(r){try{localStorage.setItem(i,JSON.stringify(r))}catch{}o=r},now(){return gI()}},n&&n.on(pI,(r,a)=>{r===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(r,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(r,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(d=>{this.targetQueue.push({method:a,args:c,resolve:d})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function vI(e,t){const n=e,s=fD(),i=dI(),o=hI&&n.enableEarlyProxy;if(i&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(fI,e,t);else{const r=o?new yI(n,i):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:r}),r&&t(r.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var Og="store";function _n(e){return e===void 0&&(e=null),kn(e!==null?e:Og)}function _I(e,t){return e.filter(t)[0]}function $m(e,t){if(t===void 0&&(t=[]),e===null||typeof e!="object")return e;var n=_I(t,function(i){return i.original===e});if(n)return n.copy;var s=Array.isArray(e)?[]:{};return t.push({original:e,copy:s}),Object.keys(e).forEach(function(i){s[i]=$m(e[i],t)}),s}function Ka(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function pD(e){return e!==null&&typeof e=="object"}function bI(e){return e&&typeof e.then=="function"}function SI(e,t){return function(){return e(t)}}function mD(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var s=t.indexOf(e);s>-1&&t.splice(s,1)}}function gD(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;fh(e,n,[],e._modules.root,!0),Pg(e,n,t)}function Pg(e,t,n){var s=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};Ka(i,function(r,a){o[a]=SI(r,e),Object.defineProperty(e.getters,a,{get:function(){return o[a]()},enumerable:!0})}),e._state=Ec({data:t}),e.strict&&CI(e),s&&n&&e._withCommit(function(){s.data=null})}function fh(e,t,n,s,i){var o=!n.length,r=e._modules.getNamespace(n);if(s.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=s),!o&&!i){var a=Lg(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){a[c]=s.state})}var d=s.context=wI(e,r,n);s.forEachMutation(function(h,p){var g=r+p;DI(e,g,h,d)}),s.forEachAction(function(h,p){var g=h.root?p:r+p,y=h.handler||h;kI(e,g,y,d)}),s.forEachGetter(function(h,p){var g=r+p;TI(e,g,h,d)}),s.forEachChild(function(h,p){fh(e,t,n.concat(p),h,i)})}function wI(e,t,n){var s=t==="",i={dispatch:s?e.dispatch:function(o,r,a){var c=Md(o,r,a),d=c.payload,h=c.options,p=c.type;return(!h||!h.root)&&(p=t+p),e.dispatch(p,d)},commit:s?e.commit:function(o,r,a){var c=Md(o,r,a),d=c.payload,h=c.options,p=c.type;(!h||!h.root)&&(p=t+p),e.commit(p,d,h)}};return Object.defineProperties(i,{getters:{get:s?function(){return e.getters}:function(){return yD(e,t)}},state:{get:function(){return Lg(e.state,n)}}}),i}function yD(e,t){if(!e._makeLocalGettersCache[t]){var n={},s=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,s)===t){var o=i.slice(s);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function DI(e,t,n,s){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(r){n.call(e,s.state,r)})}function kI(e,t,n,s){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(r){var a=n.call(e,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:e.getters,rootState:e.state},r);return bI(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):a})}function TI(e,t,n,s){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(s.state,s.getters,o.state,o.getters)})}function CI(e){Uo(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Lg(e,t){return t.reduce(function(n,s){return n[s]},e)}function Md(e,t,n){return pD(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var EI="vuex bindings",y0="vuex:mutations",Hp="vuex:actions",ga="vuex",xI=0;function MI(e,t){vI({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[EI]},function(n){n.addTimelineLayer({id:y0,label:"Vuex Mutations",color:v0}),n.addTimelineLayer({id:Hp,label:"Vuex Actions",color:v0}),n.addInspector({id:ga,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(s){if(s.app===e&&s.inspectorId===ga)if(s.filter){var i=[];SD(i,t._modules.root,s.filter,""),s.rootNodes=i}else s.rootNodes=[bD(t._modules.root,"")]}),n.on.getInspectorState(function(s){if(s.app===e&&s.inspectorId===ga){var i=s.nodeId;yD(t,i),s.state=OI(LI(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(s){if(s.app===e&&s.inspectorId===ga){var i=s.nodeId,o=s.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),t._withCommit(function(){s.set(t._state.data,o,s.state.value)})}}),t.subscribe(function(s,i){var o={};s.payload&&(o.payload=s.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(ga),n.sendInspectorState(ga),n.addTimelineEvent({layerId:y0,event:{time:Date.now(),title:s.type,data:o}})}),t.subscribeAction({before:function(s,i){var o={};s.payload&&(o.payload=s.payload),s._id=xI++,s._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:Hp,event:{time:s._time,title:s.type,groupId:s._id,subtitle:"start",data:o}})},after:function(s,i){var o={},r=Date.now()-s._time;o.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},s.payload&&(o.payload=s.payload),o.state=i,n.addTimelineEvent({layerId:Hp,event:{time:Date.now(),title:s.type,groupId:s._id,subtitle:"end",data:o}})}})})}var v0=8702998,$I=6710886,AI=16777215,vD={label:"namespaced",textColor:AI,backgroundColor:$I};function _D(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function bD(e,t){return{id:t||"root",label:_D(t),tags:e.namespaced?[vD]:[],children:Object.keys(e._children).map(function(n){return bD(e._children[n],t+n+"/")})}}function SD(e,t,n,s){s.includes(n)&&e.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:t.namespaced?[vD]:[]}),Object.keys(t._children).forEach(function(i){SD(e,t._children[i],n,s+i+"/")})}function OI(e,t,n){t=n==="root"?t:t[n];var s=Object.keys(t),i={state:Object.keys(e.state).map(function(r){return{key:r,editable:!0,value:e.state[r]}})};if(s.length){var o=PI(t);i.getters=Object.keys(o).map(function(r){return{key:r.endsWith("/")?_D(r):r,editable:!1,value:Am(function(){return o[r]})}})}return i}function PI(e){var t={};return Object.keys(e).forEach(function(n){var s=n.split("/");if(s.length>1){var i=t,o=s.pop();s.forEach(function(r){i[r]||(i[r]={_custom:{value:{},display:r,tooltip:"Module",abstract:!0}}),i=i[r]._custom.value}),i[o]=Am(function(){return e[n]})}else t[n]=Am(function(){return e[n]})}),t}function LI(e,t){var n=t.split("/").filter(function(s){return s});return n.reduce(function(s,i,o){var r=s[i];if(!r)throw new Error('Missing module "'+i+'" for path "'+t+'".');return o===n.length-1?r:r._children},t==="root"?e:e.root._children)}function Am(e){try{return e()}catch(t){return t}}var si=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var s=t.state;this.state=(typeof s=="function"?s():s)||{}},wD={namespaced:{configurable:!0}};wD.namespaced.get=function(){return!!this._rawModule.namespaced};si.prototype.addChild=function(t,n){this._children[t]=n};si.prototype.removeChild=function(t){delete this._children[t]};si.prototype.getChild=function(t){return this._children[t]};si.prototype.hasChild=function(t){return t in this._children};si.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};si.prototype.forEachChild=function(t){Ka(this._children,t)};si.prototype.forEachGetter=function(t){this._rawModule.getters&&Ka(this._rawModule.getters,t)};si.prototype.forEachAction=function(t){this._rawModule.actions&&Ka(this._rawModule.actions,t)};si.prototype.forEachMutation=function(t){this._rawModule.mutations&&Ka(this._rawModule.mutations,t)};Object.defineProperties(si.prototype,wD);var jr=function(t){this.register([],t,!1)};jr.prototype.get=function(t){return t.reduce(function(n,s){return n.getChild(s)},this.root)};jr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(s,i){return n=n.getChild(i),s+(n.namespaced?i+"/":"")},"")};jr.prototype.update=function(t){DD([],this.root,t)};jr.prototype.register=function(t,n,s){var i=this;s===void 0&&(s=!0);var o=new si(n,s);if(t.length===0)this.root=o;else{var r=this.get(t.slice(0,-1));r.addChild(t[t.length-1],o)}n.modules&&Ka(n.modules,function(a,c){i.register(t.concat(c),a,s)})};jr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),s=t[t.length-1],i=n.getChild(s);i&&i.runtime&&n.removeChild(s)};jr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),s=t[t.length-1];return n?n.hasChild(s):!1};function DD(e,t,n){if(t.update(n),n.modules)for(var s in n.modules){if(!t.getChild(s))return;DD(e.concat(s),t.getChild(s),n.modules[s])}}function RI(e){return new Gn(e)}var Gn=function(t){var n=this;t===void 0&&(t={});var s=t.plugins;s===void 0&&(s=[]);var i=t.strict;i===void 0&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new jr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var r=this,a=this,c=a.dispatch,d=a.commit;this.dispatch=function(g,y){return c.call(r,g,y)},this.commit=function(g,y,_){return d.call(r,g,y,_)},this.strict=i;var h=this._modules.root.state;fh(this,h,[],this._modules.root),Pg(this,h),s.forEach(function(p){return p(n)})},Rg={state:{configurable:!0}};Gn.prototype.install=function(t,n){t.provide(n||Og,this),t.config.globalProperties.$store=this;var s=this._devtools!==void 0?this._devtools:!1;s&&MI(t,this)};Rg.state.get=function(){return this._state.data};Rg.state.set=function(e){};Gn.prototype.commit=function(t,n,s){var i=this,o=Md(t,n,s),r=o.type,a=o.payload,c={type:r,payload:a},d=this._mutations[r];d&&(this._withCommit(function(){d.forEach(function(p){p(a)})}),this._subscribers.slice().forEach(function(h){return h(c,i.state)}))};Gn.prototype.dispatch=function(t,n){var s=this,i=Md(t,n),o=i.type,r=i.payload,a={type:o,payload:r},c=this._actions[o];if(c){try{this._actionSubscribers.slice().filter(function(h){return h.before}).forEach(function(h){return h.before(a,s.state)})}catch{}var d=c.length>1?Promise.all(c.map(function(h){return h(r)})):c[0](r);return new Promise(function(h,p){d.then(function(g){try{s._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(a,s.state)})}catch{}h(g)},function(g){try{s._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(a,s.state,g)})}catch{}p(g)})})}};Gn.prototype.subscribe=function(t,n){return mD(t,this._subscribers,n)};Gn.prototype.subscribeAction=function(t,n){var s=typeof t=="function"?{before:t}:t;return mD(s,this._actionSubscribers,n)};Gn.prototype.watch=function(t,n,s){var i=this;return Uo(function(){return t(i.state,i.getters)},n,Object.assign({},s))};Gn.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Gn.prototype.registerModule=function(t,n,s){s===void 0&&(s={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),fh(this,this.state,t,this._modules.get(t),s.preserveState),Pg(this,this.state)};Gn.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var s=Lg(n.state,t.slice(0,-1));delete s[t[t.length-1]]}),gD(this)};Gn.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Gn.prototype.hotUpdate=function(t){this._modules.update(t),gD(this,!0)};Gn.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Gn.prototype,Rg);var kD=mh(function(e,t){var n={};return ph(t).forEach(function(s){var i=s.key,o=s.val;n[i]=function(){var a=this.$store.state,c=this.$store.getters;if(e){var d=gh(this.$store,"mapState",e);if(!d)return;a=d.context.state,c=d.context.getters}return typeof o=="function"?o.call(this,a,c):a[o]},n[i].vuex=!0}),n}),TD=mh(function(e,t){var n={};return ph(t).forEach(function(s){var i=s.key,o=s.val;n[i]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=this.$store.commit;if(e){var h=gh(this.$store,"mapMutations",e);if(!h)return;d=h.context.commit}return typeof o=="function"?o.apply(this,[d].concat(a)):d.apply(this.$store,[o].concat(a))}}),n}),CD=mh(function(e,t){var n={};return ph(t).forEach(function(s){var i=s.key,o=s.val;o=e+o,n[i]=function(){if(!(e&&!gh(this.$store,"mapGetters",e)))return this.$store.getters[o]},n[i].vuex=!0}),n}),ED=mh(function(e,t){var n={};return ph(t).forEach(function(s){var i=s.key,o=s.val;n[i]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=this.$store.dispatch;if(e){var h=gh(this.$store,"mapActions",e);if(!h)return;d=h.context.dispatch}return typeof o=="function"?o.apply(this,[d].concat(a)):d.apply(this.$store,[o].concat(a))}}),n}),NI=function(e){return{mapState:kD.bind(null,e),mapGetters:CD.bind(null,e),mapMutations:TD.bind(null,e),mapActions:ED.bind(null,e)}};function ph(e){return FI(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function FI(e){return Array.isArray(e)||pD(e)}function mh(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function gh(e,t,n){var s=e._modulesNamespaceMap[n];return s}function II(e){e===void 0&&(e={});var t=e.collapsed;t===void 0&&(t=!0);var n=e.filter;n===void 0&&(n=function(h,p,g){return!0});var s=e.transformer;s===void 0&&(s=function(h){return h});var i=e.mutationTransformer;i===void 0&&(i=function(h){return h});var o=e.actionFilter;o===void 0&&(o=function(h,p){return!0});var r=e.actionTransformer;r===void 0&&(r=function(h){return h});var a=e.logMutations;a===void 0&&(a=!0);var c=e.logActions;c===void 0&&(c=!0);var d=e.logger;return d===void 0&&(d=console),function(h){var p=$m(h.state);typeof d>"u"||(a&&h.subscribe(function(g,y){var _=$m(y);if(n(g,p,_)){var T=S0(),w=i(g),k="mutation "+g.type+T;_0(d,k,t),d.log("%c prev state","color: #9E9E9E; font-weight: bold",s(p)),d.log("%c mutation","color: #03A9F4; font-weight: bold",w),d.log("%c next state","color: #4CAF50; font-weight: bold",s(_)),b0(d)}p=_}),c&&h.subscribeAction(function(g,y){if(o(g,y)){var _=S0(),T=r(g),w="action "+g.type+_;_0(d,w,t),d.log("%c action","color: #03A9F4; font-weight: bold",T),b0(d)}}))}}function _0(e,t,n){var s=n?e.groupCollapsed:e.group;try{s.call(e,t)}catch{e.log(t)}}function b0(e){try{e.groupEnd()}catch{e.log("—— log end ——")}}function S0(){var e=new Date;return" @ "+Bu(e.getHours(),2)+":"+Bu(e.getMinutes(),2)+":"+Bu(e.getSeconds(),2)+"."+Bu(e.getMilliseconds(),3)}function YI(e,t){return new Array(t+1).join(e)}function Bu(e,t){return YI("0",t-e.toString().length)+e}var HI={version:"4.0.2",Store:Gn,storeKey:Og,createStore:RI,useStore:_n,mapState:kD,mapMutations:TD,mapGetters:CD,mapActions:ED,createNamespacedHelpers:NI,createLogger:II};const WI=HI;var $d={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */$d.exports;(function(e,t){(function(){var n,s="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",p=1,g=2,y=4,_=1,T=2,w=1,k=2,x=4,$=8,L=16,F=32,R=64,W=128,z=256,Y=512,N=30,G="...",j=800,J=16,ue=1,oe=2,le=3,me=1/0,Se=9007199254740991,Te=17976931348623157e292,xe=NaN,Re=4294967295,Ye=Re-1,ot=Re>>>1,fn=[["ary",W],["bind",w],["bindKey",k],["curry",$],["curryRight",L],["flip",Y],["partial",F],["partialRight",R],["rearg",z]],Ue="[object Arguments]",st="[object Array]",Q="[object AsyncFunction]",be="[object Boolean]",_e="[object Date]",Oe="[object DOMException]",mt="[object Error]",Pt="[object Function]",A="[object GeneratorFunction]",P="[object Map]",q="[object Number]",re="[object Null]",ee="[object Object]",he="[object Promise]",we="[object Proxy]",ve="[object RegExp]",pe="[object Set]",ae="[object String]",ke="[object Symbol]",Le="[object Undefined]",Me="[object WeakMap]",ze="[object WeakSet]",qe="[object ArrayBuffer]",St="[object DataView]",gt="[object Float32Array]",en="[object Float64Array]",Wn="[object Int8Array]",ai="[object Int16Array]",Zr="[object Int32Array]",$i="[object Uint8Array]",Jr="[object Uint8ClampedArray]",Cn="[object Uint16Array]",Kn="[object Uint32Array]",jc=/\b__p \+= '';/g,EC=/\b(__p \+=) '' \+/g,xC=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Py=/&(?:amp|lt|gt|quot|#39);/g,Ly=/[&<>"']/g,MC=RegExp(Py.source),$C=RegExp(Ly.source),AC=/<%-([\s\S]+?)%>/g,OC=/<%([\s\S]+?)%>/g,Ry=/<%=([\s\S]+?)%>/g,PC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LC=/^\w*$/,RC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sf=/[\\^$.*+?()[\]{}|]/g,NC=RegExp(sf.source),of=/^\s+/,FC=/\s/,IC=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,YC=/\{\n\/\* \[wrapped with (.+)\] \*/,HC=/,? & /,WC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,BC=/[()=,{}\[\]\/\s]/,VC=/\\(\\)?/g,UC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ny=/\w*$/,zC=/^[-+]0x[0-9a-f]+$/i,jC=/^0b[01]+$/i,GC=/^\[object .+?Constructor\]$/,KC=/^0o[0-7]+$/i,qC=/^(?:0|[1-9]\d*)$/,XC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gc=/($^)/,ZC=/['\n\r\u2028\u2029\\]/g,Kc="\\ud800-\\udfff",JC="\\u0300-\\u036f",QC="\\ufe20-\\ufe2f",eE="\\u20d0-\\u20ff",Fy=JC+QC+eE,Iy="\\u2700-\\u27bf",Yy="a-z\\xdf-\\xf6\\xf8-\\xff",tE="\\xac\\xb1\\xd7\\xf7",nE="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sE="\\u2000-\\u206f",iE=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hy="A-Z\\xc0-\\xd6\\xd8-\\xde",Wy="\\ufe0e\\ufe0f",By=tE+nE+sE+iE,rf="['’]",oE="["+Kc+"]",Vy="["+By+"]",qc="["+Fy+"]",Uy="\\d+",rE="["+Iy+"]",zy="["+Yy+"]",jy="[^"+Kc+By+Uy+Iy+Yy+Hy+"]",af="\\ud83c[\\udffb-\\udfff]",aE="(?:"+qc+"|"+af+")",Gy="[^"+Kc+"]",lf="(?:\\ud83c[\\udde6-\\uddff]){2}",cf="[\\ud800-\\udbff][\\udc00-\\udfff]",Qr="["+Hy+"]",Ky="\\u200d",qy="(?:"+zy+"|"+jy+")",lE="(?:"+Qr+"|"+jy+")",Xy="(?:"+rf+"(?:d|ll|m|re|s|t|ve))?",Zy="(?:"+rf+"(?:D|LL|M|RE|S|T|VE))?",Jy=aE+"?",Qy="["+Wy+"]?",cE="(?:"+Ky+"(?:"+[Gy,lf,cf].join("|")+")"+Qy+Jy+")*",uE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dE="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ev=Qy+Jy+cE,hE="(?:"+[rE,lf,cf].join("|")+")"+ev,fE="(?:"+[Gy+qc+"?",qc,lf,cf,oE].join("|")+")",pE=RegExp(rf,"g"),mE=RegExp(qc,"g"),uf=RegExp(af+"(?="+af+")|"+fE+ev,"g"),gE=RegExp([Qr+"?"+zy+"+"+Xy+"(?="+[Vy,Qr,"$"].join("|")+")",lE+"+"+Zy+"(?="+[Vy,Qr+qy,"$"].join("|")+")",Qr+"?"+qy+"+"+Xy,Qr+"+"+Zy,dE,uE,Uy,hE].join("|"),"g"),yE=RegExp("["+Ky+Kc+Fy+Wy+"]"),vE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_E=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bE=-1,Ht={};Ht[gt]=Ht[en]=Ht[Wn]=Ht[ai]=Ht[Zr]=Ht[$i]=Ht[Jr]=Ht[Cn]=Ht[Kn]=!0,Ht[Ue]=Ht[st]=Ht[qe]=Ht[be]=Ht[St]=Ht[_e]=Ht[mt]=Ht[Pt]=Ht[P]=Ht[q]=Ht[ee]=Ht[ve]=Ht[pe]=Ht[ae]=Ht[Me]=!1;var It={};It[Ue]=It[st]=It[qe]=It[St]=It[be]=It[_e]=It[gt]=It[en]=It[Wn]=It[ai]=It[Zr]=It[P]=It[q]=It[ee]=It[ve]=It[pe]=It[ae]=It[ke]=It[$i]=It[Jr]=It[Cn]=It[Kn]=!0,It[mt]=It[Pt]=It[Me]=!1;var SE={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},wE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DE={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kE={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},TE=parseFloat,CE=parseInt,tv=typeof Sl=="object"&&Sl&&Sl.Object===Object&&Sl,EE=typeof self=="object"&&self&&self.Object===Object&&self,En=tv||EE||Function("return this")(),df=t&&!t.nodeType&&t,ar=df&&!0&&e&&!e.nodeType&&e,nv=ar&&ar.exports===df,hf=nv&&tv.process,Ss=function(){try{var B=ar&&ar.require&&ar.require("util").types;return B||hf&&hf.binding&&hf.binding("util")}catch{}}(),sv=Ss&&Ss.isArrayBuffer,iv=Ss&&Ss.isDate,ov=Ss&&Ss.isMap,rv=Ss&&Ss.isRegExp,av=Ss&&Ss.isSet,lv=Ss&&Ss.isTypedArray;function us(B,te,Z){switch(Z.length){case 0:return B.call(te);case 1:return B.call(te,Z[0]);case 2:return B.call(te,Z[0],Z[1]);case 3:return B.call(te,Z[0],Z[1],Z[2])}return B.apply(te,Z)}function xE(B,te,Z,Ce){for(var Ge=-1,Tt=B==null?0:B.length;++Ge<Tt;){var pn=B[Ge];te(Ce,pn,Z(pn),B)}return Ce}function ws(B,te){for(var Z=-1,Ce=B==null?0:B.length;++Z<Ce&&te(B[Z],Z,B)!==!1;);return B}function ME(B,te){for(var Z=B==null?0:B.length;Z--&&te(B[Z],Z,B)!==!1;);return B}function cv(B,te){for(var Z=-1,Ce=B==null?0:B.length;++Z<Ce;)if(!te(B[Z],Z,B))return!1;return!0}function mo(B,te){for(var Z=-1,Ce=B==null?0:B.length,Ge=0,Tt=[];++Z<Ce;){var pn=B[Z];te(pn,Z,B)&&(Tt[Ge++]=pn)}return Tt}function Xc(B,te){var Z=B==null?0:B.length;return!!Z&&ea(B,te,0)>-1}function ff(B,te,Z){for(var Ce=-1,Ge=B==null?0:B.length;++Ce<Ge;)if(Z(te,B[Ce]))return!0;return!1}function zt(B,te){for(var Z=-1,Ce=B==null?0:B.length,Ge=Array(Ce);++Z<Ce;)Ge[Z]=te(B[Z],Z,B);return Ge}function go(B,te){for(var Z=-1,Ce=te.length,Ge=B.length;++Z<Ce;)B[Ge+Z]=te[Z];return B}function pf(B,te,Z,Ce){var Ge=-1,Tt=B==null?0:B.length;for(Ce&&Tt&&(Z=B[++Ge]);++Ge<Tt;)Z=te(Z,B[Ge],Ge,B);return Z}function $E(B,te,Z,Ce){var Ge=B==null?0:B.length;for(Ce&&Ge&&(Z=B[--Ge]);Ge--;)Z=te(Z,B[Ge],Ge,B);return Z}function mf(B,te){for(var Z=-1,Ce=B==null?0:B.length;++Z<Ce;)if(te(B[Z],Z,B))return!0;return!1}var AE=gf("length");function OE(B){return B.split("")}function PE(B){return B.match(WC)||[]}function uv(B,te,Z){var Ce;return Z(B,function(Ge,Tt,pn){if(te(Ge,Tt,pn))return Ce=Tt,!1}),Ce}function Zc(B,te,Z,Ce){for(var Ge=B.length,Tt=Z+(Ce?1:-1);Ce?Tt--:++Tt<Ge;)if(te(B[Tt],Tt,B))return Tt;return-1}function ea(B,te,Z){return te===te?zE(B,te,Z):Zc(B,dv,Z)}function LE(B,te,Z,Ce){for(var Ge=Z-1,Tt=B.length;++Ge<Tt;)if(Ce(B[Ge],te))return Ge;return-1}function dv(B){return B!==B}function hv(B,te){var Z=B==null?0:B.length;return Z?vf(B,te)/Z:xe}function gf(B){return function(te){return te==null?n:te[B]}}function yf(B){return function(te){return B==null?n:B[te]}}function fv(B,te,Z,Ce,Ge){return Ge(B,function(Tt,pn,Nt){Z=Ce?(Ce=!1,Tt):te(Z,Tt,pn,Nt)}),Z}function RE(B,te){var Z=B.length;for(B.sort(te);Z--;)B[Z]=B[Z].value;return B}function vf(B,te){for(var Z,Ce=-1,Ge=B.length;++Ce<Ge;){var Tt=te(B[Ce]);Tt!==n&&(Z=Z===n?Tt:Z+Tt)}return Z}function _f(B,te){for(var Z=-1,Ce=Array(B);++Z<B;)Ce[Z]=te(Z);return Ce}function NE(B,te){return zt(te,function(Z){return[Z,B[Z]]})}function pv(B){return B&&B.slice(0,vv(B)+1).replace(of,"")}function ds(B){return function(te){return B(te)}}function bf(B,te){return zt(te,function(Z){return B[Z]})}function il(B,te){return B.has(te)}function mv(B,te){for(var Z=-1,Ce=B.length;++Z<Ce&&ea(te,B[Z],0)>-1;);return Z}function gv(B,te){for(var Z=B.length;Z--&&ea(te,B[Z],0)>-1;);return Z}function FE(B,te){for(var Z=B.length,Ce=0;Z--;)B[Z]===te&&++Ce;return Ce}var IE=yf(SE),YE=yf(wE);function HE(B){return"\\"+kE[B]}function WE(B,te){return B==null?n:B[te]}function ta(B){return yE.test(B)}function BE(B){return vE.test(B)}function VE(B){for(var te,Z=[];!(te=B.next()).done;)Z.push(te.value);return Z}function Sf(B){var te=-1,Z=Array(B.size);return B.forEach(function(Ce,Ge){Z[++te]=[Ge,Ce]}),Z}function yv(B,te){return function(Z){return B(te(Z))}}function yo(B,te){for(var Z=-1,Ce=B.length,Ge=0,Tt=[];++Z<Ce;){var pn=B[Z];(pn===te||pn===h)&&(B[Z]=h,Tt[Ge++]=Z)}return Tt}function Jc(B){var te=-1,Z=Array(B.size);return B.forEach(function(Ce){Z[++te]=Ce}),Z}function UE(B){var te=-1,Z=Array(B.size);return B.forEach(function(Ce){Z[++te]=[Ce,Ce]}),Z}function zE(B,te,Z){for(var Ce=Z-1,Ge=B.length;++Ce<Ge;)if(B[Ce]===te)return Ce;return-1}function jE(B,te,Z){for(var Ce=Z+1;Ce--;)if(B[Ce]===te)return Ce;return Ce}function na(B){return ta(B)?KE(B):AE(B)}function Bs(B){return ta(B)?qE(B):OE(B)}function vv(B){for(var te=B.length;te--&&FC.test(B.charAt(te)););return te}var GE=yf(DE);function KE(B){for(var te=uf.lastIndex=0;uf.test(B);)++te;return te}function qE(B){return B.match(uf)||[]}function XE(B){return B.match(gE)||[]}var ZE=function B(te){te=te==null?En:sa.defaults(En.Object(),te,sa.pick(En,_E));var Z=te.Array,Ce=te.Date,Ge=te.Error,Tt=te.Function,pn=te.Math,Nt=te.Object,wf=te.RegExp,JE=te.String,Ds=te.TypeError,Qc=Z.prototype,QE=Tt.prototype,ia=Nt.prototype,eu=te["__core-js_shared__"],tu=QE.toString,Mt=ia.hasOwnProperty,ex=0,_v=function(){var l=/[^.]+$/.exec(eu&&eu.keys&&eu.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),nu=ia.toString,tx=tu.call(Nt),nx=En._,sx=wf("^"+tu.call(Mt).replace(sf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),su=nv?te.Buffer:n,vo=te.Symbol,iu=te.Uint8Array,bv=su?su.allocUnsafe:n,ou=yv(Nt.getPrototypeOf,Nt),Sv=Nt.create,wv=ia.propertyIsEnumerable,ru=Qc.splice,Dv=vo?vo.isConcatSpreadable:n,ol=vo?vo.iterator:n,lr=vo?vo.toStringTag:n,au=function(){try{var l=fr(Nt,"defineProperty");return l({},"",{}),l}catch{}}(),ix=te.clearTimeout!==En.clearTimeout&&te.clearTimeout,ox=Ce&&Ce.now!==En.Date.now&&Ce.now,rx=te.setTimeout!==En.setTimeout&&te.setTimeout,lu=pn.ceil,cu=pn.floor,Df=Nt.getOwnPropertySymbols,ax=su?su.isBuffer:n,kv=te.isFinite,lx=Qc.join,cx=yv(Nt.keys,Nt),mn=pn.max,On=pn.min,ux=Ce.now,dx=te.parseInt,Tv=pn.random,hx=Qc.reverse,kf=fr(te,"DataView"),rl=fr(te,"Map"),Tf=fr(te,"Promise"),oa=fr(te,"Set"),al=fr(te,"WeakMap"),ll=fr(Nt,"create"),uu=al&&new al,ra={},fx=pr(kf),px=pr(rl),mx=pr(Tf),gx=pr(oa),yx=pr(al),du=vo?vo.prototype:n,cl=du?du.valueOf:n,Cv=du?du.toString:n;function C(l){if(tn(l)&&!Xe(l)&&!(l instanceof lt)){if(l instanceof ks)return l;if(Mt.call(l,"__wrapped__"))return E_(l)}return new ks(l)}var aa=function(){function l(){}return function(u){if(!Zt(u))return{};if(Sv)return Sv(u);l.prototype=u;var f=new l;return l.prototype=n,f}}();function hu(){}function ks(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}C.templateSettings={escape:AC,evaluate:OC,interpolate:Ry,variable:"",imports:{_:C}},C.prototype=hu.prototype,C.prototype.constructor=C,ks.prototype=aa(hu.prototype),ks.prototype.constructor=ks;function lt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Re,this.__views__=[]}function vx(){var l=new lt(this.__wrapped__);return l.__actions__=qn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=qn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=qn(this.__views__),l}function _x(){if(this.__filtered__){var l=new lt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function bx(){var l=this.__wrapped__.value(),u=this.__dir__,f=Xe(l),v=u<0,b=f?l.length:0,E=OM(0,b,this.__views__),O=E.start,I=E.end,U=I-O,ne=v?I:O-1,se=this.__iteratees__,ie=se.length,De=0,Ae=On(U,this.__takeCount__);if(!f||!v&&b==U&&Ae==U)return Xv(l,this.__actions__);var We=[];e:for(;U--&&De<Ae;){ne+=u;for(var it=-1,Be=l[ne];++it<ie;){var at=se[it],dt=at.iteratee,ps=at.type,Un=dt(Be);if(ps==oe)Be=Un;else if(!Un){if(ps==ue)continue e;break e}}We[De++]=Be}return We}lt.prototype=aa(hu.prototype),lt.prototype.constructor=lt;function cr(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var v=l[u];this.set(v[0],v[1])}}function Sx(){this.__data__=ll?ll(null):{},this.size=0}function wx(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function Dx(l){var u=this.__data__;if(ll){var f=u[l];return f===c?n:f}return Mt.call(u,l)?u[l]:n}function kx(l){var u=this.__data__;return ll?u[l]!==n:Mt.call(u,l)}function Tx(l,u){var f=this.__data__;return this.size+=this.has(l)?0:1,f[l]=ll&&u===n?c:u,this}cr.prototype.clear=Sx,cr.prototype.delete=wx,cr.prototype.get=Dx,cr.prototype.has=kx,cr.prototype.set=Tx;function Ai(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var v=l[u];this.set(v[0],v[1])}}function Cx(){this.__data__=[],this.size=0}function Ex(l){var u=this.__data__,f=fu(u,l);if(f<0)return!1;var v=u.length-1;return f==v?u.pop():ru.call(u,f,1),--this.size,!0}function xx(l){var u=this.__data__,f=fu(u,l);return f<0?n:u[f][1]}function Mx(l){return fu(this.__data__,l)>-1}function $x(l,u){var f=this.__data__,v=fu(f,l);return v<0?(++this.size,f.push([l,u])):f[v][1]=u,this}Ai.prototype.clear=Cx,Ai.prototype.delete=Ex,Ai.prototype.get=xx,Ai.prototype.has=Mx,Ai.prototype.set=$x;function Oi(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var v=l[u];this.set(v[0],v[1])}}function Ax(){this.size=0,this.__data__={hash:new cr,map:new(rl||Ai),string:new cr}}function Ox(l){var u=Tu(this,l).delete(l);return this.size-=u?1:0,u}function Px(l){return Tu(this,l).get(l)}function Lx(l){return Tu(this,l).has(l)}function Rx(l,u){var f=Tu(this,l),v=f.size;return f.set(l,u),this.size+=f.size==v?0:1,this}Oi.prototype.clear=Ax,Oi.prototype.delete=Ox,Oi.prototype.get=Px,Oi.prototype.has=Lx,Oi.prototype.set=Rx;function ur(l){var u=-1,f=l==null?0:l.length;for(this.__data__=new Oi;++u<f;)this.add(l[u])}function Nx(l){return this.__data__.set(l,c),this}function Fx(l){return this.__data__.has(l)}ur.prototype.add=ur.prototype.push=Nx,ur.prototype.has=Fx;function Vs(l){var u=this.__data__=new Ai(l);this.size=u.size}function Ix(){this.__data__=new Ai,this.size=0}function Yx(l){var u=this.__data__,f=u.delete(l);return this.size=u.size,f}function Hx(l){return this.__data__.get(l)}function Wx(l){return this.__data__.has(l)}function Bx(l,u){var f=this.__data__;if(f instanceof Ai){var v=f.__data__;if(!rl||v.length<i-1)return v.push([l,u]),this.size=++f.size,this;f=this.__data__=new Oi(v)}return f.set(l,u),this.size=f.size,this}Vs.prototype.clear=Ix,Vs.prototype.delete=Yx,Vs.prototype.get=Hx,Vs.prototype.has=Wx,Vs.prototype.set=Bx;function Ev(l,u){var f=Xe(l),v=!f&&mr(l),b=!f&&!v&&Do(l),E=!f&&!v&&!b&&da(l),O=f||v||b||E,I=O?_f(l.length,JE):[],U=I.length;for(var ne in l)(u||Mt.call(l,ne))&&!(O&&(ne=="length"||b&&(ne=="offset"||ne=="parent")||E&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||Ni(ne,U)))&&I.push(ne);return I}function xv(l){var u=l.length;return u?l[Nf(0,u-1)]:n}function Vx(l,u){return Cu(qn(l),dr(u,0,l.length))}function Ux(l){return Cu(qn(l))}function Cf(l,u,f){(f!==n&&!Us(l[u],f)||f===n&&!(u in l))&&Pi(l,u,f)}function ul(l,u,f){var v=l[u];(!(Mt.call(l,u)&&Us(v,f))||f===n&&!(u in l))&&Pi(l,u,f)}function fu(l,u){for(var f=l.length;f--;)if(Us(l[f][0],u))return f;return-1}function zx(l,u,f,v){return _o(l,function(b,E,O){u(v,b,f(b),O)}),v}function Mv(l,u){return l&&ci(u,bn(u),l)}function jx(l,u){return l&&ci(u,Zn(u),l)}function Pi(l,u,f){u=="__proto__"&&au?au(l,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):l[u]=f}function Ef(l,u){for(var f=-1,v=u.length,b=Z(v),E=l==null;++f<v;)b[f]=E?n:ap(l,u[f]);return b}function dr(l,u,f){return l===l&&(f!==n&&(l=l<=f?l:f),u!==n&&(l=l>=u?l:u)),l}function Ts(l,u,f,v,b,E){var O,I=u&p,U=u&g,ne=u&y;if(f&&(O=b?f(l,v,b,E):f(l)),O!==n)return O;if(!Zt(l))return l;var se=Xe(l);if(se){if(O=LM(l),!I)return qn(l,O)}else{var ie=Pn(l),De=ie==Pt||ie==A;if(Do(l))return Qv(l,I);if(ie==ee||ie==Ue||De&&!b){if(O=U||De?{}:v_(l),!I)return U?DM(l,jx(O,l)):wM(l,Mv(O,l))}else{if(!It[ie])return b?l:{};O=RM(l,ie,I)}}E||(E=new Vs);var Ae=E.get(l);if(Ae)return Ae;E.set(l,O),G_(l)?l.forEach(function(Be){O.add(Ts(Be,u,f,Be,l,E))}):z_(l)&&l.forEach(function(Be,at){O.set(at,Ts(Be,u,f,at,l,E))});var We=ne?U?Gf:jf:U?Zn:bn,it=se?n:We(l);return ws(it||l,function(Be,at){it&&(at=Be,Be=l[at]),ul(O,at,Ts(Be,u,f,at,l,E))}),O}function Gx(l){var u=bn(l);return function(f){return $v(f,l,u)}}function $v(l,u,f){var v=f.length;if(l==null)return!v;for(l=Nt(l);v--;){var b=f[v],E=u[b],O=l[b];if(O===n&&!(b in l)||!E(O))return!1}return!0}function Av(l,u,f){if(typeof l!="function")throw new Ds(r);return yl(function(){l.apply(n,f)},u)}function dl(l,u,f,v){var b=-1,E=Xc,O=!0,I=l.length,U=[],ne=u.length;if(!I)return U;f&&(u=zt(u,ds(f))),v?(E=ff,O=!1):u.length>=i&&(E=il,O=!1,u=new ur(u));e:for(;++b<I;){var se=l[b],ie=f==null?se:f(se);if(se=v||se!==0?se:0,O&&ie===ie){for(var De=ne;De--;)if(u[De]===ie)continue e;U.push(se)}else E(u,ie,v)||U.push(se)}return U}var _o=i_(li),Ov=i_(Mf,!0);function Kx(l,u){var f=!0;return _o(l,function(v,b,E){return f=!!u(v,b,E),f}),f}function pu(l,u,f){for(var v=-1,b=l.length;++v<b;){var E=l[v],O=u(E);if(O!=null&&(I===n?O===O&&!fs(O):f(O,I)))var I=O,U=E}return U}function qx(l,u,f,v){var b=l.length;for(f=Qe(f),f<0&&(f=-f>b?0:b+f),v=v===n||v>b?b:Qe(v),v<0&&(v+=b),v=f>v?0:q_(v);f<v;)l[f++]=u;return l}function Pv(l,u){var f=[];return _o(l,function(v,b,E){u(v,b,E)&&f.push(v)}),f}function xn(l,u,f,v,b){var E=-1,O=l.length;for(f||(f=FM),b||(b=[]);++E<O;){var I=l[E];u>0&&f(I)?u>1?xn(I,u-1,f,v,b):go(b,I):v||(b[b.length]=I)}return b}var xf=o_(),Lv=o_(!0);function li(l,u){return l&&xf(l,u,bn)}function Mf(l,u){return l&&Lv(l,u,bn)}function mu(l,u){return mo(u,function(f){return Fi(l[f])})}function hr(l,u){u=So(u,l);for(var f=0,v=u.length;l!=null&&f<v;)l=l[ui(u[f++])];return f&&f==v?l:n}function Rv(l,u,f){var v=u(l);return Xe(l)?v:go(v,f(l))}function Bn(l){return l==null?l===n?Le:re:lr&&lr in Nt(l)?AM(l):UM(l)}function $f(l,u){return l>u}function Xx(l,u){return l!=null&&Mt.call(l,u)}function Zx(l,u){return l!=null&&u in Nt(l)}function Jx(l,u,f){return l>=On(u,f)&&l<mn(u,f)}function Af(l,u,f){for(var v=f?ff:Xc,b=l[0].length,E=l.length,O=E,I=Z(E),U=1/0,ne=[];O--;){var se=l[O];O&&u&&(se=zt(se,ds(u))),U=On(se.length,U),I[O]=!f&&(u||b>=120&&se.length>=120)?new ur(O&&se):n}se=l[0];var ie=-1,De=I[0];e:for(;++ie<b&&ne.length<U;){var Ae=se[ie],We=u?u(Ae):Ae;if(Ae=f||Ae!==0?Ae:0,!(De?il(De,We):v(ne,We,f))){for(O=E;--O;){var it=I[O];if(!(it?il(it,We):v(l[O],We,f)))continue e}De&&De.push(We),ne.push(Ae)}}return ne}function Qx(l,u,f,v){return li(l,function(b,E,O){u(v,f(b),E,O)}),v}function hl(l,u,f){u=So(u,l),l=w_(l,u);var v=l==null?l:l[ui(Es(u))];return v==null?n:us(v,l,f)}function Nv(l){return tn(l)&&Bn(l)==Ue}function eM(l){return tn(l)&&Bn(l)==qe}function tM(l){return tn(l)&&Bn(l)==_e}function fl(l,u,f,v,b){return l===u?!0:l==null||u==null||!tn(l)&&!tn(u)?l!==l&&u!==u:nM(l,u,f,v,fl,b)}function nM(l,u,f,v,b,E){var O=Xe(l),I=Xe(u),U=O?st:Pn(l),ne=I?st:Pn(u);U=U==Ue?ee:U,ne=ne==Ue?ee:ne;var se=U==ee,ie=ne==ee,De=U==ne;if(De&&Do(l)){if(!Do(u))return!1;O=!0,se=!1}if(De&&!se)return E||(E=new Vs),O||da(l)?m_(l,u,f,v,b,E):MM(l,u,U,f,v,b,E);if(!(f&_)){var Ae=se&&Mt.call(l,"__wrapped__"),We=ie&&Mt.call(u,"__wrapped__");if(Ae||We){var it=Ae?l.value():l,Be=We?u.value():u;return E||(E=new Vs),b(it,Be,f,v,E)}}return De?(E||(E=new Vs),$M(l,u,f,v,b,E)):!1}function sM(l){return tn(l)&&Pn(l)==P}function Of(l,u,f,v){var b=f.length,E=b,O=!v;if(l==null)return!E;for(l=Nt(l);b--;){var I=f[b];if(O&&I[2]?I[1]!==l[I[0]]:!(I[0]in l))return!1}for(;++b<E;){I=f[b];var U=I[0],ne=l[U],se=I[1];if(O&&I[2]){if(ne===n&&!(U in l))return!1}else{var ie=new Vs;if(v)var De=v(ne,se,U,l,u,ie);if(!(De===n?fl(se,ne,_|T,v,ie):De))return!1}}return!0}function Fv(l){if(!Zt(l)||YM(l))return!1;var u=Fi(l)?sx:GC;return u.test(pr(l))}function iM(l){return tn(l)&&Bn(l)==ve}function oM(l){return tn(l)&&Pn(l)==pe}function rM(l){return tn(l)&&Ou(l.length)&&!!Ht[Bn(l)]}function Iv(l){return typeof l=="function"?l:l==null?Jn:typeof l=="object"?Xe(l)?Wv(l[0],l[1]):Hv(l):rb(l)}function Pf(l){if(!gl(l))return cx(l);var u=[];for(var f in Nt(l))Mt.call(l,f)&&f!="constructor"&&u.push(f);return u}function aM(l){if(!Zt(l))return VM(l);var u=gl(l),f=[];for(var v in l)v=="constructor"&&(u||!Mt.call(l,v))||f.push(v);return f}function Lf(l,u){return l<u}function Yv(l,u){var f=-1,v=Xn(l)?Z(l.length):[];return _o(l,function(b,E,O){v[++f]=u(b,E,O)}),v}function Hv(l){var u=qf(l);return u.length==1&&u[0][2]?b_(u[0][0],u[0][1]):function(f){return f===l||Of(f,l,u)}}function Wv(l,u){return Zf(l)&&__(u)?b_(ui(l),u):function(f){var v=ap(f,l);return v===n&&v===u?lp(f,l):fl(u,v,_|T)}}function gu(l,u,f,v,b){l!==u&&xf(u,function(E,O){if(b||(b=new Vs),Zt(E))lM(l,u,O,f,gu,v,b);else{var I=v?v(Qf(l,O),E,O+"",l,u,b):n;I===n&&(I=E),Cf(l,O,I)}},Zn)}function lM(l,u,f,v,b,E,O){var I=Qf(l,f),U=Qf(u,f),ne=O.get(U);if(ne){Cf(l,f,ne);return}var se=E?E(I,U,f+"",l,u,O):n,ie=se===n;if(ie){var De=Xe(U),Ae=!De&&Do(U),We=!De&&!Ae&&da(U);se=U,De||Ae||We?Xe(I)?se=I:rn(I)?se=qn(I):Ae?(ie=!1,se=Qv(U,!0)):We?(ie=!1,se=e_(U,!0)):se=[]:vl(U)||mr(U)?(se=I,mr(I)?se=X_(I):(!Zt(I)||Fi(I))&&(se=v_(U))):ie=!1}ie&&(O.set(U,se),b(se,U,v,E,O),O.delete(U)),Cf(l,f,se)}function Bv(l,u){var f=l.length;if(f)return u+=u<0?f:0,Ni(u,f)?l[u]:n}function Vv(l,u,f){u.length?u=zt(u,function(E){return Xe(E)?function(O){return hr(O,E.length===1?E[0]:E)}:E}):u=[Jn];var v=-1;u=zt(u,ds(He()));var b=Yv(l,function(E,O,I){var U=zt(u,function(ne){return ne(E)});return{criteria:U,index:++v,value:E}});return RE(b,function(E,O){return SM(E,O,f)})}function cM(l,u){return Uv(l,u,function(f,v){return lp(l,v)})}function Uv(l,u,f){for(var v=-1,b=u.length,E={};++v<b;){var O=u[v],I=hr(l,O);f(I,O)&&pl(E,So(O,l),I)}return E}function uM(l){return function(u){return hr(u,l)}}function Rf(l,u,f,v){var b=v?LE:ea,E=-1,O=u.length,I=l;for(l===u&&(u=qn(u)),f&&(I=zt(l,ds(f)));++E<O;)for(var U=0,ne=u[E],se=f?f(ne):ne;(U=b(I,se,U,v))>-1;)I!==l&&ru.call(I,U,1),ru.call(l,U,1);return l}function zv(l,u){for(var f=l?u.length:0,v=f-1;f--;){var b=u[f];if(f==v||b!==E){var E=b;Ni(b)?ru.call(l,b,1):Yf(l,b)}}return l}function Nf(l,u){return l+cu(Tv()*(u-l+1))}function dM(l,u,f,v){for(var b=-1,E=mn(lu((u-l)/(f||1)),0),O=Z(E);E--;)O[v?E:++b]=l,l+=f;return O}function Ff(l,u){var f="";if(!l||u<1||u>Se)return f;do u%2&&(f+=l),u=cu(u/2),u&&(l+=l);while(u);return f}function rt(l,u){return ep(S_(l,u,Jn),l+"")}function hM(l){return xv(ha(l))}function fM(l,u){var f=ha(l);return Cu(f,dr(u,0,f.length))}function pl(l,u,f,v){if(!Zt(l))return l;u=So(u,l);for(var b=-1,E=u.length,O=E-1,I=l;I!=null&&++b<E;){var U=ui(u[b]),ne=f;if(U==="__proto__"||U==="constructor"||U==="prototype")return l;if(b!=O){var se=I[U];ne=v?v(se,U,I):n,ne===n&&(ne=Zt(se)?se:Ni(u[b+1])?[]:{})}ul(I,U,ne),I=I[U]}return l}var jv=uu?function(l,u){return uu.set(l,u),l}:Jn,pM=au?function(l,u){return au(l,"toString",{configurable:!0,enumerable:!1,value:up(u),writable:!0})}:Jn;function mM(l){return Cu(ha(l))}function Cs(l,u,f){var v=-1,b=l.length;u<0&&(u=-u>b?0:b+u),f=f>b?b:f,f<0&&(f+=b),b=u>f?0:f-u>>>0,u>>>=0;for(var E=Z(b);++v<b;)E[v]=l[v+u];return E}function gM(l,u){var f;return _o(l,function(v,b,E){return f=u(v,b,E),!f}),!!f}function yu(l,u,f){var v=0,b=l==null?v:l.length;if(typeof u=="number"&&u===u&&b<=ot){for(;v<b;){var E=v+b>>>1,O=l[E];O!==null&&!fs(O)&&(f?O<=u:O<u)?v=E+1:b=E}return b}return If(l,u,Jn,f)}function If(l,u,f,v){var b=0,E=l==null?0:l.length;if(E===0)return 0;u=f(u);for(var O=u!==u,I=u===null,U=fs(u),ne=u===n;b<E;){var se=cu((b+E)/2),ie=f(l[se]),De=ie!==n,Ae=ie===null,We=ie===ie,it=fs(ie);if(O)var Be=v||We;else ne?Be=We&&(v||De):I?Be=We&&De&&(v||!Ae):U?Be=We&&De&&!Ae&&(v||!it):Ae||it?Be=!1:Be=v?ie<=u:ie<u;Be?b=se+1:E=se}return On(E,Ye)}function Gv(l,u){for(var f=-1,v=l.length,b=0,E=[];++f<v;){var O=l[f],I=u?u(O):O;if(!f||!Us(I,U)){var U=I;E[b++]=O===0?0:O}}return E}function Kv(l){return typeof l=="number"?l:fs(l)?xe:+l}function hs(l){if(typeof l=="string")return l;if(Xe(l))return zt(l,hs)+"";if(fs(l))return Cv?Cv.call(l):"";var u=l+"";return u=="0"&&1/l==-me?"-0":u}function bo(l,u,f){var v=-1,b=Xc,E=l.length,O=!0,I=[],U=I;if(f)O=!1,b=ff;else if(E>=i){var ne=u?null:EM(l);if(ne)return Jc(ne);O=!1,b=il,U=new ur}else U=u?[]:I;e:for(;++v<E;){var se=l[v],ie=u?u(se):se;if(se=f||se!==0?se:0,O&&ie===ie){for(var De=U.length;De--;)if(U[De]===ie)continue e;u&&U.push(ie),I.push(se)}else b(U,ie,f)||(U!==I&&U.push(ie),I.push(se))}return I}function Yf(l,u){return u=So(u,l),l=w_(l,u),l==null||delete l[ui(Es(u))]}function qv(l,u,f,v){return pl(l,u,f(hr(l,u)),v)}function vu(l,u,f,v){for(var b=l.length,E=v?b:-1;(v?E--:++E<b)&&u(l[E],E,l););return f?Cs(l,v?0:E,v?E+1:b):Cs(l,v?E+1:0,v?b:E)}function Xv(l,u){var f=l;return f instanceof lt&&(f=f.value()),pf(u,function(v,b){return b.func.apply(b.thisArg,go([v],b.args))},f)}function Hf(l,u,f){var v=l.length;if(v<2)return v?bo(l[0]):[];for(var b=-1,E=Z(v);++b<v;)for(var O=l[b],I=-1;++I<v;)I!=b&&(E[b]=dl(E[b]||O,l[I],u,f));return bo(xn(E,1),u,f)}function Zv(l,u,f){for(var v=-1,b=l.length,E=u.length,O={};++v<b;){var I=v<E?u[v]:n;f(O,l[v],I)}return O}function Wf(l){return rn(l)?l:[]}function Bf(l){return typeof l=="function"?l:Jn}function So(l,u){return Xe(l)?l:Zf(l,u)?[l]:C_(Et(l))}var yM=rt;function wo(l,u,f){var v=l.length;return f=f===n?v:f,!u&&f>=v?l:Cs(l,u,f)}var Jv=ix||function(l){return En.clearTimeout(l)};function Qv(l,u){if(u)return l.slice();var f=l.length,v=bv?bv(f):new l.constructor(f);return l.copy(v),v}function Vf(l){var u=new l.constructor(l.byteLength);return new iu(u).set(new iu(l)),u}function vM(l,u){var f=u?Vf(l.buffer):l.buffer;return new l.constructor(f,l.byteOffset,l.byteLength)}function _M(l){var u=new l.constructor(l.source,Ny.exec(l));return u.lastIndex=l.lastIndex,u}function bM(l){return cl?Nt(cl.call(l)):{}}function e_(l,u){var f=u?Vf(l.buffer):l.buffer;return new l.constructor(f,l.byteOffset,l.length)}function t_(l,u){if(l!==u){var f=l!==n,v=l===null,b=l===l,E=fs(l),O=u!==n,I=u===null,U=u===u,ne=fs(u);if(!I&&!ne&&!E&&l>u||E&&O&&U&&!I&&!ne||v&&O&&U||!f&&U||!b)return 1;if(!v&&!E&&!ne&&l<u||ne&&f&&b&&!v&&!E||I&&f&&b||!O&&b||!U)return-1}return 0}function SM(l,u,f){for(var v=-1,b=l.criteria,E=u.criteria,O=b.length,I=f.length;++v<O;){var U=t_(b[v],E[v]);if(U){if(v>=I)return U;var ne=f[v];return U*(ne=="desc"?-1:1)}}return l.index-u.index}function n_(l,u,f,v){for(var b=-1,E=l.length,O=f.length,I=-1,U=u.length,ne=mn(E-O,0),se=Z(U+ne),ie=!v;++I<U;)se[I]=u[I];for(;++b<O;)(ie||b<E)&&(se[f[b]]=l[b]);for(;ne--;)se[I++]=l[b++];return se}function s_(l,u,f,v){for(var b=-1,E=l.length,O=-1,I=f.length,U=-1,ne=u.length,se=mn(E-I,0),ie=Z(se+ne),De=!v;++b<se;)ie[b]=l[b];for(var Ae=b;++U<ne;)ie[Ae+U]=u[U];for(;++O<I;)(De||b<E)&&(ie[Ae+f[O]]=l[b++]);return ie}function qn(l,u){var f=-1,v=l.length;for(u||(u=Z(v));++f<v;)u[f]=l[f];return u}function ci(l,u,f,v){var b=!f;f||(f={});for(var E=-1,O=u.length;++E<O;){var I=u[E],U=v?v(f[I],l[I],I,f,l):n;U===n&&(U=l[I]),b?Pi(f,I,U):ul(f,I,U)}return f}function wM(l,u){return ci(l,Xf(l),u)}function DM(l,u){return ci(l,g_(l),u)}function _u(l,u){return function(f,v){var b=Xe(f)?xE:zx,E=u?u():{};return b(f,l,He(v,2),E)}}function la(l){return rt(function(u,f){var v=-1,b=f.length,E=b>1?f[b-1]:n,O=b>2?f[2]:n;for(E=l.length>3&&typeof E=="function"?(b--,E):n,O&&Vn(f[0],f[1],O)&&(E=b<3?n:E,b=1),u=Nt(u);++v<b;){var I=f[v];I&&l(u,I,v,E)}return u})}function i_(l,u){return function(f,v){if(f==null)return f;if(!Xn(f))return l(f,v);for(var b=f.length,E=u?b:-1,O=Nt(f);(u?E--:++E<b)&&v(O[E],E,O)!==!1;);return f}}function o_(l){return function(u,f,v){for(var b=-1,E=Nt(u),O=v(u),I=O.length;I--;){var U=O[l?I:++b];if(f(E[U],U,E)===!1)break}return u}}function kM(l,u,f){var v=u&w,b=ml(l);function E(){var O=this&&this!==En&&this instanceof E?b:l;return O.apply(v?f:this,arguments)}return E}function r_(l){return function(u){u=Et(u);var f=ta(u)?Bs(u):n,v=f?f[0]:u.charAt(0),b=f?wo(f,1).join(""):u.slice(1);return v[l]()+b}}function ca(l){return function(u){return pf(ib(sb(u).replace(pE,"")),l,"")}}function ml(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=aa(l.prototype),v=l.apply(f,u);return Zt(v)?v:f}}function TM(l,u,f){var v=ml(l);function b(){for(var E=arguments.length,O=Z(E),I=E,U=ua(b);I--;)O[I]=arguments[I];var ne=E<3&&O[0]!==U&&O[E-1]!==U?[]:yo(O,U);if(E-=ne.length,E<f)return d_(l,u,bu,b.placeholder,n,O,ne,n,n,f-E);var se=this&&this!==En&&this instanceof b?v:l;return us(se,this,O)}return b}function a_(l){return function(u,f,v){var b=Nt(u);if(!Xn(u)){var E=He(f,3);u=bn(u),f=function(I){return E(b[I],I,b)}}var O=l(u,f,v);return O>-1?b[E?u[O]:O]:n}}function l_(l){return Ri(function(u){var f=u.length,v=f,b=ks.prototype.thru;for(l&&u.reverse();v--;){var E=u[v];if(typeof E!="function")throw new Ds(r);if(b&&!O&&ku(E)=="wrapper")var O=new ks([],!0)}for(v=O?v:f;++v<f;){E=u[v];var I=ku(E),U=I=="wrapper"?Kf(E):n;U&&Jf(U[0])&&U[1]==(W|$|F|z)&&!U[4].length&&U[9]==1?O=O[ku(U[0])].apply(O,U[3]):O=E.length==1&&Jf(E)?O[I]():O.thru(E)}return function(){var ne=arguments,se=ne[0];if(O&&ne.length==1&&Xe(se))return O.plant(se).value();for(var ie=0,De=f?u[ie].apply(this,ne):se;++ie<f;)De=u[ie].call(this,De);return De}})}function bu(l,u,f,v,b,E,O,I,U,ne){var se=u&W,ie=u&w,De=u&k,Ae=u&($|L),We=u&Y,it=De?n:ml(l);function Be(){for(var at=arguments.length,dt=Z(at),ps=at;ps--;)dt[ps]=arguments[ps];if(Ae)var Un=ua(Be),ms=FE(dt,Un);if(v&&(dt=n_(dt,v,b,Ae)),E&&(dt=s_(dt,E,O,Ae)),at-=ms,Ae&&at<ne){var an=yo(dt,Un);return d_(l,u,bu,Be.placeholder,f,dt,an,I,U,ne-at)}var zs=ie?f:this,Yi=De?zs[l]:l;return at=dt.length,I?dt=zM(dt,I):We&&at>1&&dt.reverse(),se&&U<at&&(dt.length=U),this&&this!==En&&this instanceof Be&&(Yi=it||ml(Yi)),Yi.apply(zs,dt)}return Be}function c_(l,u){return function(f,v){return Qx(f,l,u(v),{})}}function Su(l,u){return function(f,v){var b;if(f===n&&v===n)return u;if(f!==n&&(b=f),v!==n){if(b===n)return v;typeof f=="string"||typeof v=="string"?(f=hs(f),v=hs(v)):(f=Kv(f),v=Kv(v)),b=l(f,v)}return b}}function Uf(l){return Ri(function(u){return u=zt(u,ds(He())),rt(function(f){var v=this;return l(u,function(b){return us(b,v,f)})})})}function wu(l,u){u=u===n?" ":hs(u);var f=u.length;if(f<2)return f?Ff(u,l):u;var v=Ff(u,lu(l/na(u)));return ta(u)?wo(Bs(v),0,l).join(""):v.slice(0,l)}function CM(l,u,f,v){var b=u&w,E=ml(l);function O(){for(var I=-1,U=arguments.length,ne=-1,se=v.length,ie=Z(se+U),De=this&&this!==En&&this instanceof O?E:l;++ne<se;)ie[ne]=v[ne];for(;U--;)ie[ne++]=arguments[++I];return us(De,b?f:this,ie)}return O}function u_(l){return function(u,f,v){return v&&typeof v!="number"&&Vn(u,f,v)&&(f=v=n),u=Ii(u),f===n?(f=u,u=0):f=Ii(f),v=v===n?u<f?1:-1:Ii(v),dM(u,f,v,l)}}function Du(l){return function(u,f){return typeof u=="string"&&typeof f=="string"||(u=xs(u),f=xs(f)),l(u,f)}}function d_(l,u,f,v,b,E,O,I,U,ne){var se=u&$,ie=se?O:n,De=se?n:O,Ae=se?E:n,We=se?n:E;u|=se?F:R,u&=~(se?R:F),u&x||(u&=~(w|k));var it=[l,u,b,Ae,ie,We,De,I,U,ne],Be=f.apply(n,it);return Jf(l)&&D_(Be,it),Be.placeholder=v,k_(Be,l,u)}function zf(l){var u=pn[l];return function(f,v){if(f=xs(f),v=v==null?0:On(Qe(v),292),v&&kv(f)){var b=(Et(f)+"e").split("e"),E=u(b[0]+"e"+(+b[1]+v));return b=(Et(E)+"e").split("e"),+(b[0]+"e"+(+b[1]-v))}return u(f)}}var EM=oa&&1/Jc(new oa([,-0]))[1]==me?function(l){return new oa(l)}:fp;function h_(l){return function(u){var f=Pn(u);return f==P?Sf(u):f==pe?UE(u):NE(u,l(u))}}function Li(l,u,f,v,b,E,O,I){var U=u&k;if(!U&&typeof l!="function")throw new Ds(r);var ne=v?v.length:0;if(ne||(u&=~(F|R),v=b=n),O=O===n?O:mn(Qe(O),0),I=I===n?I:Qe(I),ne-=b?b.length:0,u&R){var se=v,ie=b;v=b=n}var De=U?n:Kf(l),Ae=[l,u,f,v,b,se,ie,E,O,I];if(De&&BM(Ae,De),l=Ae[0],u=Ae[1],f=Ae[2],v=Ae[3],b=Ae[4],I=Ae[9]=Ae[9]===n?U?0:l.length:mn(Ae[9]-ne,0),!I&&u&($|L)&&(u&=~($|L)),!u||u==w)var We=kM(l,u,f);else u==$||u==L?We=TM(l,u,I):(u==F||u==(w|F))&&!b.length?We=CM(l,u,f,v):We=bu.apply(n,Ae);var it=De?jv:D_;return k_(it(We,Ae),l,u)}function f_(l,u,f,v){return l===n||Us(l,ia[f])&&!Mt.call(v,f)?u:l}function p_(l,u,f,v,b,E){return Zt(l)&&Zt(u)&&(E.set(u,l),gu(l,u,n,p_,E),E.delete(u)),l}function xM(l){return vl(l)?n:l}function m_(l,u,f,v,b,E){var O=f&_,I=l.length,U=u.length;if(I!=U&&!(O&&U>I))return!1;var ne=E.get(l),se=E.get(u);if(ne&&se)return ne==u&&se==l;var ie=-1,De=!0,Ae=f&T?new ur:n;for(E.set(l,u),E.set(u,l);++ie<I;){var We=l[ie],it=u[ie];if(v)var Be=O?v(it,We,ie,u,l,E):v(We,it,ie,l,u,E);if(Be!==n){if(Be)continue;De=!1;break}if(Ae){if(!mf(u,function(at,dt){if(!il(Ae,dt)&&(We===at||b(We,at,f,v,E)))return Ae.push(dt)})){De=!1;break}}else if(!(We===it||b(We,it,f,v,E))){De=!1;break}}return E.delete(l),E.delete(u),De}function MM(l,u,f,v,b,E,O){switch(f){case St:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case qe:return!(l.byteLength!=u.byteLength||!E(new iu(l),new iu(u)));case be:case _e:case q:return Us(+l,+u);case mt:return l.name==u.name&&l.message==u.message;case ve:case ae:return l==u+"";case P:var I=Sf;case pe:var U=v&_;if(I||(I=Jc),l.size!=u.size&&!U)return!1;var ne=O.get(l);if(ne)return ne==u;v|=T,O.set(l,u);var se=m_(I(l),I(u),v,b,E,O);return O.delete(l),se;case ke:if(cl)return cl.call(l)==cl.call(u)}return!1}function $M(l,u,f,v,b,E){var O=f&_,I=jf(l),U=I.length,ne=jf(u),se=ne.length;if(U!=se&&!O)return!1;for(var ie=U;ie--;){var De=I[ie];if(!(O?De in u:Mt.call(u,De)))return!1}var Ae=E.get(l),We=E.get(u);if(Ae&&We)return Ae==u&&We==l;var it=!0;E.set(l,u),E.set(u,l);for(var Be=O;++ie<U;){De=I[ie];var at=l[De],dt=u[De];if(v)var ps=O?v(dt,at,De,u,l,E):v(at,dt,De,l,u,E);if(!(ps===n?at===dt||b(at,dt,f,v,E):ps)){it=!1;break}Be||(Be=De=="constructor")}if(it&&!Be){var Un=l.constructor,ms=u.constructor;Un!=ms&&"constructor"in l&&"constructor"in u&&!(typeof Un=="function"&&Un instanceof Un&&typeof ms=="function"&&ms instanceof ms)&&(it=!1)}return E.delete(l),E.delete(u),it}function Ri(l){return ep(S_(l,n,$_),l+"")}function jf(l){return Rv(l,bn,Xf)}function Gf(l){return Rv(l,Zn,g_)}var Kf=uu?function(l){return uu.get(l)}:fp;function ku(l){for(var u=l.name+"",f=ra[u],v=Mt.call(ra,u)?f.length:0;v--;){var b=f[v],E=b.func;if(E==null||E==l)return b.name}return u}function ua(l){var u=Mt.call(C,"placeholder")?C:l;return u.placeholder}function He(){var l=C.iteratee||dp;return l=l===dp?Iv:l,arguments.length?l(arguments[0],arguments[1]):l}function Tu(l,u){var f=l.__data__;return IM(u)?f[typeof u=="string"?"string":"hash"]:f.map}function qf(l){for(var u=bn(l),f=u.length;f--;){var v=u[f],b=l[v];u[f]=[v,b,__(b)]}return u}function fr(l,u){var f=WE(l,u);return Fv(f)?f:n}function AM(l){var u=Mt.call(l,lr),f=l[lr];try{l[lr]=n;var v=!0}catch{}var b=nu.call(l);return v&&(u?l[lr]=f:delete l[lr]),b}var Xf=Df?function(l){return l==null?[]:(l=Nt(l),mo(Df(l),function(u){return wv.call(l,u)}))}:pp,g_=Df?function(l){for(var u=[];l;)go(u,Xf(l)),l=ou(l);return u}:pp,Pn=Bn;(kf&&Pn(new kf(new ArrayBuffer(1)))!=St||rl&&Pn(new rl)!=P||Tf&&Pn(Tf.resolve())!=he||oa&&Pn(new oa)!=pe||al&&Pn(new al)!=Me)&&(Pn=function(l){var u=Bn(l),f=u==ee?l.constructor:n,v=f?pr(f):"";if(v)switch(v){case fx:return St;case px:return P;case mx:return he;case gx:return pe;case yx:return Me}return u});function OM(l,u,f){for(var v=-1,b=f.length;++v<b;){var E=f[v],O=E.size;switch(E.type){case"drop":l+=O;break;case"dropRight":u-=O;break;case"take":u=On(u,l+O);break;case"takeRight":l=mn(l,u-O);break}}return{start:l,end:u}}function PM(l){var u=l.match(YC);return u?u[1].split(HC):[]}function y_(l,u,f){u=So(u,l);for(var v=-1,b=u.length,E=!1;++v<b;){var O=ui(u[v]);if(!(E=l!=null&&f(l,O)))break;l=l[O]}return E||++v!=b?E:(b=l==null?0:l.length,!!b&&Ou(b)&&Ni(O,b)&&(Xe(l)||mr(l)))}function LM(l){var u=l.length,f=new l.constructor(u);return u&&typeof l[0]=="string"&&Mt.call(l,"index")&&(f.index=l.index,f.input=l.input),f}function v_(l){return typeof l.constructor=="function"&&!gl(l)?aa(ou(l)):{}}function RM(l,u,f){var v=l.constructor;switch(u){case qe:return Vf(l);case be:case _e:return new v(+l);case St:return vM(l,f);case gt:case en:case Wn:case ai:case Zr:case $i:case Jr:case Cn:case Kn:return e_(l,f);case P:return new v;case q:case ae:return new v(l);case ve:return _M(l);case pe:return new v;case ke:return bM(l)}}function NM(l,u){var f=u.length;if(!f)return l;var v=f-1;return u[v]=(f>1?"& ":"")+u[v],u=u.join(f>2?", ":" "),l.replace(IC,`{
/* [wrapped with `+u+`] */
`)}function FM(l){return Xe(l)||mr(l)||!!(Dv&&l&&l[Dv])}function Ni(l,u){var f=typeof l;return u=u??Se,!!u&&(f=="number"||f!="symbol"&&qC.test(l))&&l>-1&&l%1==0&&l<u}function Vn(l,u,f){if(!Zt(f))return!1;var v=typeof u;return(v=="number"?Xn(f)&&Ni(u,f.length):v=="string"&&u in f)?Us(f[u],l):!1}function Zf(l,u){if(Xe(l))return!1;var f=typeof l;return f=="number"||f=="symbol"||f=="boolean"||l==null||fs(l)?!0:LC.test(l)||!PC.test(l)||u!=null&&l in Nt(u)}function IM(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function Jf(l){var u=ku(l),f=C[u];if(typeof f!="function"||!(u in lt.prototype))return!1;if(l===f)return!0;var v=Kf(f);return!!v&&l===v[0]}function YM(l){return!!_v&&_v in l}var HM=eu?Fi:mp;function gl(l){var u=l&&l.constructor,f=typeof u=="function"&&u.prototype||ia;return l===f}function __(l){return l===l&&!Zt(l)}function b_(l,u){return function(f){return f==null?!1:f[l]===u&&(u!==n||l in Nt(f))}}function WM(l){var u=$u(l,function(v){return f.size===d&&f.clear(),v}),f=u.cache;return u}function BM(l,u){var f=l[1],v=u[1],b=f|v,E=b<(w|k|W),O=v==W&&f==$||v==W&&f==z&&l[7].length<=u[8]||v==(W|z)&&u[7].length<=u[8]&&f==$;if(!(E||O))return l;v&w&&(l[2]=u[2],b|=f&w?0:x);var I=u[3];if(I){var U=l[3];l[3]=U?n_(U,I,u[4]):I,l[4]=U?yo(l[3],h):u[4]}return I=u[5],I&&(U=l[5],l[5]=U?s_(U,I,u[6]):I,l[6]=U?yo(l[5],h):u[6]),I=u[7],I&&(l[7]=I),v&W&&(l[8]=l[8]==null?u[8]:On(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=b,l}function VM(l){var u=[];if(l!=null)for(var f in Nt(l))u.push(f);return u}function UM(l){return nu.call(l)}function S_(l,u,f){return u=mn(u===n?l.length-1:u,0),function(){for(var v=arguments,b=-1,E=mn(v.length-u,0),O=Z(E);++b<E;)O[b]=v[u+b];b=-1;for(var I=Z(u+1);++b<u;)I[b]=v[b];return I[u]=f(O),us(l,this,I)}}function w_(l,u){return u.length<2?l:hr(l,Cs(u,0,-1))}function zM(l,u){for(var f=l.length,v=On(u.length,f),b=qn(l);v--;){var E=u[v];l[v]=Ni(E,f)?b[E]:n}return l}function Qf(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var D_=T_(jv),yl=rx||function(l,u){return En.setTimeout(l,u)},ep=T_(pM);function k_(l,u,f){var v=u+"";return ep(l,NM(v,jM(PM(v),f)))}function T_(l){var u=0,f=0;return function(){var v=ux(),b=J-(v-f);if(f=v,b>0){if(++u>=j)return arguments[0]}else u=0;return l.apply(n,arguments)}}function Cu(l,u){var f=-1,v=l.length,b=v-1;for(u=u===n?v:u;++f<u;){var E=Nf(f,b),O=l[E];l[E]=l[f],l[f]=O}return l.length=u,l}var C_=WM(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(RC,function(f,v,b,E){u.push(b?E.replace(VC,"$1"):v||f)}),u});function ui(l){if(typeof l=="string"||fs(l))return l;var u=l+"";return u=="0"&&1/l==-me?"-0":u}function pr(l){if(l!=null){try{return tu.call(l)}catch{}try{return l+""}catch{}}return""}function jM(l,u){return ws(fn,function(f){var v="_."+f[0];u&f[1]&&!Xc(l,v)&&l.push(v)}),l.sort()}function E_(l){if(l instanceof lt)return l.clone();var u=new ks(l.__wrapped__,l.__chain__);return u.__actions__=qn(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function GM(l,u,f){(f?Vn(l,u,f):u===n)?u=1:u=mn(Qe(u),0);var v=l==null?0:l.length;if(!v||u<1)return[];for(var b=0,E=0,O=Z(lu(v/u));b<v;)O[E++]=Cs(l,b,b+=u);return O}function KM(l){for(var u=-1,f=l==null?0:l.length,v=0,b=[];++u<f;){var E=l[u];E&&(b[v++]=E)}return b}function qM(){var l=arguments.length;if(!l)return[];for(var u=Z(l-1),f=arguments[0],v=l;v--;)u[v-1]=arguments[v];return go(Xe(f)?qn(f):[f],xn(u,1))}var XM=rt(function(l,u){return rn(l)?dl(l,xn(u,1,rn,!0)):[]}),ZM=rt(function(l,u){var f=Es(u);return rn(f)&&(f=n),rn(l)?dl(l,xn(u,1,rn,!0),He(f,2)):[]}),JM=rt(function(l,u){var f=Es(u);return rn(f)&&(f=n),rn(l)?dl(l,xn(u,1,rn,!0),n,f):[]});function QM(l,u,f){var v=l==null?0:l.length;return v?(u=f||u===n?1:Qe(u),Cs(l,u<0?0:u,v)):[]}function e$(l,u,f){var v=l==null?0:l.length;return v?(u=f||u===n?1:Qe(u),u=v-u,Cs(l,0,u<0?0:u)):[]}function t$(l,u){return l&&l.length?vu(l,He(u,3),!0,!0):[]}function n$(l,u){return l&&l.length?vu(l,He(u,3),!0):[]}function s$(l,u,f,v){var b=l==null?0:l.length;return b?(f&&typeof f!="number"&&Vn(l,u,f)&&(f=0,v=b),qx(l,u,f,v)):[]}function x_(l,u,f){var v=l==null?0:l.length;if(!v)return-1;var b=f==null?0:Qe(f);return b<0&&(b=mn(v+b,0)),Zc(l,He(u,3),b)}function M_(l,u,f){var v=l==null?0:l.length;if(!v)return-1;var b=v-1;return f!==n&&(b=Qe(f),b=f<0?mn(v+b,0):On(b,v-1)),Zc(l,He(u,3),b,!0)}function $_(l){var u=l==null?0:l.length;return u?xn(l,1):[]}function i$(l){var u=l==null?0:l.length;return u?xn(l,me):[]}function o$(l,u){var f=l==null?0:l.length;return f?(u=u===n?1:Qe(u),xn(l,u)):[]}function r$(l){for(var u=-1,f=l==null?0:l.length,v={};++u<f;){var b=l[u];v[b[0]]=b[1]}return v}function A_(l){return l&&l.length?l[0]:n}function a$(l,u,f){var v=l==null?0:l.length;if(!v)return-1;var b=f==null?0:Qe(f);return b<0&&(b=mn(v+b,0)),ea(l,u,b)}function l$(l){var u=l==null?0:l.length;return u?Cs(l,0,-1):[]}var c$=rt(function(l){var u=zt(l,Wf);return u.length&&u[0]===l[0]?Af(u):[]}),u$=rt(function(l){var u=Es(l),f=zt(l,Wf);return u===Es(f)?u=n:f.pop(),f.length&&f[0]===l[0]?Af(f,He(u,2)):[]}),d$=rt(function(l){var u=Es(l),f=zt(l,Wf);return u=typeof u=="function"?u:n,u&&f.pop(),f.length&&f[0]===l[0]?Af(f,n,u):[]});function h$(l,u){return l==null?"":lx.call(l,u)}function Es(l){var u=l==null?0:l.length;return u?l[u-1]:n}function f$(l,u,f){var v=l==null?0:l.length;if(!v)return-1;var b=v;return f!==n&&(b=Qe(f),b=b<0?mn(v+b,0):On(b,v-1)),u===u?jE(l,u,b):Zc(l,dv,b,!0)}function p$(l,u){return l&&l.length?Bv(l,Qe(u)):n}var m$=rt(O_);function O_(l,u){return l&&l.length&&u&&u.length?Rf(l,u):l}function g$(l,u,f){return l&&l.length&&u&&u.length?Rf(l,u,He(f,2)):l}function y$(l,u,f){return l&&l.length&&u&&u.length?Rf(l,u,n,f):l}var v$=Ri(function(l,u){var f=l==null?0:l.length,v=Ef(l,u);return zv(l,zt(u,function(b){return Ni(b,f)?+b:b}).sort(t_)),v});function _$(l,u){var f=[];if(!(l&&l.length))return f;var v=-1,b=[],E=l.length;for(u=He(u,3);++v<E;){var O=l[v];u(O,v,l)&&(f.push(O),b.push(v))}return zv(l,b),f}function tp(l){return l==null?l:hx.call(l)}function b$(l,u,f){var v=l==null?0:l.length;return v?(f&&typeof f!="number"&&Vn(l,u,f)?(u=0,f=v):(u=u==null?0:Qe(u),f=f===n?v:Qe(f)),Cs(l,u,f)):[]}function S$(l,u){return yu(l,u)}function w$(l,u,f){return If(l,u,He(f,2))}function D$(l,u){var f=l==null?0:l.length;if(f){var v=yu(l,u);if(v<f&&Us(l[v],u))return v}return-1}function k$(l,u){return yu(l,u,!0)}function T$(l,u,f){return If(l,u,He(f,2),!0)}function C$(l,u){var f=l==null?0:l.length;if(f){var v=yu(l,u,!0)-1;if(Us(l[v],u))return v}return-1}function E$(l){return l&&l.length?Gv(l):[]}function x$(l,u){return l&&l.length?Gv(l,He(u,2)):[]}function M$(l){var u=l==null?0:l.length;return u?Cs(l,1,u):[]}function $$(l,u,f){return l&&l.length?(u=f||u===n?1:Qe(u),Cs(l,0,u<0?0:u)):[]}function A$(l,u,f){var v=l==null?0:l.length;return v?(u=f||u===n?1:Qe(u),u=v-u,Cs(l,u<0?0:u,v)):[]}function O$(l,u){return l&&l.length?vu(l,He(u,3),!1,!0):[]}function P$(l,u){return l&&l.length?vu(l,He(u,3)):[]}var L$=rt(function(l){return bo(xn(l,1,rn,!0))}),R$=rt(function(l){var u=Es(l);return rn(u)&&(u=n),bo(xn(l,1,rn,!0),He(u,2))}),N$=rt(function(l){var u=Es(l);return u=typeof u=="function"?u:n,bo(xn(l,1,rn,!0),n,u)});function F$(l){return l&&l.length?bo(l):[]}function I$(l,u){return l&&l.length?bo(l,He(u,2)):[]}function Y$(l,u){return u=typeof u=="function"?u:n,l&&l.length?bo(l,n,u):[]}function np(l){if(!(l&&l.length))return[];var u=0;return l=mo(l,function(f){if(rn(f))return u=mn(f.length,u),!0}),_f(u,function(f){return zt(l,gf(f))})}function P_(l,u){if(!(l&&l.length))return[];var f=np(l);return u==null?f:zt(f,function(v){return us(u,n,v)})}var H$=rt(function(l,u){return rn(l)?dl(l,u):[]}),W$=rt(function(l){return Hf(mo(l,rn))}),B$=rt(function(l){var u=Es(l);return rn(u)&&(u=n),Hf(mo(l,rn),He(u,2))}),V$=rt(function(l){var u=Es(l);return u=typeof u=="function"?u:n,Hf(mo(l,rn),n,u)}),U$=rt(np);function z$(l,u){return Zv(l||[],u||[],ul)}function j$(l,u){return Zv(l||[],u||[],pl)}var G$=rt(function(l){var u=l.length,f=u>1?l[u-1]:n;return f=typeof f=="function"?(l.pop(),f):n,P_(l,f)});function L_(l){var u=C(l);return u.__chain__=!0,u}function K$(l,u){return u(l),l}function Eu(l,u){return u(l)}var q$=Ri(function(l){var u=l.length,f=u?l[0]:0,v=this.__wrapped__,b=function(E){return Ef(E,l)};return u>1||this.__actions__.length||!(v instanceof lt)||!Ni(f)?this.thru(b):(v=v.slice(f,+f+(u?1:0)),v.__actions__.push({func:Eu,args:[b],thisArg:n}),new ks(v,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E}))});function X$(){return L_(this)}function Z$(){return new ks(this.value(),this.__chain__)}function J$(){this.__values__===n&&(this.__values__=K_(this.value()));var l=this.__index__>=this.__values__.length,u=l?n:this.__values__[this.__index__++];return{done:l,value:u}}function Q$(){return this}function eA(l){for(var u,f=this;f instanceof hu;){var v=E_(f);v.__index__=0,v.__values__=n,u?b.__wrapped__=v:u=v;var b=v;f=f.__wrapped__}return b.__wrapped__=l,u}function tA(){var l=this.__wrapped__;if(l instanceof lt){var u=l;return this.__actions__.length&&(u=new lt(this)),u=u.reverse(),u.__actions__.push({func:Eu,args:[tp],thisArg:n}),new ks(u,this.__chain__)}return this.thru(tp)}function nA(){return Xv(this.__wrapped__,this.__actions__)}var sA=_u(function(l,u,f){Mt.call(l,f)?++l[f]:Pi(l,f,1)});function iA(l,u,f){var v=Xe(l)?cv:Kx;return f&&Vn(l,u,f)&&(u=n),v(l,He(u,3))}function oA(l,u){var f=Xe(l)?mo:Pv;return f(l,He(u,3))}var rA=a_(x_),aA=a_(M_);function lA(l,u){return xn(xu(l,u),1)}function cA(l,u){return xn(xu(l,u),me)}function uA(l,u,f){return f=f===n?1:Qe(f),xn(xu(l,u),f)}function R_(l,u){var f=Xe(l)?ws:_o;return f(l,He(u,3))}function N_(l,u){var f=Xe(l)?ME:Ov;return f(l,He(u,3))}var dA=_u(function(l,u,f){Mt.call(l,f)?l[f].push(u):Pi(l,f,[u])});function hA(l,u,f,v){l=Xn(l)?l:ha(l),f=f&&!v?Qe(f):0;var b=l.length;return f<0&&(f=mn(b+f,0)),Pu(l)?f<=b&&l.indexOf(u,f)>-1:!!b&&ea(l,u,f)>-1}var fA=rt(function(l,u,f){var v=-1,b=typeof u=="function",E=Xn(l)?Z(l.length):[];return _o(l,function(O){E[++v]=b?us(u,O,f):hl(O,u,f)}),E}),pA=_u(function(l,u,f){Pi(l,f,u)});function xu(l,u){var f=Xe(l)?zt:Yv;return f(l,He(u,3))}function mA(l,u,f,v){return l==null?[]:(Xe(u)||(u=u==null?[]:[u]),f=v?n:f,Xe(f)||(f=f==null?[]:[f]),Vv(l,u,f))}var gA=_u(function(l,u,f){l[f?0:1].push(u)},function(){return[[],[]]});function yA(l,u,f){var v=Xe(l)?pf:fv,b=arguments.length<3;return v(l,He(u,4),f,b,_o)}function vA(l,u,f){var v=Xe(l)?$E:fv,b=arguments.length<3;return v(l,He(u,4),f,b,Ov)}function _A(l,u){var f=Xe(l)?mo:Pv;return f(l,Au(He(u,3)))}function bA(l){var u=Xe(l)?xv:hM;return u(l)}function SA(l,u,f){(f?Vn(l,u,f):u===n)?u=1:u=Qe(u);var v=Xe(l)?Vx:fM;return v(l,u)}function wA(l){var u=Xe(l)?Ux:mM;return u(l)}function DA(l){if(l==null)return 0;if(Xn(l))return Pu(l)?na(l):l.length;var u=Pn(l);return u==P||u==pe?l.size:Pf(l).length}function kA(l,u,f){var v=Xe(l)?mf:gM;return f&&Vn(l,u,f)&&(u=n),v(l,He(u,3))}var TA=rt(function(l,u){if(l==null)return[];var f=u.length;return f>1&&Vn(l,u[0],u[1])?u=[]:f>2&&Vn(u[0],u[1],u[2])&&(u=[u[0]]),Vv(l,xn(u,1),[])}),Mu=ox||function(){return En.Date.now()};function CA(l,u){if(typeof u!="function")throw new Ds(r);return l=Qe(l),function(){if(--l<1)return u.apply(this,arguments)}}function F_(l,u,f){return u=f?n:u,u=l&&u==null?l.length:u,Li(l,W,n,n,n,n,u)}function I_(l,u){var f;if(typeof u!="function")throw new Ds(r);return l=Qe(l),function(){return--l>0&&(f=u.apply(this,arguments)),l<=1&&(u=n),f}}var sp=rt(function(l,u,f){var v=w;if(f.length){var b=yo(f,ua(sp));v|=F}return Li(l,v,u,f,b)}),Y_=rt(function(l,u,f){var v=w|k;if(f.length){var b=yo(f,ua(Y_));v|=F}return Li(u,v,l,f,b)});function H_(l,u,f){u=f?n:u;var v=Li(l,$,n,n,n,n,n,u);return v.placeholder=H_.placeholder,v}function W_(l,u,f){u=f?n:u;var v=Li(l,L,n,n,n,n,n,u);return v.placeholder=W_.placeholder,v}function B_(l,u,f){var v,b,E,O,I,U,ne=0,se=!1,ie=!1,De=!0;if(typeof l!="function")throw new Ds(r);u=xs(u)||0,Zt(f)&&(se=!!f.leading,ie="maxWait"in f,E=ie?mn(xs(f.maxWait)||0,u):E,De="trailing"in f?!!f.trailing:De);function Ae(an){var zs=v,Yi=b;return v=b=n,ne=an,O=l.apply(Yi,zs),O}function We(an){return ne=an,I=yl(at,u),se?Ae(an):O}function it(an){var zs=an-U,Yi=an-ne,ab=u-zs;return ie?On(ab,E-Yi):ab}function Be(an){var zs=an-U,Yi=an-ne;return U===n||zs>=u||zs<0||ie&&Yi>=E}function at(){var an=Mu();if(Be(an))return dt(an);I=yl(at,it(an))}function dt(an){return I=n,De&&v?Ae(an):(v=b=n,O)}function ps(){I!==n&&Jv(I),ne=0,v=U=b=I=n}function Un(){return I===n?O:dt(Mu())}function ms(){var an=Mu(),zs=Be(an);if(v=arguments,b=this,U=an,zs){if(I===n)return We(U);if(ie)return Jv(I),I=yl(at,u),Ae(U)}return I===n&&(I=yl(at,u)),O}return ms.cancel=ps,ms.flush=Un,ms}var EA=rt(function(l,u){return Av(l,1,u)}),xA=rt(function(l,u,f){return Av(l,xs(u)||0,f)});function MA(l){return Li(l,Y)}function $u(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Ds(r);var f=function(){var v=arguments,b=u?u.apply(this,v):v[0],E=f.cache;if(E.has(b))return E.get(b);var O=l.apply(this,v);return f.cache=E.set(b,O)||E,O};return f.cache=new($u.Cache||Oi),f}$u.Cache=Oi;function Au(l){if(typeof l!="function")throw new Ds(r);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function $A(l){return I_(2,l)}var AA=yM(function(l,u){u=u.length==1&&Xe(u[0])?zt(u[0],ds(He())):zt(xn(u,1),ds(He()));var f=u.length;return rt(function(v){for(var b=-1,E=On(v.length,f);++b<E;)v[b]=u[b].call(this,v[b]);return us(l,this,v)})}),ip=rt(function(l,u){var f=yo(u,ua(ip));return Li(l,F,n,u,f)}),V_=rt(function(l,u){var f=yo(u,ua(V_));return Li(l,R,n,u,f)}),OA=Ri(function(l,u){return Li(l,z,n,n,n,u)});function PA(l,u){if(typeof l!="function")throw new Ds(r);return u=u===n?u:Qe(u),rt(l,u)}function LA(l,u){if(typeof l!="function")throw new Ds(r);return u=u==null?0:mn(Qe(u),0),rt(function(f){var v=f[u],b=wo(f,0,u);return v&&go(b,v),us(l,this,b)})}function RA(l,u,f){var v=!0,b=!0;if(typeof l!="function")throw new Ds(r);return Zt(f)&&(v="leading"in f?!!f.leading:v,b="trailing"in f?!!f.trailing:b),B_(l,u,{leading:v,maxWait:u,trailing:b})}function NA(l){return F_(l,1)}function FA(l,u){return ip(Bf(u),l)}function IA(){if(!arguments.length)return[];var l=arguments[0];return Xe(l)?l:[l]}function YA(l){return Ts(l,y)}function HA(l,u){return u=typeof u=="function"?u:n,Ts(l,y,u)}function WA(l){return Ts(l,p|y)}function BA(l,u){return u=typeof u=="function"?u:n,Ts(l,p|y,u)}function VA(l,u){return u==null||$v(l,u,bn(u))}function Us(l,u){return l===u||l!==l&&u!==u}var UA=Du($f),zA=Du(function(l,u){return l>=u}),mr=Nv(function(){return arguments}())?Nv:function(l){return tn(l)&&Mt.call(l,"callee")&&!wv.call(l,"callee")},Xe=Z.isArray,jA=sv?ds(sv):eM;function Xn(l){return l!=null&&Ou(l.length)&&!Fi(l)}function rn(l){return tn(l)&&Xn(l)}function GA(l){return l===!0||l===!1||tn(l)&&Bn(l)==be}var Do=ax||mp,KA=iv?ds(iv):tM;function qA(l){return tn(l)&&l.nodeType===1&&!vl(l)}function XA(l){if(l==null)return!0;if(Xn(l)&&(Xe(l)||typeof l=="string"||typeof l.splice=="function"||Do(l)||da(l)||mr(l)))return!l.length;var u=Pn(l);if(u==P||u==pe)return!l.size;if(gl(l))return!Pf(l).length;for(var f in l)if(Mt.call(l,f))return!1;return!0}function ZA(l,u){return fl(l,u)}function JA(l,u,f){f=typeof f=="function"?f:n;var v=f?f(l,u):n;return v===n?fl(l,u,n,f):!!v}function op(l){if(!tn(l))return!1;var u=Bn(l);return u==mt||u==Oe||typeof l.message=="string"&&typeof l.name=="string"&&!vl(l)}function QA(l){return typeof l=="number"&&kv(l)}function Fi(l){if(!Zt(l))return!1;var u=Bn(l);return u==Pt||u==A||u==Q||u==we}function U_(l){return typeof l=="number"&&l==Qe(l)}function Ou(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=Se}function Zt(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function tn(l){return l!=null&&typeof l=="object"}var z_=ov?ds(ov):sM;function eO(l,u){return l===u||Of(l,u,qf(u))}function tO(l,u,f){return f=typeof f=="function"?f:n,Of(l,u,qf(u),f)}function nO(l){return j_(l)&&l!=+l}function sO(l){if(HM(l))throw new Ge(o);return Fv(l)}function iO(l){return l===null}function oO(l){return l==null}function j_(l){return typeof l=="number"||tn(l)&&Bn(l)==q}function vl(l){if(!tn(l)||Bn(l)!=ee)return!1;var u=ou(l);if(u===null)return!0;var f=Mt.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&tu.call(f)==tx}var rp=rv?ds(rv):iM;function rO(l){return U_(l)&&l>=-Se&&l<=Se}var G_=av?ds(av):oM;function Pu(l){return typeof l=="string"||!Xe(l)&&tn(l)&&Bn(l)==ae}function fs(l){return typeof l=="symbol"||tn(l)&&Bn(l)==ke}var da=lv?ds(lv):rM;function aO(l){return l===n}function lO(l){return tn(l)&&Pn(l)==Me}function cO(l){return tn(l)&&Bn(l)==ze}var uO=Du(Lf),dO=Du(function(l,u){return l<=u});function K_(l){if(!l)return[];if(Xn(l))return Pu(l)?Bs(l):qn(l);if(ol&&l[ol])return VE(l[ol]());var u=Pn(l),f=u==P?Sf:u==pe?Jc:ha;return f(l)}function Ii(l){if(!l)return l===0?l:0;if(l=xs(l),l===me||l===-me){var u=l<0?-1:1;return u*Te}return l===l?l:0}function Qe(l){var u=Ii(l),f=u%1;return u===u?f?u-f:u:0}function q_(l){return l?dr(Qe(l),0,Re):0}function xs(l){if(typeof l=="number")return l;if(fs(l))return xe;if(Zt(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=Zt(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=pv(l);var f=jC.test(l);return f||KC.test(l)?CE(l.slice(2),f?2:8):zC.test(l)?xe:+l}function X_(l){return ci(l,Zn(l))}function hO(l){return l?dr(Qe(l),-Se,Se):l===0?l:0}function Et(l){return l==null?"":hs(l)}var fO=la(function(l,u){if(gl(u)||Xn(u)){ci(u,bn(u),l);return}for(var f in u)Mt.call(u,f)&&ul(l,f,u[f])}),Z_=la(function(l,u){ci(u,Zn(u),l)}),Lu=la(function(l,u,f,v){ci(u,Zn(u),l,v)}),pO=la(function(l,u,f,v){ci(u,bn(u),l,v)}),mO=Ri(Ef);function gO(l,u){var f=aa(l);return u==null?f:Mv(f,u)}var yO=rt(function(l,u){l=Nt(l);var f=-1,v=u.length,b=v>2?u[2]:n;for(b&&Vn(u[0],u[1],b)&&(v=1);++f<v;)for(var E=u[f],O=Zn(E),I=-1,U=O.length;++I<U;){var ne=O[I],se=l[ne];(se===n||Us(se,ia[ne])&&!Mt.call(l,ne))&&(l[ne]=E[ne])}return l}),vO=rt(function(l){return l.push(n,p_),us(J_,n,l)});function _O(l,u){return uv(l,He(u,3),li)}function bO(l,u){return uv(l,He(u,3),Mf)}function SO(l,u){return l==null?l:xf(l,He(u,3),Zn)}function wO(l,u){return l==null?l:Lv(l,He(u,3),Zn)}function DO(l,u){return l&&li(l,He(u,3))}function kO(l,u){return l&&Mf(l,He(u,3))}function TO(l){return l==null?[]:mu(l,bn(l))}function CO(l){return l==null?[]:mu(l,Zn(l))}function ap(l,u,f){var v=l==null?n:hr(l,u);return v===n?f:v}function EO(l,u){return l!=null&&y_(l,u,Xx)}function lp(l,u){return l!=null&&y_(l,u,Zx)}var xO=c_(function(l,u,f){u!=null&&typeof u.toString!="function"&&(u=nu.call(u)),l[u]=f},up(Jn)),MO=c_(function(l,u,f){u!=null&&typeof u.toString!="function"&&(u=nu.call(u)),Mt.call(l,u)?l[u].push(f):l[u]=[f]},He),$O=rt(hl);function bn(l){return Xn(l)?Ev(l):Pf(l)}function Zn(l){return Xn(l)?Ev(l,!0):aM(l)}function AO(l,u){var f={};return u=He(u,3),li(l,function(v,b,E){Pi(f,u(v,b,E),v)}),f}function OO(l,u){var f={};return u=He(u,3),li(l,function(v,b,E){Pi(f,b,u(v,b,E))}),f}var PO=la(function(l,u,f){gu(l,u,f)}),J_=la(function(l,u,f,v){gu(l,u,f,v)}),LO=Ri(function(l,u){var f={};if(l==null)return f;var v=!1;u=zt(u,function(E){return E=So(E,l),v||(v=E.length>1),E}),ci(l,Gf(l),f),v&&(f=Ts(f,p|g|y,xM));for(var b=u.length;b--;)Yf(f,u[b]);return f});function RO(l,u){return Q_(l,Au(He(u)))}var NO=Ri(function(l,u){return l==null?{}:cM(l,u)});function Q_(l,u){if(l==null)return{};var f=zt(Gf(l),function(v){return[v]});return u=He(u),Uv(l,f,function(v,b){return u(v,b[0])})}function FO(l,u,f){u=So(u,l);var v=-1,b=u.length;for(b||(b=1,l=n);++v<b;){var E=l==null?n:l[ui(u[v])];E===n&&(v=b,E=f),l=Fi(E)?E.call(l):E}return l}function IO(l,u,f){return l==null?l:pl(l,u,f)}function YO(l,u,f,v){return v=typeof v=="function"?v:n,l==null?l:pl(l,u,f,v)}var eb=h_(bn),tb=h_(Zn);function HO(l,u,f){var v=Xe(l),b=v||Do(l)||da(l);if(u=He(u,4),f==null){var E=l&&l.constructor;b?f=v?new E:[]:Zt(l)?f=Fi(E)?aa(ou(l)):{}:f={}}return(b?ws:li)(l,function(O,I,U){return u(f,O,I,U)}),f}function WO(l,u){return l==null?!0:Yf(l,u)}function BO(l,u,f){return l==null?l:qv(l,u,Bf(f))}function VO(l,u,f,v){return v=typeof v=="function"?v:n,l==null?l:qv(l,u,Bf(f),v)}function ha(l){return l==null?[]:bf(l,bn(l))}function UO(l){return l==null?[]:bf(l,Zn(l))}function zO(l,u,f){return f===n&&(f=u,u=n),f!==n&&(f=xs(f),f=f===f?f:0),u!==n&&(u=xs(u),u=u===u?u:0),dr(xs(l),u,f)}function jO(l,u,f){return u=Ii(u),f===n?(f=u,u=0):f=Ii(f),l=xs(l),Jx(l,u,f)}function GO(l,u,f){if(f&&typeof f!="boolean"&&Vn(l,u,f)&&(u=f=n),f===n&&(typeof u=="boolean"?(f=u,u=n):typeof l=="boolean"&&(f=l,l=n)),l===n&&u===n?(l=0,u=1):(l=Ii(l),u===n?(u=l,l=0):u=Ii(u)),l>u){var v=l;l=u,u=v}if(f||l%1||u%1){var b=Tv();return On(l+b*(u-l+TE("1e-"+((b+"").length-1))),u)}return Nf(l,u)}var KO=ca(function(l,u,f){return u=u.toLowerCase(),l+(f?nb(u):u)});function nb(l){return cp(Et(l).toLowerCase())}function sb(l){return l=Et(l),l&&l.replace(XC,IE).replace(mE,"")}function qO(l,u,f){l=Et(l),u=hs(u);var v=l.length;f=f===n?v:dr(Qe(f),0,v);var b=f;return f-=u.length,f>=0&&l.slice(f,b)==u}function XO(l){return l=Et(l),l&&$C.test(l)?l.replace(Ly,YE):l}function ZO(l){return l=Et(l),l&&NC.test(l)?l.replace(sf,"\\$&"):l}var JO=ca(function(l,u,f){return l+(f?"-":"")+u.toLowerCase()}),QO=ca(function(l,u,f){return l+(f?" ":"")+u.toLowerCase()}),eP=r_("toLowerCase");function tP(l,u,f){l=Et(l),u=Qe(u);var v=u?na(l):0;if(!u||v>=u)return l;var b=(u-v)/2;return wu(cu(b),f)+l+wu(lu(b),f)}function nP(l,u,f){l=Et(l),u=Qe(u);var v=u?na(l):0;return u&&v<u?l+wu(u-v,f):l}function sP(l,u,f){l=Et(l),u=Qe(u);var v=u?na(l):0;return u&&v<u?wu(u-v,f)+l:l}function iP(l,u,f){return f||u==null?u=0:u&&(u=+u),dx(Et(l).replace(of,""),u||0)}function oP(l,u,f){return(f?Vn(l,u,f):u===n)?u=1:u=Qe(u),Ff(Et(l),u)}function rP(){var l=arguments,u=Et(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var aP=ca(function(l,u,f){return l+(f?"_":"")+u.toLowerCase()});function lP(l,u,f){return f&&typeof f!="number"&&Vn(l,u,f)&&(u=f=n),f=f===n?Re:f>>>0,f?(l=Et(l),l&&(typeof u=="string"||u!=null&&!rp(u))&&(u=hs(u),!u&&ta(l))?wo(Bs(l),0,f):l.split(u,f)):[]}var cP=ca(function(l,u,f){return l+(f?" ":"")+cp(u)});function uP(l,u,f){return l=Et(l),f=f==null?0:dr(Qe(f),0,l.length),u=hs(u),l.slice(f,f+u.length)==u}function dP(l,u,f){var v=C.templateSettings;f&&Vn(l,u,f)&&(u=n),l=Et(l),u=Lu({},u,v,f_);var b=Lu({},u.imports,v.imports,f_),E=bn(b),O=bf(b,E),I,U,ne=0,se=u.interpolate||Gc,ie="__p += '",De=wf((u.escape||Gc).source+"|"+se.source+"|"+(se===Ry?UC:Gc).source+"|"+(u.evaluate||Gc).source+"|$","g"),Ae="//# sourceURL="+(Mt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bE+"]")+`
`;l.replace(De,function(Be,at,dt,ps,Un,ms){return dt||(dt=ps),ie+=l.slice(ne,ms).replace(ZC,HE),at&&(I=!0,ie+=`' +
__e(`+at+`) +
'`),Un&&(U=!0,ie+=`';
`+Un+`;
__p += '`),dt&&(ie+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),ne=ms+Be.length,Be}),ie+=`';
`;var We=Mt.call(u,"variable")&&u.variable;if(!We)ie=`with (obj) {
`+ie+`
}
`;else if(BC.test(We))throw new Ge(a);ie=(U?ie.replace(jc,""):ie).replace(EC,"$1").replace(xC,"$1;"),ie="function("+(We||"obj")+`) {
`+(We?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ie+`return __p
}`;var it=ob(function(){return Tt(E,Ae+"return "+ie).apply(n,O)});if(it.source=ie,op(it))throw it;return it}function hP(l){return Et(l).toLowerCase()}function fP(l){return Et(l).toUpperCase()}function pP(l,u,f){if(l=Et(l),l&&(f||u===n))return pv(l);if(!l||!(u=hs(u)))return l;var v=Bs(l),b=Bs(u),E=mv(v,b),O=gv(v,b)+1;return wo(v,E,O).join("")}function mP(l,u,f){if(l=Et(l),l&&(f||u===n))return l.slice(0,vv(l)+1);if(!l||!(u=hs(u)))return l;var v=Bs(l),b=gv(v,Bs(u))+1;return wo(v,0,b).join("")}function gP(l,u,f){if(l=Et(l),l&&(f||u===n))return l.replace(of,"");if(!l||!(u=hs(u)))return l;var v=Bs(l),b=mv(v,Bs(u));return wo(v,b).join("")}function yP(l,u){var f=N,v=G;if(Zt(u)){var b="separator"in u?u.separator:b;f="length"in u?Qe(u.length):f,v="omission"in u?hs(u.omission):v}l=Et(l);var E=l.length;if(ta(l)){var O=Bs(l);E=O.length}if(f>=E)return l;var I=f-na(v);if(I<1)return v;var U=O?wo(O,0,I).join(""):l.slice(0,I);if(b===n)return U+v;if(O&&(I+=U.length-I),rp(b)){if(l.slice(I).search(b)){var ne,se=U;for(b.global||(b=wf(b.source,Et(Ny.exec(b))+"g")),b.lastIndex=0;ne=b.exec(se);)var ie=ne.index;U=U.slice(0,ie===n?I:ie)}}else if(l.indexOf(hs(b),I)!=I){var De=U.lastIndexOf(b);De>-1&&(U=U.slice(0,De))}return U+v}function vP(l){return l=Et(l),l&&MC.test(l)?l.replace(Py,GE):l}var _P=ca(function(l,u,f){return l+(f?" ":"")+u.toUpperCase()}),cp=r_("toUpperCase");function ib(l,u,f){return l=Et(l),u=f?n:u,u===n?BE(l)?XE(l):PE(l):l.match(u)||[]}var ob=rt(function(l,u){try{return us(l,n,u)}catch(f){return op(f)?f:new Ge(f)}}),bP=Ri(function(l,u){return ws(u,function(f){f=ui(f),Pi(l,f,sp(l[f],l))}),l});function SP(l){var u=l==null?0:l.length,f=He();return l=u?zt(l,function(v){if(typeof v[1]!="function")throw new Ds(r);return[f(v[0]),v[1]]}):[],rt(function(v){for(var b=-1;++b<u;){var E=l[b];if(us(E[0],this,v))return us(E[1],this,v)}})}function wP(l){return Gx(Ts(l,p))}function up(l){return function(){return l}}function DP(l,u){return l==null||l!==l?u:l}var kP=l_(),TP=l_(!0);function Jn(l){return l}function dp(l){return Iv(typeof l=="function"?l:Ts(l,p))}function CP(l){return Hv(Ts(l,p))}function EP(l,u){return Wv(l,Ts(u,p))}var xP=rt(function(l,u){return function(f){return hl(f,l,u)}}),MP=rt(function(l,u){return function(f){return hl(l,f,u)}});function hp(l,u,f){var v=bn(u),b=mu(u,v);f==null&&!(Zt(u)&&(b.length||!v.length))&&(f=u,u=l,l=this,b=mu(u,bn(u)));var E=!(Zt(f)&&"chain"in f)||!!f.chain,O=Fi(l);return ws(b,function(I){var U=u[I];l[I]=U,O&&(l.prototype[I]=function(){var ne=this.__chain__;if(E||ne){var se=l(this.__wrapped__),ie=se.__actions__=qn(this.__actions__);return ie.push({func:U,args:arguments,thisArg:l}),se.__chain__=ne,se}return U.apply(l,go([this.value()],arguments))})}),l}function $P(){return En._===this&&(En._=nx),this}function fp(){}function AP(l){return l=Qe(l),rt(function(u){return Bv(u,l)})}var OP=Uf(zt),PP=Uf(cv),LP=Uf(mf);function rb(l){return Zf(l)?gf(ui(l)):uM(l)}function RP(l){return function(u){return l==null?n:hr(l,u)}}var NP=u_(),FP=u_(!0);function pp(){return[]}function mp(){return!1}function IP(){return{}}function YP(){return""}function HP(){return!0}function WP(l,u){if(l=Qe(l),l<1||l>Se)return[];var f=Re,v=On(l,Re);u=He(u),l-=Re;for(var b=_f(v,u);++f<l;)u(f);return b}function BP(l){return Xe(l)?zt(l,ui):fs(l)?[l]:qn(C_(Et(l)))}function VP(l){var u=++ex;return Et(l)+u}var UP=Su(function(l,u){return l+u},0),zP=zf("ceil"),jP=Su(function(l,u){return l/u},1),GP=zf("floor");function KP(l){return l&&l.length?pu(l,Jn,$f):n}function qP(l,u){return l&&l.length?pu(l,He(u,2),$f):n}function XP(l){return hv(l,Jn)}function ZP(l,u){return hv(l,He(u,2))}function JP(l){return l&&l.length?pu(l,Jn,Lf):n}function QP(l,u){return l&&l.length?pu(l,He(u,2),Lf):n}var eL=Su(function(l,u){return l*u},1),tL=zf("round"),nL=Su(function(l,u){return l-u},0);function sL(l){return l&&l.length?vf(l,Jn):0}function iL(l,u){return l&&l.length?vf(l,He(u,2)):0}return C.after=CA,C.ary=F_,C.assign=fO,C.assignIn=Z_,C.assignInWith=Lu,C.assignWith=pO,C.at=mO,C.before=I_,C.bind=sp,C.bindAll=bP,C.bindKey=Y_,C.castArray=IA,C.chain=L_,C.chunk=GM,C.compact=KM,C.concat=qM,C.cond=SP,C.conforms=wP,C.constant=up,C.countBy=sA,C.create=gO,C.curry=H_,C.curryRight=W_,C.debounce=B_,C.defaults=yO,C.defaultsDeep=vO,C.defer=EA,C.delay=xA,C.difference=XM,C.differenceBy=ZM,C.differenceWith=JM,C.drop=QM,C.dropRight=e$,C.dropRightWhile=t$,C.dropWhile=n$,C.fill=s$,C.filter=oA,C.flatMap=lA,C.flatMapDeep=cA,C.flatMapDepth=uA,C.flatten=$_,C.flattenDeep=i$,C.flattenDepth=o$,C.flip=MA,C.flow=kP,C.flowRight=TP,C.fromPairs=r$,C.functions=TO,C.functionsIn=CO,C.groupBy=dA,C.initial=l$,C.intersection=c$,C.intersectionBy=u$,C.intersectionWith=d$,C.invert=xO,C.invertBy=MO,C.invokeMap=fA,C.iteratee=dp,C.keyBy=pA,C.keys=bn,C.keysIn=Zn,C.map=xu,C.mapKeys=AO,C.mapValues=OO,C.matches=CP,C.matchesProperty=EP,C.memoize=$u,C.merge=PO,C.mergeWith=J_,C.method=xP,C.methodOf=MP,C.mixin=hp,C.negate=Au,C.nthArg=AP,C.omit=LO,C.omitBy=RO,C.once=$A,C.orderBy=mA,C.over=OP,C.overArgs=AA,C.overEvery=PP,C.overSome=LP,C.partial=ip,C.partialRight=V_,C.partition=gA,C.pick=NO,C.pickBy=Q_,C.property=rb,C.propertyOf=RP,C.pull=m$,C.pullAll=O_,C.pullAllBy=g$,C.pullAllWith=y$,C.pullAt=v$,C.range=NP,C.rangeRight=FP,C.rearg=OA,C.reject=_A,C.remove=_$,C.rest=PA,C.reverse=tp,C.sampleSize=SA,C.set=IO,C.setWith=YO,C.shuffle=wA,C.slice=b$,C.sortBy=TA,C.sortedUniq=E$,C.sortedUniqBy=x$,C.split=lP,C.spread=LA,C.tail=M$,C.take=$$,C.takeRight=A$,C.takeRightWhile=O$,C.takeWhile=P$,C.tap=K$,C.throttle=RA,C.thru=Eu,C.toArray=K_,C.toPairs=eb,C.toPairsIn=tb,C.toPath=BP,C.toPlainObject=X_,C.transform=HO,C.unary=NA,C.union=L$,C.unionBy=R$,C.unionWith=N$,C.uniq=F$,C.uniqBy=I$,C.uniqWith=Y$,C.unset=WO,C.unzip=np,C.unzipWith=P_,C.update=BO,C.updateWith=VO,C.values=ha,C.valuesIn=UO,C.without=H$,C.words=ib,C.wrap=FA,C.xor=W$,C.xorBy=B$,C.xorWith=V$,C.zip=U$,C.zipObject=z$,C.zipObjectDeep=j$,C.zipWith=G$,C.entries=eb,C.entriesIn=tb,C.extend=Z_,C.extendWith=Lu,hp(C,C),C.add=UP,C.attempt=ob,C.camelCase=KO,C.capitalize=nb,C.ceil=zP,C.clamp=zO,C.clone=YA,C.cloneDeep=WA,C.cloneDeepWith=BA,C.cloneWith=HA,C.conformsTo=VA,C.deburr=sb,C.defaultTo=DP,C.divide=jP,C.endsWith=qO,C.eq=Us,C.escape=XO,C.escapeRegExp=ZO,C.every=iA,C.find=rA,C.findIndex=x_,C.findKey=_O,C.findLast=aA,C.findLastIndex=M_,C.findLastKey=bO,C.floor=GP,C.forEach=R_,C.forEachRight=N_,C.forIn=SO,C.forInRight=wO,C.forOwn=DO,C.forOwnRight=kO,C.get=ap,C.gt=UA,C.gte=zA,C.has=EO,C.hasIn=lp,C.head=A_,C.identity=Jn,C.includes=hA,C.indexOf=a$,C.inRange=jO,C.invoke=$O,C.isArguments=mr,C.isArray=Xe,C.isArrayBuffer=jA,C.isArrayLike=Xn,C.isArrayLikeObject=rn,C.isBoolean=GA,C.isBuffer=Do,C.isDate=KA,C.isElement=qA,C.isEmpty=XA,C.isEqual=ZA,C.isEqualWith=JA,C.isError=op,C.isFinite=QA,C.isFunction=Fi,C.isInteger=U_,C.isLength=Ou,C.isMap=z_,C.isMatch=eO,C.isMatchWith=tO,C.isNaN=nO,C.isNative=sO,C.isNil=oO,C.isNull=iO,C.isNumber=j_,C.isObject=Zt,C.isObjectLike=tn,C.isPlainObject=vl,C.isRegExp=rp,C.isSafeInteger=rO,C.isSet=G_,C.isString=Pu,C.isSymbol=fs,C.isTypedArray=da,C.isUndefined=aO,C.isWeakMap=lO,C.isWeakSet=cO,C.join=h$,C.kebabCase=JO,C.last=Es,C.lastIndexOf=f$,C.lowerCase=QO,C.lowerFirst=eP,C.lt=uO,C.lte=dO,C.max=KP,C.maxBy=qP,C.mean=XP,C.meanBy=ZP,C.min=JP,C.minBy=QP,C.stubArray=pp,C.stubFalse=mp,C.stubObject=IP,C.stubString=YP,C.stubTrue=HP,C.multiply=eL,C.nth=p$,C.noConflict=$P,C.noop=fp,C.now=Mu,C.pad=tP,C.padEnd=nP,C.padStart=sP,C.parseInt=iP,C.random=GO,C.reduce=yA,C.reduceRight=vA,C.repeat=oP,C.replace=rP,C.result=FO,C.round=tL,C.runInContext=B,C.sample=bA,C.size=DA,C.snakeCase=aP,C.some=kA,C.sortedIndex=S$,C.sortedIndexBy=w$,C.sortedIndexOf=D$,C.sortedLastIndex=k$,C.sortedLastIndexBy=T$,C.sortedLastIndexOf=C$,C.startCase=cP,C.startsWith=uP,C.subtract=nL,C.sum=sL,C.sumBy=iL,C.template=dP,C.times=WP,C.toFinite=Ii,C.toInteger=Qe,C.toLength=q_,C.toLower=hP,C.toNumber=xs,C.toSafeInteger=hO,C.toString=Et,C.toUpper=fP,C.trim=pP,C.trimEnd=mP,C.trimStart=gP,C.truncate=yP,C.unescape=vP,C.uniqueId=VP,C.upperCase=_P,C.upperFirst=cp,C.each=R_,C.eachRight=N_,C.first=A_,hp(C,function(){var l={};return li(C,function(u,f){Mt.call(C.prototype,f)||(l[f]=u)}),l}(),{chain:!1}),C.VERSION=s,ws(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){C[l].placeholder=C}),ws(["drop","take"],function(l,u){lt.prototype[l]=function(f){f=f===n?1:mn(Qe(f),0);var v=this.__filtered__&&!u?new lt(this):this.clone();return v.__filtered__?v.__takeCount__=On(f,v.__takeCount__):v.__views__.push({size:On(f,Re),type:l+(v.__dir__<0?"Right":"")}),v},lt.prototype[l+"Right"]=function(f){return this.reverse()[l](f).reverse()}}),ws(["filter","map","takeWhile"],function(l,u){var f=u+1,v=f==ue||f==le;lt.prototype[l]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:He(b,3),type:f}),E.__filtered__=E.__filtered__||v,E}}),ws(["head","last"],function(l,u){var f="take"+(u?"Right":"");lt.prototype[l]=function(){return this[f](1).value()[0]}}),ws(["initial","tail"],function(l,u){var f="drop"+(u?"":"Right");lt.prototype[l]=function(){return this.__filtered__?new lt(this):this[f](1)}}),lt.prototype.compact=function(){return this.filter(Jn)},lt.prototype.find=function(l){return this.filter(l).head()},lt.prototype.findLast=function(l){return this.reverse().find(l)},lt.prototype.invokeMap=rt(function(l,u){return typeof l=="function"?new lt(this):this.map(function(f){return hl(f,l,u)})}),lt.prototype.reject=function(l){return this.filter(Au(He(l)))},lt.prototype.slice=function(l,u){l=Qe(l);var f=this;return f.__filtered__&&(l>0||u<0)?new lt(f):(l<0?f=f.takeRight(-l):l&&(f=f.drop(l)),u!==n&&(u=Qe(u),f=u<0?f.dropRight(-u):f.take(u-l)),f)},lt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},lt.prototype.toArray=function(){return this.take(Re)},li(lt.prototype,function(l,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),v=/^(?:head|last)$/.test(u),b=C[v?"take"+(u=="last"?"Right":""):u],E=v||/^find/.test(u);b&&(C.prototype[u]=function(){var O=this.__wrapped__,I=v?[1]:arguments,U=O instanceof lt,ne=I[0],se=U||Xe(O),ie=function(at){var dt=b.apply(C,go([at],I));return v&&De?dt[0]:dt};se&&f&&typeof ne=="function"&&ne.length!=1&&(U=se=!1);var De=this.__chain__,Ae=!!this.__actions__.length,We=E&&!De,it=U&&!Ae;if(!E&&se){O=it?O:new lt(this);var Be=l.apply(O,I);return Be.__actions__.push({func:Eu,args:[ie],thisArg:n}),new ks(Be,De)}return We&&it?l.apply(this,I):(Be=this.thru(ie),We?v?Be.value()[0]:Be.value():Be)})}),ws(["pop","push","shift","sort","splice","unshift"],function(l){var u=Qc[l],f=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",v=/^(?:pop|shift)$/.test(l);C.prototype[l]=function(){var b=arguments;if(v&&!this.__chain__){var E=this.value();return u.apply(Xe(E)?E:[],b)}return this[f](function(O){return u.apply(Xe(O)?O:[],b)})}}),li(lt.prototype,function(l,u){var f=C[u];if(f){var v=f.name+"";Mt.call(ra,v)||(ra[v]=[]),ra[v].push({name:u,func:f})}}),ra[bu(n,k).name]=[{name:"wrapper",func:n}],lt.prototype.clone=vx,lt.prototype.reverse=_x,lt.prototype.value=bx,C.prototype.at=q$,C.prototype.chain=X$,C.prototype.commit=Z$,C.prototype.next=J$,C.prototype.plant=eA,C.prototype.reverse=tA,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=nA,C.prototype.first=C.prototype.head,ol&&(C.prototype[ol]=Q$),C},sa=ZE();ar?((ar.exports=sa)._=sa,df._=sa):En._=sa}).call(Sl)})($d,$d.exports);var BI=$d.exports;const is=J1(BI);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var xD;function M(){return xD.apply(null,arguments)}function VI(e){xD=e}function ei(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Lr(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ng(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Dt(e,t))return!1;return!0}function es(e){return e===void 0}function lo(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ac(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function MD(e,t){var n=[],s,i=e.length;for(s=0;s<i;++s)n.push(t(e[s],s));return n}function Fo(e,t){for(var n in t)Dt(t,n)&&(e[n]=t[n]);return Dt(t,"toString")&&(e.toString=t.toString),Dt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ei(e,t,n,s){return JD(e,t,n,s,!0).utc()}function UI(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function et(e){return e._pf==null&&(e._pf=UI()),e._pf}var Om;Array.prototype.some?Om=Array.prototype.some:Om=function(e){var t=Object(this),n=t.length>>>0,s;for(s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function Fg(e){var t=null,n=!1,s=e._d&&!isNaN(e._d.getTime());if(s&&(t=et(e),n=Om.call(t.parsedDateParts,function(i){return i!=null}),s=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s;return e._isValid}function yh(e){var t=Ei(NaN);return e!=null?Fo(et(t),e):et(t).userInvalidated=!0,t}var w0=M.momentProperties=[],Wp=!1;function Ig(e,t){var n,s,i,o=w0.length;if(es(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),es(t._i)||(e._i=t._i),es(t._f)||(e._f=t._f),es(t._l)||(e._l=t._l),es(t._strict)||(e._strict=t._strict),es(t._tzm)||(e._tzm=t._tzm),es(t._isUTC)||(e._isUTC=t._isUTC),es(t._offset)||(e._offset=t._offset),es(t._pf)||(e._pf=et(t)),es(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)s=w0[n],i=t[s],es(i)||(e[s]=i);return e}function Oc(e){Ig(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Wp===!1&&(Wp=!0,M.updateOffset(this),Wp=!1)}function ti(e){return e instanceof Oc||e!=null&&e._isAMomentObject!=null}function $D(e){M.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Is(e,t){var n=!0;return Fo(function(){if(M.deprecationHandler!=null&&M.deprecationHandler(null,e),n){var s=[],i,o,r,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(r in arguments[0])Dt(arguments[0],r)&&(i+=r+": "+arguments[0][r]+", ");i=i.slice(0,-2)}else i=arguments[o];s.push(i)}$D(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var D0={};function AD(e,t){M.deprecationHandler!=null&&M.deprecationHandler(e,t),D0[e]||($D(t),D0[e]=!0)}M.suppressDeprecationWarnings=!1;M.deprecationHandler=null;function xi(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function zI(e){var t,n;for(n in e)Dt(e,n)&&(t=e[n],xi(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Pm(e,t){var n=Fo({},e),s;for(s in t)Dt(t,s)&&(Lr(e[s])&&Lr(t[s])?(n[s]={},Fo(n[s],e[s]),Fo(n[s],t[s])):t[s]!=null?n[s]=t[s]:delete n[s]);for(s in e)Dt(e,s)&&!Dt(t,s)&&Lr(e[s])&&(n[s]=Fo({},n[s]));return n}function Yg(e){e!=null&&this.set(e)}var Lm;Object.keys?Lm=Object.keys:Lm=function(e){var t,n=[];for(t in e)Dt(e,t)&&n.push(t);return n};var jI={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function GI(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return xi(s)?s.call(t,n):s}function Di(e,t,n){var s=""+Math.abs(e),i=t-s.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var Hg=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Vu=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bp={},Aa={};function Fe(e,t,n,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),e&&(Aa[e]=i),t&&(Aa[t[0]]=function(){return Di(i.apply(this,arguments),t[1],t[2])}),n&&(Aa[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function KI(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function qI(e){var t=e.match(Hg),n,s;for(n=0,s=t.length;n<s;n++)Aa[t[n]]?t[n]=Aa[t[n]]:t[n]=KI(t[n]);return function(i){var o="",r;for(r=0;r<s;r++)o+=xi(t[r])?t[r].call(i,e):t[r];return o}}function gd(e,t){return e.isValid()?(t=OD(t,e.localeData()),Bp[t]=Bp[t]||qI(t),Bp[t](e)):e.localeData().invalidDate()}function OD(e,t){var n=5;function s(i){return t.longDateFormat(i)||i}for(Vu.lastIndex=0;n>=0&&Vu.test(e);)e=e.replace(Vu,s),Vu.lastIndex=0,n-=1;return e}var XI={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ZI(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Hg).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var JI="Invalid date";function QI(){return this._invalidDate}var eY="%d",tY=/\d{1,2}/;function nY(e){return this._ordinal.replace("%d",e)}var sY={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function iY(e,t,n,s){var i=this._relativeTime[n];return xi(i)?i(e,t,n,s):i.replace(/%d/i,e)}function oY(e,t){var n=this._relativeTime[e>0?"future":"past"];return xi(n)?n(t):n.replace(/%s/i,t)}var k0={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ys(e){return typeof e=="string"?k0[e]||k0[e.toLowerCase()]:void 0}function Wg(e){var t={},n,s;for(s in e)Dt(e,s)&&(n=Ys(s),n&&(t[n]=e[s]));return t}var rY={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function aY(e){var t=[],n;for(n in e)Dt(e,n)&&t.push({unit:n,priority:rY[n]});return t.sort(function(s,i){return s.priority-i.priority}),t}var PD=/\d/,_s=/\d\d/,LD=/\d{3}/,Bg=/\d{4}/,vh=/[+-]?\d{6}/,Vt=/\d\d?/,RD=/\d\d\d\d?/,ND=/\d\d\d\d\d\d?/,_h=/\d{1,3}/,Vg=/\d{1,4}/,bh=/[+-]?\d{1,6}/,qa=/\d+/,Sh=/[+-]?\d+/,lY=/Z|[+-]\d\d:?\d\d/gi,wh=/Z|[+-]\d\d(?::?\d\d)?/gi,cY=/[+-]?\d+(\.\d{1,3})?/,Pc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Xa=/^[1-9]\d?/,Ug=/^([1-9]\d|\d)/,Ad;Ad={};function Ee(e,t,n){Ad[e]=xi(t)?t:function(s,i){return s&&n?n:t}}function uY(e,t){return Dt(Ad,e)?Ad[e](t._strict,t._locale):new RegExp(dY(e))}function dY(e){return oo(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,s,i,o){return n||s||i||o}))}function oo(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Os(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ct(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Os(t)),n}var Rm={};function Rt(e,t){var n,s=t,i;for(typeof e=="string"&&(e=[e]),lo(t)&&(s=function(o,r){r[t]=ct(o)}),i=e.length,n=0;n<i;n++)Rm[e[n]]=s}function Lc(e,t){Rt(e,function(n,s,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function hY(e,t,n){t!=null&&Dt(Rm,e)&&Rm[e](t,n._a,n,e)}function Dh(e){return e%4===0&&e%100!==0||e%400===0}var Yn=0,Zi=1,gi=2,yn=3,qs=4,Ji=5,Mr=6,fY=7,pY=8;Fe("Y",0,0,function(){var e=this.year();return e<=9999?Di(e,4):"+"+e});Fe(0,["YY",2],0,function(){return this.year()%100});Fe(0,["YYYY",4],0,"year");Fe(0,["YYYYY",5],0,"year");Fe(0,["YYYYYY",6,!0],0,"year");Ee("Y",Sh);Ee("YY",Vt,_s);Ee("YYYY",Vg,Bg);Ee("YYYYY",bh,vh);Ee("YYYYYY",bh,vh);Rt(["YYYYY","YYYYYY"],Yn);Rt("YYYY",function(e,t){t[Yn]=e.length===2?M.parseTwoDigitYear(e):ct(e)});Rt("YY",function(e,t){t[Yn]=M.parseTwoDigitYear(e)});Rt("Y",function(e,t){t[Yn]=parseInt(e,10)});function Bl(e){return Dh(e)?366:365}M.parseTwoDigitYear=function(e){return ct(e)+(ct(e)>68?1900:2e3)};var FD=Za("FullYear",!0);function mY(){return Dh(this.year())}function Za(e,t){return function(n){return n!=null?(ID(this,e,n),M.updateOffset(this,t),this):uc(this,e)}}function uc(e,t){if(!e.isValid())return NaN;var n=e._d,s=e._isUTC;switch(t){case"Milliseconds":return s?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return s?n.getUTCSeconds():n.getSeconds();case"Minutes":return s?n.getUTCMinutes():n.getMinutes();case"Hours":return s?n.getUTCHours():n.getHours();case"Date":return s?n.getUTCDate():n.getDate();case"Day":return s?n.getUTCDay():n.getDay();case"Month":return s?n.getUTCMonth():n.getMonth();case"FullYear":return s?n.getUTCFullYear():n.getFullYear();default:return NaN}}function ID(e,t,n){var s,i,o,r,a;if(!(!e.isValid()||isNaN(n))){switch(s=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?s.setUTCMilliseconds(n):s.setMilliseconds(n));case"Seconds":return void(i?s.setUTCSeconds(n):s.setSeconds(n));case"Minutes":return void(i?s.setUTCMinutes(n):s.setMinutes(n));case"Hours":return void(i?s.setUTCHours(n):s.setHours(n));case"Date":return void(i?s.setUTCDate(n):s.setDate(n));case"FullYear":break;default:return}o=n,r=e.month(),a=e.date(),a=a===29&&r===1&&!Dh(o)?28:a,i?s.setUTCFullYear(o,r,a):s.setFullYear(o,r,a)}}function gY(e){return e=Ys(e),xi(this[e])?this[e]():this}function yY(e,t){if(typeof e=="object"){e=Wg(e);var n=aY(e),s,i=n.length;for(s=0;s<i;s++)this[n[s].unit](e[n[s].unit])}else if(e=Ys(e),xi(this[e]))return this[e](t);return this}function vY(e,t){return(e%t+t)%t}var ln;Array.prototype.indexOf?ln=Array.prototype.indexOf:ln=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function zg(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=vY(t,12);return e+=(t-n)/12,n===1?Dh(e)?29:28:31-n%7%2}Fe("M",["MM",2],"Mo",function(){return this.month()+1});Fe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Fe("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ee("M",Vt,Xa);Ee("MM",Vt,_s);Ee("MMM",function(e,t){return t.monthsShortRegex(e)});Ee("MMMM",function(e,t){return t.monthsRegex(e)});Rt(["M","MM"],function(e,t){t[Zi]=ct(e)-1});Rt(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);i!=null?t[Zi]=i:et(n).invalidMonth=e});var _Y="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),YD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),HD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,bY=Pc,SY=Pc;function wY(e,t){return e?ei(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||HD).test(t)?"format":"standalone"][e.month()]:ei(this._months)?this._months:this._months.standalone}function DY(e,t){return e?ei(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[HD.test(t)?"format":"standalone"][e.month()]:ei(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function kY(e,t,n){var s,i,o,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)o=Ei([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=ln.call(this._shortMonthsParse,r),i!==-1?i:null):(i=ln.call(this._longMonthsParse,r),i!==-1?i:null):t==="MMM"?(i=ln.call(this._shortMonthsParse,r),i!==-1?i:(i=ln.call(this._longMonthsParse,r),i!==-1?i:null)):(i=ln.call(this._longMonthsParse,r),i!==-1?i:(i=ln.call(this._shortMonthsParse,r),i!==-1?i:null))}function TY(e,t,n){var s,i,o;if(this._monthsParseExact)return kY.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=Ei([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(n&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function WD(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ct(t);else if(t=e.localeData().monthsParse(t),!lo(t))return e}var n=t,s=e.date();return s=s<29?s:Math.min(s,zg(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,s):e._d.setMonth(n,s),e}function BD(e){return e!=null?(WD(this,e),M.updateOffset(this,!0),this):uc(this,"Month")}function CY(){return zg(this.year(),this.month())}function EY(e){return this._monthsParseExact?(Dt(this,"_monthsRegex")||VD.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Dt(this,"_monthsShortRegex")||(this._monthsShortRegex=bY),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function xY(e){return this._monthsParseExact?(Dt(this,"_monthsRegex")||VD.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Dt(this,"_monthsRegex")||(this._monthsRegex=SY),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function VD(){function e(c,d){return d.length-c.length}var t=[],n=[],s=[],i,o,r,a;for(i=0;i<12;i++)o=Ei([2e3,i]),r=oo(this.monthsShort(o,"")),a=oo(this.months(o,"")),t.push(r),n.push(a),s.push(a),s.push(r);t.sort(e),n.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function MY(e,t,n,s,i,o,r){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,s,i,o,r),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,s,i,o,r),a}function dc(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Od(e,t,n){var s=7+t-n,i=(7+dc(e,0,s).getUTCDay()-t)%7;return-i+s-1}function UD(e,t,n,s,i){var o=(7+n-s)%7,r=Od(e,s,i),a=1+7*(t-1)+o+r,c,d;return a<=0?(c=e-1,d=Bl(c)+a):a>Bl(e)?(c=e+1,d=a-Bl(e)):(c=e,d=a),{year:c,dayOfYear:d}}function hc(e,t,n){var s=Od(e.year(),t,n),i=Math.floor((e.dayOfYear()-s-1)/7)+1,o,r;return i<1?(r=e.year()-1,o=i+ro(r,t,n)):i>ro(e.year(),t,n)?(o=i-ro(e.year(),t,n),r=e.year()+1):(r=e.year(),o=i),{week:o,year:r}}function ro(e,t,n){var s=Od(e,t,n),i=Od(e+1,t,n);return(Bl(e)-s+i)/7}Fe("w",["ww",2],"wo","week");Fe("W",["WW",2],"Wo","isoWeek");Ee("w",Vt,Xa);Ee("ww",Vt,_s);Ee("W",Vt,Xa);Ee("WW",Vt,_s);Lc(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=ct(e)});function $Y(e){return hc(e,this._week.dow,this._week.doy).week}var AY={dow:0,doy:6};function OY(){return this._week.dow}function PY(){return this._week.doy}function LY(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function RY(e){var t=hc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Fe("d",0,"do","day");Fe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Fe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Fe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Fe("e",0,0,"weekday");Fe("E",0,0,"isoWeekday");Ee("d",Vt);Ee("e",Vt);Ee("E",Vt);Ee("dd",function(e,t){return t.weekdaysMinRegex(e)});Ee("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ee("dddd",function(e,t){return t.weekdaysRegex(e)});Lc(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);i!=null?t.d=i:et(n).invalidWeekday=e});Lc(["d","e","E"],function(e,t,n,s){t[s]=ct(e)});function NY(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function FY(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function jg(e,t){return e.slice(t,7).concat(e.slice(0,t))}var IY="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),zD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),YY="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),HY=Pc,WY=Pc,BY=Pc;function VY(e,t){var n=ei(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?jg(n,this._week.dow):e?n[e.day()]:n}function UY(e){return e===!0?jg(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zY(e){return e===!0?jg(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function jY(e,t,n){var s,i,o,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)o=Ei([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=ln.call(this._weekdaysParse,r),i!==-1?i:null):t==="ddd"?(i=ln.call(this._shortWeekdaysParse,r),i!==-1?i:null):(i=ln.call(this._minWeekdaysParse,r),i!==-1?i:null):t==="dddd"?(i=ln.call(this._weekdaysParse,r),i!==-1||(i=ln.call(this._shortWeekdaysParse,r),i!==-1)?i:(i=ln.call(this._minWeekdaysParse,r),i!==-1?i:null)):t==="ddd"?(i=ln.call(this._shortWeekdaysParse,r),i!==-1||(i=ln.call(this._weekdaysParse,r),i!==-1)?i:(i=ln.call(this._minWeekdaysParse,r),i!==-1?i:null)):(i=ln.call(this._minWeekdaysParse,r),i!==-1||(i=ln.call(this._weekdaysParse,r),i!==-1)?i:(i=ln.call(this._shortWeekdaysParse,r),i!==-1?i:null))}function GY(e,t,n){var s,i,o;if(this._weekdaysParseExact)return jY.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=Ei([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(n&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(n&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function KY(e){if(!this.isValid())return e!=null?this:NaN;var t=uc(this,"Day");return e!=null?(e=NY(e,this.localeData()),this.add(e-t,"d")):t}function qY(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function XY(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=FY(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function ZY(e){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||Gg.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Dt(this,"_weekdaysRegex")||(this._weekdaysRegex=HY),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function JY(e){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||Gg.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Dt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=WY),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function QY(e){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||Gg.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Dt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=BY),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gg(){function e(h,p){return p.length-h.length}var t=[],n=[],s=[],i=[],o,r,a,c,d;for(o=0;o<7;o++)r=Ei([2e3,1]).day(o),a=oo(this.weekdaysMin(r,"")),c=oo(this.weekdaysShort(r,"")),d=oo(this.weekdays(r,"")),t.push(a),n.push(c),s.push(d),i.push(a),i.push(c),i.push(d);t.sort(e),n.sort(e),s.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Kg(){return this.hours()%12||12}function eH(){return this.hours()||24}Fe("H",["HH",2],0,"hour");Fe("h",["hh",2],0,Kg);Fe("k",["kk",2],0,eH);Fe("hmm",0,0,function(){return""+Kg.apply(this)+Di(this.minutes(),2)});Fe("hmmss",0,0,function(){return""+Kg.apply(this)+Di(this.minutes(),2)+Di(this.seconds(),2)});Fe("Hmm",0,0,function(){return""+this.hours()+Di(this.minutes(),2)});Fe("Hmmss",0,0,function(){return""+this.hours()+Di(this.minutes(),2)+Di(this.seconds(),2)});function jD(e,t){Fe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}jD("a",!0);jD("A",!1);function GD(e,t){return t._meridiemParse}Ee("a",GD);Ee("A",GD);Ee("H",Vt,Ug);Ee("h",Vt,Xa);Ee("k",Vt,Xa);Ee("HH",Vt,_s);Ee("hh",Vt,_s);Ee("kk",Vt,_s);Ee("hmm",RD);Ee("hmmss",ND);Ee("Hmm",RD);Ee("Hmmss",ND);Rt(["H","HH"],yn);Rt(["k","kk"],function(e,t,n){var s=ct(e);t[yn]=s===24?0:s});Rt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Rt(["h","hh"],function(e,t,n){t[yn]=ct(e),et(n).bigHour=!0});Rt("hmm",function(e,t,n){var s=e.length-2;t[yn]=ct(e.substr(0,s)),t[qs]=ct(e.substr(s)),et(n).bigHour=!0});Rt("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[yn]=ct(e.substr(0,s)),t[qs]=ct(e.substr(s,2)),t[Ji]=ct(e.substr(i)),et(n).bigHour=!0});Rt("Hmm",function(e,t,n){var s=e.length-2;t[yn]=ct(e.substr(0,s)),t[qs]=ct(e.substr(s))});Rt("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[yn]=ct(e.substr(0,s)),t[qs]=ct(e.substr(s,2)),t[Ji]=ct(e.substr(i))});function tH(e){return(e+"").toLowerCase().charAt(0)==="p"}var nH=/[ap]\.?m?\.?/i,sH=Za("Hours",!0);function iH(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var KD={calendar:jI,longDateFormat:XI,invalidDate:JI,ordinal:eY,dayOfMonthOrdinalParse:tY,relativeTime:sY,months:_Y,monthsShort:YD,week:AY,weekdays:IY,weekdaysMin:YY,weekdaysShort:zD,meridiemParse:nH},jt={},wl={},fc;function oH(e,t){var n,s=Math.min(e.length,t.length);for(n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}function T0(e){return e&&e.toLowerCase().replace("_","-")}function rH(e){for(var t=0,n,s,i,o;t<e.length;){for(o=T0(e[t]).split("-"),n=o.length,s=T0(e[t+1]),s=s?s.split("-"):null;n>0;){if(i=kh(o.slice(0,n).join("-")),i)return i;if(s&&s.length>=n&&oH(o,s)>=n-1)break;n--}t++}return fc}function aH(e){return!!(e&&e.match("^[^/\\\\]*$"))}function kh(e){var t=null,n;if(jt[e]===void 0&&typeof wd<"u"&&wd&&wd.exports&&aH(e))try{t=fc._abbr,n=require,n("./locale/"+e),zo(t)}catch{jt[e]=null}return jt[e]}function zo(e,t){var n;return e&&(es(t)?n=fo(e):n=qg(e,t),n?fc=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),fc._abbr}function qg(e,t){if(t!==null){var n,s=KD;if(t.abbr=e,jt[e]!=null)AD("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=jt[e]._config;else if(t.parentLocale!=null)if(jt[t.parentLocale]!=null)s=jt[t.parentLocale]._config;else if(n=kh(t.parentLocale),n!=null)s=n._config;else return wl[t.parentLocale]||(wl[t.parentLocale]=[]),wl[t.parentLocale].push({name:e,config:t}),null;return jt[e]=new Yg(Pm(s,t)),wl[e]&&wl[e].forEach(function(i){qg(i.name,i.config)}),zo(e),jt[e]}else return delete jt[e],null}function lH(e,t){if(t!=null){var n,s,i=KD;jt[e]!=null&&jt[e].parentLocale!=null?jt[e].set(Pm(jt[e]._config,t)):(s=kh(e),s!=null&&(i=s._config),t=Pm(i,t),s==null&&(t.abbr=e),n=new Yg(t),n.parentLocale=jt[e],jt[e]=n),zo(e)}else jt[e]!=null&&(jt[e].parentLocale!=null?(jt[e]=jt[e].parentLocale,e===zo()&&zo(e)):jt[e]!=null&&delete jt[e]);return jt[e]}function fo(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return fc;if(!ei(e)){if(t=kh(e),t)return t;e=[e]}return rH(e)}function cH(){return Lm(jt)}function Xg(e){var t,n=e._a;return n&&et(e).overflow===-2&&(t=n[Zi]<0||n[Zi]>11?Zi:n[gi]<1||n[gi]>zg(n[Yn],n[Zi])?gi:n[yn]<0||n[yn]>24||n[yn]===24&&(n[qs]!==0||n[Ji]!==0||n[Mr]!==0)?yn:n[qs]<0||n[qs]>59?qs:n[Ji]<0||n[Ji]>59?Ji:n[Mr]<0||n[Mr]>999?Mr:-1,et(e)._overflowDayOfYear&&(t<Yn||t>gi)&&(t=gi),et(e)._overflowWeeks&&t===-1&&(t=fY),et(e)._overflowWeekday&&t===-1&&(t=pY),et(e).overflow=t),e}var uH=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dH=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hH=/Z|[+-]\d\d(?::?\d\d)?/,Uu=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Vp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fH=/^\/?Date\((-?\d+)/i,pH=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mH={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qD(e){var t,n,s=e._i,i=uH.exec(s)||dH.exec(s),o,r,a,c,d=Uu.length,h=Vp.length;if(i){for(et(e).iso=!0,t=0,n=d;t<n;t++)if(Uu[t][1].exec(i[1])){r=Uu[t][0],o=Uu[t][2]!==!1;break}if(r==null){e._isValid=!1;return}if(i[3]){for(t=0,n=h;t<n;t++)if(Vp[t][1].exec(i[3])){a=(i[2]||" ")+Vp[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(hH.exec(i[4]))c="Z";else{e._isValid=!1;return}e._f=r+(a||"")+(c||""),Jg(e)}else e._isValid=!1}function gH(e,t,n,s,i,o){var r=[yH(e),YD.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return o&&r.push(parseInt(o,10)),r}function yH(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function vH(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function _H(e,t,n){if(e){var s=zD.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return et(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function bH(e,t,n){if(e)return mH[e];if(t)return 0;var s=parseInt(n,10),i=s%100,o=(s-i)/100;return o*60+i}function XD(e){var t=pH.exec(vH(e._i)),n;if(t){if(n=gH(t[4],t[3],t[2],t[5],t[6],t[7]),!_H(t[1],n,e))return;e._a=n,e._tzm=bH(t[8],t[9],t[10]),e._d=dc.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),et(e).rfc2822=!0}else e._isValid=!1}function SH(e){var t=fH.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(qD(e),e._isValid===!1)delete e._isValid;else return;if(XD(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:M.createFromInputFallback(e)}M.createFromInputFallback=Is("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Sa(e,t,n){return e??t??n}function wH(e){var t=new Date(M.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Zg(e){var t,n,s=[],i,o,r;if(!e._d){for(i=wH(e),e._w&&e._a[gi]==null&&e._a[Zi]==null&&DH(e),e._dayOfYear!=null&&(r=Sa(e._a[Yn],i[Yn]),(e._dayOfYear>Bl(r)||e._dayOfYear===0)&&(et(e)._overflowDayOfYear=!0),n=dc(r,0,e._dayOfYear),e._a[Zi]=n.getUTCMonth(),e._a[gi]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[yn]===24&&e._a[qs]===0&&e._a[Ji]===0&&e._a[Mr]===0&&(e._nextDay=!0,e._a[yn]=0),e._d=(e._useUTC?dc:MY).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[yn]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(et(e).weekdayMismatch=!0)}}function DH(e){var t,n,s,i,o,r,a,c,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,r=4,n=Sa(t.GG,e._a[Yn],hc(Bt(),1,4).year),s=Sa(t.W,1),i=Sa(t.E,1),(i<1||i>7)&&(c=!0)):(o=e._locale._week.dow,r=e._locale._week.doy,d=hc(Bt(),o,r),n=Sa(t.gg,e._a[Yn],d.year),s=Sa(t.w,d.week),t.d!=null?(i=t.d,(i<0||i>6)&&(c=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o),s<1||s>ro(n,o,r)?et(e)._overflowWeeks=!0:c!=null?et(e)._overflowWeekday=!0:(a=UD(n,s,i,o,r),e._a[Yn]=a.year,e._dayOfYear=a.dayOfYear)}M.ISO_8601=function(){};M.RFC_2822=function(){};function Jg(e){if(e._f===M.ISO_8601){qD(e);return}if(e._f===M.RFC_2822){XD(e);return}e._a=[],et(e).empty=!0;var t=""+e._i,n,s,i,o,r,a=t.length,c=0,d,h;for(i=OD(e._f,e._locale).match(Hg)||[],h=i.length,n=0;n<h;n++)o=i[n],s=(t.match(uY(o,e))||[])[0],s&&(r=t.substr(0,t.indexOf(s)),r.length>0&&et(e).unusedInput.push(r),t=t.slice(t.indexOf(s)+s.length),c+=s.length),Aa[o]?(s?et(e).empty=!1:et(e).unusedTokens.push(o),hY(o,s,e)):e._strict&&!s&&et(e).unusedTokens.push(o);et(e).charsLeftOver=a-c,t.length>0&&et(e).unusedInput.push(t),e._a[yn]<=12&&et(e).bigHour===!0&&e._a[yn]>0&&(et(e).bigHour=void 0),et(e).parsedDateParts=e._a.slice(0),et(e).meridiem=e._meridiem,e._a[yn]=kH(e._locale,e._a[yn],e._meridiem),d=et(e).era,d!==null&&(e._a[Yn]=e._locale.erasConvertYear(d,e._a[Yn])),Zg(e),Xg(e)}function kH(e,t,n){var s;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(s=e.isPM(n),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function TH(e){var t,n,s,i,o,r,a=!1,c=e._f.length;if(c===0){et(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<c;i++)o=0,r=!1,t=Ig({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Jg(t),Fg(t)&&(r=!0),o+=et(t).charsLeftOver,o+=et(t).unusedTokens.length*10,et(t).score=o,a?o<s&&(s=o,n=t):(s==null||o<s||r)&&(s=o,n=t,r&&(a=!0));Fo(e,n||t)}function CH(e){if(!e._d){var t=Wg(e._i),n=t.day===void 0?t.date:t.day;e._a=MD([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),Zg(e)}}function EH(e){var t=new Oc(Xg(ZD(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ZD(e){var t=e._i,n=e._f;return e._locale=e._locale||fo(e._l),t===null||n===void 0&&t===""?yh({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),ti(t)?new Oc(Xg(t)):(Ac(t)?e._d=t:ei(n)?TH(e):n?Jg(e):xH(e),Fg(e)||(e._d=null),e))}function xH(e){var t=e._i;es(t)?e._d=new Date(M.now()):Ac(t)?e._d=new Date(t.valueOf()):typeof t=="string"?SH(e):ei(t)?(e._a=MD(t.slice(0),function(n){return parseInt(n,10)}),Zg(e)):Lr(t)?CH(e):lo(t)?e._d=new Date(t):M.createFromInputFallback(e)}function JD(e,t,n,s,i){var o={};return(t===!0||t===!1)&&(s=t,t=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(Lr(e)&&Ng(e)||ei(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=s,EH(o)}function Bt(e,t,n,s){return JD(e,t,n,s,!1)}var MH=Is("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:yh()}),$H=Is("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:yh()});function QD(e,t){var n,s;if(t.length===1&&ei(t[0])&&(t=t[0]),!t.length)return Bt();for(n=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](n))&&(n=t[s]);return n}function AH(){var e=[].slice.call(arguments,0);return QD("isBefore",e)}function OH(){var e=[].slice.call(arguments,0);return QD("isAfter",e)}var PH=function(){return Date.now?Date.now():+new Date},Dl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function LH(e){var t,n=!1,s,i=Dl.length;for(t in e)if(Dt(e,t)&&!(ln.call(Dl,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<i;++s)if(e[Dl[s]]){if(n)return!1;parseFloat(e[Dl[s]])!==ct(e[Dl[s]])&&(n=!0)}return!0}function RH(){return this._isValid}function NH(){return ii(NaN)}function Th(e){var t=Wg(e),n=t.year||0,s=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,r=t.day||0,a=t.hour||0,c=t.minute||0,d=t.second||0,h=t.millisecond||0;this._isValid=LH(t),this._milliseconds=+h+d*1e3+c*6e4+a*1e3*60*60,this._days=+r+o*7,this._months=+i+s*3+n*12,this._data={},this._locale=fo(),this._bubble()}function yd(e){return e instanceof Th}function Nm(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function FH(e,t,n){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,r;for(r=0;r<s;r++)ct(e[r])!==ct(t[r])&&o++;return o+i}function ek(e,t){Fe(e,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+Di(~~(n/60),2)+t+Di(~~n%60,2)})}ek("Z",":");ek("ZZ","");Ee("Z",wh);Ee("ZZ",wh);Rt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Qg(wh,e)});var IH=/([\+\-]|\d\d)/gi;function Qg(e,t){var n=(t||"").match(e),s,i,o;return n===null?null:(s=n[n.length-1]||[],i=(s+"").match(IH)||["-",0,0],o=+(i[1]*60)+ct(i[2]),o===0?0:i[0]==="+"?o:-o)}function ey(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(ti(e)||Ac(e)?e.valueOf():Bt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),M.updateOffset(n,!1),n):Bt(e).local()}function Fm(e){return-Math.round(e._d.getTimezoneOffset())}M.updateOffset=function(){};function YH(e,t,n){var s=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Qg(wh,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=Fm(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?sk(this,ii(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,M.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Fm(this)}function HH(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function WH(e){return this.utcOffset(0,e)}function BH(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Fm(this),"m")),this}function VH(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Qg(lY,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function UH(e){return this.isValid()?(e=e?Bt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function zH(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function jH(){if(!es(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Ig(e,this),e=ZD(e),e._a?(t=e._isUTC?Ei(e._a):Bt(e._a),this._isDSTShifted=this.isValid()&&FH(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function GH(){return this.isValid()?!this._isUTC:!1}function KH(){return this.isValid()?this._isUTC:!1}function tk(){return this.isValid()?this._isUTC&&this._offset===0:!1}var qH=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,XH=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ii(e,t){var n=e,s=null,i,o,r;return yd(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:lo(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(s=qH.exec(e))?(i=s[1]==="-"?-1:1,n={y:0,d:ct(s[gi])*i,h:ct(s[yn])*i,m:ct(s[qs])*i,s:ct(s[Ji])*i,ms:ct(Nm(s[Mr]*1e3))*i}):(s=XH.exec(e))?(i=s[1]==="-"?-1:1,n={y:br(s[2],i),M:br(s[3],i),w:br(s[4],i),d:br(s[5],i),h:br(s[6],i),m:br(s[7],i),s:br(s[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(r=ZH(Bt(n.from),Bt(n.to)),n={},n.ms=r.milliseconds,n.M=r.months),o=new Th(n),yd(e)&&Dt(e,"_locale")&&(o._locale=e._locale),yd(e)&&Dt(e,"_isValid")&&(o._isValid=e._isValid),o}ii.fn=Th.prototype;ii.invalid=NH;function br(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function C0(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ZH(e,t){var n;return e.isValid()&&t.isValid()?(t=ey(t,e),e.isBefore(t)?n=C0(e,t):(n=C0(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function nk(e,t){return function(n,s){var i,o;return s!==null&&!isNaN(+s)&&(AD(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=s,s=o),i=ii(n,s),sk(this,i,e),this}}function sk(e,t,n,s){var i=t._milliseconds,o=Nm(t._days),r=Nm(t._months);e.isValid()&&(s=s??!0,r&&WD(e,uc(e,"Month")+r*n),o&&ID(e,"Date",uc(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&M.updateOffset(e,o||r))}var JH=nk(1,"add"),QH=nk(-1,"subtract");function ik(e){return typeof e=="string"||e instanceof String}function eW(e){return ti(e)||Ac(e)||ik(e)||lo(e)||nW(e)||tW(e)||e===null||e===void 0}function tW(e){var t=Lr(e)&&!Ng(e),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,r=s.length;for(i=0;i<r;i+=1)o=s[i],n=n||Dt(e,o);return t&&n}function nW(e){var t=ei(e),n=!1;return t&&(n=e.filter(function(s){return!lo(s)&&ik(e)}).length===0),t&&n}function sW(e){var t=Lr(e)&&!Ng(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<s.length;i+=1)o=s[i],n=n||Dt(e,o);return t&&n}function iW(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function oW(e,t){arguments.length===1&&(arguments[0]?eW(arguments[0])?(e=arguments[0],t=void 0):sW(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Bt(),s=ey(n,this).startOf("day"),i=M.calendarFormat(this,s)||"sameElse",o=t&&(xi(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Bt(n)))}function rW(){return new Oc(this)}function aW(e,t){var n=ti(e)?e:Bt(e);return this.isValid()&&n.isValid()?(t=Ys(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function lW(e,t){var n=ti(e)?e:Bt(e);return this.isValid()&&n.isValid()?(t=Ys(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function cW(e,t,n,s){var i=ti(e)?e:Bt(e),o=ti(t)?t:Bt(t);return this.isValid()&&i.isValid()&&o.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(s[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function uW(e,t){var n=ti(e)?e:Bt(e),s;return this.isValid()&&n.isValid()?(t=Ys(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function dW(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function hW(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function fW(e,t,n){var s,i,o;if(!this.isValid())return NaN;if(s=ey(e,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,t=Ys(t),t){case"year":o=vd(this,s)/12;break;case"month":o=vd(this,s);break;case"quarter":o=vd(this,s)/3;break;case"second":o=(this-s)/1e3;break;case"minute":o=(this-s)/6e4;break;case"hour":o=(this-s)/36e5;break;case"day":o=(this-s-i)/864e5;break;case"week":o=(this-s-i)/6048e5;break;default:o=this-s}return n?o:Os(o)}function vd(e,t){if(e.date()<t.date())return-vd(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(n,"months"),i,o;return t-s<0?(i=e.clone().add(n-1,"months"),o=(t-s)/(s-i)):(i=e.clone().add(n+1,"months"),o=(t-s)/(i-s)),-(n+o)||0}M.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";M.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function pW(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mW(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?gd(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):xi(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gd(n,"Z")):gd(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gW(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,s,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+s+i+o)}function yW(e){e||(e=this.isUtc()?M.defaultFormatUtc:M.defaultFormat);var t=gd(this,e);return this.localeData().postformat(t)}function vW(e,t){return this.isValid()&&(ti(e)&&e.isValid()||Bt(e).isValid())?ii({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _W(e){return this.from(Bt(),e)}function bW(e,t){return this.isValid()&&(ti(e)&&e.isValid()||Bt(e).isValid())?ii({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function SW(e){return this.to(Bt(),e)}function ok(e){var t;return e===void 0?this._locale._abbr:(t=fo(e),t!=null&&(this._locale=t),this)}var rk=Is("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function ak(){return this._locale}var Pd=1e3,Oa=60*Pd,Ld=60*Oa,lk=(365*400+97)*24*Ld;function Pa(e,t){return(e%t+t)%t}function ck(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-lk:new Date(e,t,n).valueOf()}function uk(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-lk:Date.UTC(e,t,n)}function wW(e){var t,n;if(e=Ys(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?uk:ck,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Pa(t+(this._isUTC?0:this.utcOffset()*Oa),Ld);break;case"minute":t=this._d.valueOf(),t-=Pa(t,Oa);break;case"second":t=this._d.valueOf(),t-=Pa(t,Pd);break}return this._d.setTime(t),M.updateOffset(this,!0),this}function DW(e){var t,n;if(e=Ys(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?uk:ck,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ld-Pa(t+(this._isUTC?0:this.utcOffset()*Oa),Ld)-1;break;case"minute":t=this._d.valueOf(),t+=Oa-Pa(t,Oa)-1;break;case"second":t=this._d.valueOf(),t+=Pd-Pa(t,Pd)-1;break}return this._d.setTime(t),M.updateOffset(this,!0),this}function kW(){return this._d.valueOf()-(this._offset||0)*6e4}function TW(){return Math.floor(this.valueOf()/1e3)}function CW(){return new Date(this.valueOf())}function EW(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xW(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function MW(){return this.isValid()?this.toISOString():null}function $W(){return Fg(this)}function AW(){return Fo({},et(this))}function OW(){return et(this).overflow}function PW(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Fe("N",0,0,"eraAbbr");Fe("NN",0,0,"eraAbbr");Fe("NNN",0,0,"eraAbbr");Fe("NNNN",0,0,"eraName");Fe("NNNNN",0,0,"eraNarrow");Fe("y",["y",1],"yo","eraYear");Fe("y",["yy",2],0,"eraYear");Fe("y",["yyy",3],0,"eraYear");Fe("y",["yyyy",4],0,"eraYear");Ee("N",ty);Ee("NN",ty);Ee("NNN",ty);Ee("NNNN",UW);Ee("NNNNN",zW);Rt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){var i=n._locale.erasParse(e,s,n._strict);i?et(n).era=i:et(n).invalidEra=e});Ee("y",qa);Ee("yy",qa);Ee("yyy",qa);Ee("yyyy",qa);Ee("yo",jW);Rt(["y","yy","yyy","yyyy"],Yn);Rt(["yo"],function(e,t,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Yn]=n._locale.eraYearOrdinalParse(e,i):t[Yn]=parseInt(e,10)});function LW(e,t){var n,s,i,o=this._eras||fo("en")._eras;for(n=0,s=o.length;n<s;++n){switch(typeof o[n].since){case"string":i=M(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=M(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function RW(e,t,n){var s,i,o=this.eras(),r,a,c;for(e=e.toUpperCase(),s=0,i=o.length;s<i;++s)if(r=o[s].name.toUpperCase(),a=o[s].abbr.toUpperCase(),c=o[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[s];break;case"NNNN":if(r===e)return o[s];break;case"NNNNN":if(c===e)return o[s];break}else if([r,a,c].indexOf(e)>=0)return o[s]}function NW(e,t){var n=e.since<=e.until?1:-1;return t===void 0?M(e.since).year():M(e.since).year()+(t-e.offset)*n}function FW(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].name;return""}function IW(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].narrow;return""}function YW(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].abbr;return""}function HW(){var e,t,n,s,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,s=this.clone().startOf("day").valueOf(),i[e].since<=s&&s<=i[e].until||i[e].until<=s&&s<=i[e].since)return(this.year()-M(i[e].since).year())*n+i[e].offset;return this.year()}function WW(e){return Dt(this,"_erasNameRegex")||ny.call(this),e?this._erasNameRegex:this._erasRegex}function BW(e){return Dt(this,"_erasAbbrRegex")||ny.call(this),e?this._erasAbbrRegex:this._erasRegex}function VW(e){return Dt(this,"_erasNarrowRegex")||ny.call(this),e?this._erasNarrowRegex:this._erasRegex}function ty(e,t){return t.erasAbbrRegex(e)}function UW(e,t){return t.erasNameRegex(e)}function zW(e,t){return t.erasNarrowRegex(e)}function jW(e,t){return t._eraYearOrdinalRegex||qa}function ny(){var e=[],t=[],n=[],s=[],i,o,r,a,c,d=this.eras();for(i=0,o=d.length;i<o;++i)r=oo(d[i].name),a=oo(d[i].abbr),c=oo(d[i].narrow),t.push(r),e.push(a),n.push(c),s.push(r),s.push(a),s.push(c);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Fe(0,["gg",2],0,function(){return this.weekYear()%100});Fe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ch(e,t){Fe(0,[e,e.length],0,t)}Ch("gggg","weekYear");Ch("ggggg","weekYear");Ch("GGGG","isoWeekYear");Ch("GGGGG","isoWeekYear");Ee("G",Sh);Ee("g",Sh);Ee("GG",Vt,_s);Ee("gg",Vt,_s);Ee("GGGG",Vg,Bg);Ee("gggg",Vg,Bg);Ee("GGGGG",bh,vh);Ee("ggggg",bh,vh);Lc(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=ct(e)});Lc(["gg","GG"],function(e,t,n,s){t[s]=M.parseTwoDigitYear(e)});function GW(e){return dk.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function KW(e){return dk.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function qW(){return ro(this.year(),1,4)}function XW(){return ro(this.isoWeekYear(),1,4)}function ZW(){var e=this.localeData()._week;return ro(this.year(),e.dow,e.doy)}function JW(){var e=this.localeData()._week;return ro(this.weekYear(),e.dow,e.doy)}function dk(e,t,n,s,i){var o;return e==null?hc(this,s,i).year:(o=ro(e,s,i),t>o&&(t=o),QW.call(this,e,t,n,s,i))}function QW(e,t,n,s,i){var o=UD(e,t,n,s,i),r=dc(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}Fe("Q",0,"Qo","quarter");Ee("Q",PD);Rt("Q",function(e,t){t[Zi]=(ct(e)-1)*3});function e4(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Fe("D",["DD",2],"Do","date");Ee("D",Vt,Xa);Ee("DD",Vt,_s);Ee("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Rt(["D","DD"],gi);Rt("Do",function(e,t){t[gi]=ct(e.match(Vt)[0])});var hk=Za("Date",!0);Fe("DDD",["DDDD",3],"DDDo","dayOfYear");Ee("DDD",_h);Ee("DDDD",LD);Rt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ct(e)});function t4(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Fe("m",["mm",2],0,"minute");Ee("m",Vt,Ug);Ee("mm",Vt,_s);Rt(["m","mm"],qs);var n4=Za("Minutes",!1);Fe("s",["ss",2],0,"second");Ee("s",Vt,Ug);Ee("ss",Vt,_s);Rt(["s","ss"],Ji);var s4=Za("Seconds",!1);Fe("S",0,0,function(){return~~(this.millisecond()/100)});Fe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Fe(0,["SSS",3],0,"millisecond");Fe(0,["SSSS",4],0,function(){return this.millisecond()*10});Fe(0,["SSSSS",5],0,function(){return this.millisecond()*100});Fe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Fe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Fe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Fe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ee("S",_h,PD);Ee("SS",_h,_s);Ee("SSS",_h,LD);var Io,fk;for(Io="SSSS";Io.length<=9;Io+="S")Ee(Io,qa);function i4(e,t){t[Mr]=ct(("0."+e)*1e3)}for(Io="S";Io.length<=9;Io+="S")Rt(Io,i4);fk=Za("Milliseconds",!1);Fe("z",0,0,"zoneAbbr");Fe("zz",0,0,"zoneName");function o4(){return this._isUTC?"UTC":""}function r4(){return this._isUTC?"Coordinated Universal Time":""}var fe=Oc.prototype;fe.add=JH;fe.calendar=oW;fe.clone=rW;fe.diff=fW;fe.endOf=DW;fe.format=yW;fe.from=vW;fe.fromNow=_W;fe.to=bW;fe.toNow=SW;fe.get=gY;fe.invalidAt=OW;fe.isAfter=aW;fe.isBefore=lW;fe.isBetween=cW;fe.isSame=uW;fe.isSameOrAfter=dW;fe.isSameOrBefore=hW;fe.isValid=$W;fe.lang=rk;fe.locale=ok;fe.localeData=ak;fe.max=$H;fe.min=MH;fe.parsingFlags=AW;fe.set=yY;fe.startOf=wW;fe.subtract=QH;fe.toArray=EW;fe.toObject=xW;fe.toDate=CW;fe.toISOString=mW;fe.inspect=gW;typeof Symbol<"u"&&Symbol.for!=null&&(fe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});fe.toJSON=MW;fe.toString=pW;fe.unix=TW;fe.valueOf=kW;fe.creationData=PW;fe.eraName=FW;fe.eraNarrow=IW;fe.eraAbbr=YW;fe.eraYear=HW;fe.year=FD;fe.isLeapYear=mY;fe.weekYear=GW;fe.isoWeekYear=KW;fe.quarter=fe.quarters=e4;fe.month=BD;fe.daysInMonth=CY;fe.week=fe.weeks=LY;fe.isoWeek=fe.isoWeeks=RY;fe.weeksInYear=ZW;fe.weeksInWeekYear=JW;fe.isoWeeksInYear=qW;fe.isoWeeksInISOWeekYear=XW;fe.date=hk;fe.day=fe.days=KY;fe.weekday=qY;fe.isoWeekday=XY;fe.dayOfYear=t4;fe.hour=fe.hours=sH;fe.minute=fe.minutes=n4;fe.second=fe.seconds=s4;fe.millisecond=fe.milliseconds=fk;fe.utcOffset=YH;fe.utc=WH;fe.local=BH;fe.parseZone=VH;fe.hasAlignedHourOffset=UH;fe.isDST=zH;fe.isLocal=GH;fe.isUtcOffset=KH;fe.isUtc=tk;fe.isUTC=tk;fe.zoneAbbr=o4;fe.zoneName=r4;fe.dates=Is("dates accessor is deprecated. Use date instead.",hk);fe.months=Is("months accessor is deprecated. Use month instead",BD);fe.years=Is("years accessor is deprecated. Use year instead",FD);fe.zone=Is("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",HH);fe.isDSTShifted=Is("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",jH);function a4(e){return Bt(e*1e3)}function l4(){return Bt.apply(null,arguments).parseZone()}function pk(e){return e}var kt=Yg.prototype;kt.calendar=GI;kt.longDateFormat=ZI;kt.invalidDate=QI;kt.ordinal=nY;kt.preparse=pk;kt.postformat=pk;kt.relativeTime=iY;kt.pastFuture=oY;kt.set=zI;kt.eras=LW;kt.erasParse=RW;kt.erasConvertYear=NW;kt.erasAbbrRegex=BW;kt.erasNameRegex=WW;kt.erasNarrowRegex=VW;kt.months=wY;kt.monthsShort=DY;kt.monthsParse=TY;kt.monthsRegex=xY;kt.monthsShortRegex=EY;kt.week=$Y;kt.firstDayOfYear=PY;kt.firstDayOfWeek=OY;kt.weekdays=VY;kt.weekdaysMin=zY;kt.weekdaysShort=UY;kt.weekdaysParse=GY;kt.weekdaysRegex=ZY;kt.weekdaysShortRegex=JY;kt.weekdaysMinRegex=QY;kt.isPM=tH;kt.meridiem=iH;function Rd(e,t,n,s){var i=fo(),o=Ei().set(s,t);return i[n](o,e)}function mk(e,t,n){if(lo(e)&&(t=e,e=void 0),e=e||"",t!=null)return Rd(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Rd(e,s,n,"month");return i}function sy(e,t,n,s){typeof e=="boolean"?(lo(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,lo(t)&&(n=t,t=void 0),t=t||"");var i=fo(),o=e?i._week.dow:0,r,a=[];if(n!=null)return Rd(t,(n+o)%7,s,"day");for(r=0;r<7;r++)a[r]=Rd(t,(r+o)%7,s,"day");return a}function c4(e,t){return mk(e,t,"months")}function u4(e,t){return mk(e,t,"monthsShort")}function d4(e,t,n){return sy(e,t,n,"weekdays")}function h4(e,t,n){return sy(e,t,n,"weekdaysShort")}function f4(e,t,n){return sy(e,t,n,"weekdaysMin")}zo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ct(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});M.lang=Is("moment.lang is deprecated. Use moment.locale instead.",zo);M.langData=Is("moment.langData is deprecated. Use moment.localeData instead.",fo);var Hi=Math.abs;function p4(){var e=this._data;return this._milliseconds=Hi(this._milliseconds),this._days=Hi(this._days),this._months=Hi(this._months),e.milliseconds=Hi(e.milliseconds),e.seconds=Hi(e.seconds),e.minutes=Hi(e.minutes),e.hours=Hi(e.hours),e.months=Hi(e.months),e.years=Hi(e.years),this}function gk(e,t,n,s){var i=ii(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function m4(e,t){return gk(this,e,t,1)}function g4(e,t){return gk(this,e,t,-1)}function E0(e){return e<0?Math.floor(e):Math.ceil(e)}function y4(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data,i,o,r,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=E0(Im(n)+t)*864e5,t=0,n=0),s.milliseconds=e%1e3,i=Os(e/1e3),s.seconds=i%60,o=Os(i/60),s.minutes=o%60,r=Os(o/60),s.hours=r%24,t+=Os(r/24),c=Os(yk(t)),n+=c,t-=E0(Im(c)),a=Os(n/12),n%=12,s.days=t,s.months=n,s.years=a,this}function yk(e){return e*4800/146097}function Im(e){return e*146097/4800}function v4(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=Ys(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,n=this._months+yk(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Im(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function po(e){return function(){return this.as(e)}}var vk=po("ms"),_4=po("s"),b4=po("m"),S4=po("h"),w4=po("d"),D4=po("w"),k4=po("M"),T4=po("Q"),C4=po("y"),E4=vk;function x4(){return ii(this)}function M4(e){return e=Ys(e),this.isValid()?this[e+"s"]():NaN}function Gr(e){return function(){return this.isValid()?this._data[e]:NaN}}var $4=Gr("milliseconds"),A4=Gr("seconds"),O4=Gr("minutes"),P4=Gr("hours"),L4=Gr("days"),R4=Gr("months"),N4=Gr("years");function F4(){return Os(this.days()/7)}var Ki=Math.round,ka={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function I4(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function Y4(e,t,n,s){var i=ii(e).abs(),o=Ki(i.as("s")),r=Ki(i.as("m")),a=Ki(i.as("h")),c=Ki(i.as("d")),d=Ki(i.as("M")),h=Ki(i.as("w")),p=Ki(i.as("y")),g=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||r<=1&&["m"]||r<n.m&&["mm",r]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(g=g||h<=1&&["w"]||h<n.w&&["ww",h]),g=g||d<=1&&["M"]||d<n.M&&["MM",d]||p<=1&&["y"]||["yy",p],g[2]=t,g[3]=+e>0,g[4]=s,I4.apply(null,g)}function H4(e){return e===void 0?Ki:typeof e=="function"?(Ki=e,!0):!1}function W4(e,t){return ka[e]===void 0?!1:t===void 0?ka[e]:(ka[e]=t,e==="s"&&(ka.ss=t-1),!0)}function B4(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=ka,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(s=Object.assign({},ka,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),i=this.localeData(),o=Y4(this,!n,s,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var Up=Math.abs;function ya(e){return(e>0)-(e<0)||+e}function Eh(){if(!this.isValid())return this.localeData().invalidDate();var e=Up(this._milliseconds)/1e3,t=Up(this._days),n=Up(this._months),s,i,o,r,a=this.asSeconds(),c,d,h,p;return a?(s=Os(e/60),i=Os(s/60),e%=60,s%=60,o=Os(n/12),n%=12,r=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",d=ya(this._months)!==ya(a)?"-":"",h=ya(this._days)!==ya(a)?"-":"",p=ya(this._milliseconds)!==ya(a)?"-":"",c+"P"+(o?d+o+"Y":"")+(n?d+n+"M":"")+(t?h+t+"D":"")+(i||s||e?"T":"")+(i?p+i+"H":"")+(s?p+s+"M":"")+(e?p+r+"S":"")):"P0D"}var vt=Th.prototype;vt.isValid=RH;vt.abs=p4;vt.add=m4;vt.subtract=g4;vt.as=v4;vt.asMilliseconds=vk;vt.asSeconds=_4;vt.asMinutes=b4;vt.asHours=S4;vt.asDays=w4;vt.asWeeks=D4;vt.asMonths=k4;vt.asQuarters=T4;vt.asYears=C4;vt.valueOf=E4;vt._bubble=y4;vt.clone=x4;vt.get=M4;vt.milliseconds=$4;vt.seconds=A4;vt.minutes=O4;vt.hours=P4;vt.days=L4;vt.weeks=F4;vt.months=R4;vt.years=N4;vt.humanize=B4;vt.toISOString=Eh;vt.toString=Eh;vt.toJSON=Eh;vt.locale=ok;vt.localeData=ak;vt.toIsoString=Is("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Eh);vt.lang=rk;Fe("X",0,0,"unix");Fe("x",0,0,"valueOf");Ee("x",Sh);Ee("X",cY);Rt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Rt("x",function(e,t,n){n._d=new Date(ct(e))});//! moment.js
M.version="2.30.1";VI(Bt);M.fn=fe;M.min=AH;M.max=OH;M.now=PH;M.utc=Ei;M.unix=a4;M.months=c4;M.isDate=Ac;M.locale=zo;M.invalid=yh;M.duration=ii;M.isMoment=ti;M.weekdays=d4;M.parseZone=l4;M.localeData=fo;M.isDuration=yd;M.monthsShort=u4;M.weekdaysMin=f4;M.defineLocale=qg;M.updateLocale=lH;M.locales=cH;M.weekdaysShort=h4;M.normalizeUnits=Ys;M.relativeTimeRounding=H4;M.relativeTimeThreshold=W4;M.calendarFormat=iW;M.prototype=fe;M.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Ta=(e=>(e.empty="",e.draft="draft",e.published="published",e.partial="partial",e))(Ta||{}),Sn=(e=>(e.OPEN_DRAFT_DIALOG="openDraftDialog",e.SELECT_EMPLOYEE_AND_PUBLISH="selectEmployeeAndPublish",e.OPEN_ANALYSIS_CHART="openAnalysisChart",e.OPEN_COST_ANALYSIS="openCostAnalysis",e.PRINT_FLEX_SCHEDULE="printFlexSchedule",e.CHANGE_CELL_CONTROL="changeCellControl",e.SELECT_COST_CENTER="selectCostCenter",e.CHANGE_WEEK="changeWeek",e))(Sn||{});const x0={date:"",startTime:"",endTime:"",hours:0,breakLength:0,shiftId:"",position:"",costElement1:"",costElement2:"",scheduleType:"",notes:""},Ym=[{optionName:"Std Hours",selectable:!1,selected:!0,sort:"",width:90},{optionName:"Net Hours",selectable:!0,selected:!0,sort:"",width:90},{optionName:"Worker Type",selectable:!0,selected:!1,sort:"",width:90},{optionName:"Ta Role",selectable:!0,selected:!1,sort:"",width:70},{optionName:"Roster Group",selectable:!0,selected:!1,sort:"",width:100}];var Hm=(e=>(e.getWeekStatus="GET_WEEK_STATUS",e.hasFuturePaidDate="HAS_FUTURE_PAID_DATE",e))(Hm||{}),pc=(e=>(e.loadTargetSchedule="LOAD_TARGET_SCHEDULE",e.loadFlexiSchedules="LOAD_FLEXI_SCHEDULES",e))(pc||{}),Fn=(e=>(e.clearForm="CLEAR_FORM",e.setScheduleDay="SET_SCHEDULE_DAY",e.saveScheduleDayToWeek="SAVE_SCHEDULE_DAY_TO_WEEK",e.saveRemoteData="SAVE_REMOTE_DATA",e.updateEditConfig="UPDATE_EDIT_CONFIG",e.createNewScheduleDay="CREATE_NEW_SCHEDULE_DAY",e.setAnalysisData="SET_ANALYSIS_DATA",e.setConfigAllTrue="SET_CONFIG_ALL_TRUE",e.setWeekStatus="SET_WEEK_STATUS",e.setHasFuturePaidDate="SET_HAS_FUTURE_PAID_DATE",e.resetState="RESET_STATE",e.resetMultiColumnState="RESET_MULTI_COLUMN_STATE",e.employeeMultiColumnState="EMPLOYEE_MULTI_COLUMN_STATE",e))(Fn||{});const _k={selectedDate:M(),calendarFocusDate:M(),selectedFlexDay:null,defaultWorkTypes:null,analysisHoursChartData:null,flexScheduleRemoteData:null,weekStatus:Ta.empty,flexScheduleDay:{date:"",startTime:"",endTime:"",hours:0,breakLength:0,shiftId:"",position:"",costElement1:"",costElement2:"",scheduleType:"",notes:""},editFlexScheduleDayConfig:{startTime:!1,endTime:!1,hours:!1,breakLength:!1,shiftId:!1,position:!1,costElement1:!1,costElement2:!1},scheduleWeek:[],flexScheduleCellSetting:{showHours:{value:!1,name:"Net Hours"},showBreakLength:{value:!1,name:"Break Length"},showShiftId:{value:!1,name:"Shift ID"},showPosition:{value:!1,name:"Position"},showNotes:{value:!1,name:"Notes"}},leaveList:[],selectableColumn:Ym,employeeSelectableColumn:Ym.map(e=>(e.selected=!1,e)),hasFuturePaidDate:!1},V4={GET_WEEK_STATUS(e){return e.weekStatus},HAS_FUTURE_PAID_DATE:e=>e.hasFuturePaidDate},U4={CLEAR_FORM(e){e.flexScheduleDay={...x0}},CREATE_NEW_SCHEDULE_DAY(e,t){e.flexScheduleDay=x0,e.flexScheduleDay.scheduleType="",e.selectedFlexDay=t},SET_SCHEDULE_DAY(e,t){e.selectedFlexDay=t,e.flexScheduleDay.startTime=t.startTime,e.flexScheduleDay.endTime=t.endTime,e.flexScheduleDay.hours=t.hours,e.flexScheduleDay.scheduleType=t.scheduleType,e.flexScheduleDay.notes=t.notes;let n=Object.fromEntries(Object.entries(t.scheduleDetail).map(([s,i])=>[s.charAt(0).toLowerCase()+s.slice(1),i]));e.flexScheduleDay=is.merge({},e.flexScheduleDay,n)},SAVE_SCHEDULE_DAY_TO_WEEK(e){if(!e.selectedFlexDay){console.error("missing selected flex day");return}e.selectedFlexDay.startTime=e.flexScheduleDay.startTime,e.selectedFlexDay.endTime=e.flexScheduleDay.endTime,e.selectedFlexDay.scheduleDetail=is.merge({},e.selectedFlexDay.scheduleDetail,e.flexScheduleDay)},UPDATE_EDIT_CONFIG(e,t){e.editFlexScheduleDayConfig=is.clone(t)},SET_ANALYSIS_DATA(e,t){e.analysisHoursChartData=t},SAVE_REMOTE_DATA(e,t){e.flexScheduleRemoteData=t},SET_CONFIG_ALL_TRUE(e,t){e.flexScheduleCellSetting.showHours.value=!0,e.flexScheduleCellSetting.showBreakLength.value=!0,e.flexScheduleCellSetting.showShiftId.value=!0,e.flexScheduleCellSetting.showPosition.value=!0,e.flexScheduleCellSetting.showNotes.value=!0},SET_WEEK_STATUS(e,t){e.weekStatus=t},SET_HAS_FUTURE_PAID_DATE(e,t){e.hasFuturePaidDate=t},RESET_MULTI_COLUMN_STATE(e){G4(e.selectableColumn)},EMPLOYEE_MULTI_COLUMN_STATE(e){e.selectableColumn=e.selectableColumn.map(t=>(t.selected=!1,t))},RESET_STATE(e){is.cloneDeep(_k)}},z4={LOAD_TARGET_SCHEDULE({commit:e},t){Pe.GetFlexScheduleDetail(t).then(n=>{console.log("GetFlexScheduleDetail",n)})},LOAD_FLEXI_SCHEDULES({commit:e},t){const n={employeeNo:t.employeeNo,startDate:t.startDate.format("YYYY-MM-DD"),endDate:t.endDate.format("YYYY-MM-DD"),forManagedEmployees:!0};return Pe.GetFlexSchedules(n).then(s=>{let i=s.FlexSchedules;i.forEach(r=>{r.id=r.Id,r.date=r.Date,r.employeeName=r.EmployeeName,r.employeeNo=r.EmployeeNo,r.startTime=r.StartTime?M(r.StartTime).format("HH:mm"):"",r.endTime=r.EndTime?M(r.EndTime).format("HH:mm"):"",r.hours=r.Hours,r.scheduleDetail=r.ScheduleData,r.scheduleDetail.breakLength=r.scheduleDetail.BreakLength,r.scheduleDetail.position=r.scheduleDetail.Position,r.scheduleDetail.positionTitle=r.scheduleDetail.PositionTitle,r.scheduleDetail.shiftId=r.scheduleDetail.ShiftId,r.scheduleDetail.costElement1=r.scheduleDetail.CostElement1,r.scheduleDetail.costElement2=r.scheduleDetail.CostElement2,r.scheduleType=r.ScheduleType,r.publishStatus=r.PublishStatus,r.isPaid=r.IsPaid,r.dayInWeek=M(r.Date).day(),r.notes=r.Notes}),e("SAVE_REMOTE_DATA",i);let o=s.Unavailabilities.map(r=>({id:r.EmpAvailability.Id,unavailabilityDate:r.UnavailabilityDate,employeeNo:r.EmpAvailability.EmployeeNo,startTime:r.EmpAvailability.StartTime,endTime:r.EmpAvailability.EndTime,reason:r.EmpAvailability.Reason}));return{flexSchedules:i,unAvailabilities:o}})}},j4={state:is.cloneDeep(_k),getters:V4,mutations:U4,actions:z4};function G4(e){is.clone(Ym)}function K4(e){if(!e)return"";let t="Hmm";e.includes(":")&&(t="H:mm");let n=M(e,t);return n.isValid()?n.format("HH:mm"):"Invalid Time"}function Rc(){return window.innerWidth<768}function Vl(){return window.innerWidth<1e3}function M0(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t.charAt(0).toLowerCase()+t.slice(1),n]))}const $0={parseTimeColumn:K4},q4={name:"App",components:{schedulesNavigation:GF,Alert:uI},setup(){const e=_n();Vl()?e.commit(Fn.setConfigAllTrue):t();function t(){if(localStorage.getItem("clientStorageVersion")!=="0.12")localStorage.clear(),localStorage.setItem("clientStorageVersion","0.12"),localStorage.setItem("flexScheduleCellSetting",JSON.stringify(e.state.FlexSchedule.flexScheduleCellSetting)),localStorage.setItem("flexScheduleSelectableColumn",JSON.stringify(e.state.FlexSchedule.selectableColumn));else{let s=e.state.FlexSchedule.flexScheduleCellSetting,i=JSON.parse(localStorage.getItem("flexScheduleCellSetting"));for(let a of Object.keys(i))s[a]&&(s[a]=i[a]);let o=e.state.FlexSchedule.selectableColumn,r=JSON.parse(localStorage.getItem("flexScheduleSelectableColumn"));for(let a of Object.keys(r))o[a]&&(o[a]=r[a])}}},mounted(){console.log("app vue created")}},X4={class:"dashboard"},Z4={class:"pagewrapper"},J4={class:"pagecontent"},Q4={class:"contentwrapper"},e3={class:"v-application",tabindex:"2"};function t3(e,t,n,s,i,o){const r=ye("schedules-navigation"),a=ye("alert"),c=ye("router-view");return S(),D("div",X4,[m("div",Z4,[m("div",J4,[m("div",Q4,[m("div",e3,[ce(r),ce(a),ce(c)])])])])])}const n3=Ne(q4,[["render",t3]]);/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const wa=typeof document<"u";function s3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const $t=Object.assign;function zp(e,t){const n={};for(const s in t){const i=t[s];n[s]=ni(i)?i.map(e):e(i)}return n}const Ul=()=>{},ni=Array.isArray,bk=/#/g,i3=/&/g,o3=/\//g,r3=/=/g,a3=/\?/g,Sk=/\+/g,l3=/%5B/g,c3=/%5D/g,wk=/%5E/g,u3=/%60/g,Dk=/%7B/g,d3=/%7C/g,kk=/%7D/g,h3=/%20/g;function iy(e){return encodeURI(""+e).replace(d3,"|").replace(l3,"[").replace(c3,"]")}function f3(e){return iy(e).replace(Dk,"{").replace(kk,"}").replace(wk,"^")}function Wm(e){return iy(e).replace(Sk,"%2B").replace(h3,"+").replace(bk,"%23").replace(i3,"%26").replace(u3,"`").replace(Dk,"{").replace(kk,"}").replace(wk,"^")}function p3(e){return Wm(e).replace(r3,"%3D")}function m3(e){return iy(e).replace(bk,"%23").replace(a3,"%3F")}function g3(e){return e==null?"":m3(e).replace(o3,"%2F")}function mc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const y3=/\/$/,v3=e=>e.replace(y3,"");function jp(e,t,n="/"){let s,i={},o="",r="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),o=t.slice(c+1,a>-1?a:t.length),i=e(o)),a>-1&&(s=s||t.slice(0,a),r=t.slice(a,t.length)),s=w3(s??t,n),{fullPath:s+(o&&"?")+o+r,path:s,query:i,hash:mc(r)}}function _3(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function A0(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function b3(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Ha(t.matched[s],n.matched[i])&&Tk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ha(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Tk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!S3(e[n],t[n]))return!1;return!0}function S3(e,t){return ni(e)?O0(e,t):ni(t)?O0(t,e):e===t}function O0(e,t){return ni(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function w3(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let o=n.length-1,r,a;for(r=0;r<s.length;r++)if(a=s[r],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(r).join("/")}var gc;(function(e){e.pop="pop",e.push="push"})(gc||(gc={}));var zl;(function(e){e.back="back",e.forward="forward",e.unknown=""})(zl||(zl={}));function D3(e){if(!e)if(wa){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),v3(e)}const k3=/^[^#]+#/;function T3(e,t){return e.replace(k3,"#")+t}function C3(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const xh=()=>({left:window.scrollX,top:window.scrollY});function E3(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=C3(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function P0(e,t){return(history.state?history.state.position-t:-1)+e}const Bm=new Map;function x3(e,t){Bm.set(e,t)}function M3(e){const t=Bm.get(e);return Bm.delete(e),t}let $3=()=>location.protocol+"//"+location.host;function Ck(e,t){const{pathname:n,search:s,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),A0(c,"")}return A0(n,e)+s+i}function A3(e,t,n,s){let i=[],o=[],r=null;const a=({state:g})=>{const y=Ck(e,location),_=n.value,T=t.value;let w=0;if(g){if(n.value=y,t.value=g,r&&r===_){r=null;return}w=T?g.position-T.position:0}else s(y);i.forEach(k=>{k(n.value,_,{delta:w,type:gc.pop,direction:w?w>0?zl.forward:zl.back:zl.unknown})})};function c(){r=n.value}function d(g){i.push(g);const y=()=>{const _=i.indexOf(g);_>-1&&i.splice(_,1)};return o.push(y),y}function h(){const{history:g}=window;g.state&&g.replaceState($t({},g.state,{scroll:xh()}),"")}function p(){for(const g of o)g();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:d,destroy:p}}function L0(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?xh():null}}function O3(e){const{history:t,location:n}=window,s={value:Ck(e,n)},i={value:t.state};i.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,d,h){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:$3()+e+c;try{t[h?"replaceState":"pushState"](d,"",g),i.value=d}catch(y){console.error(y),n[h?"replace":"assign"](g)}}function r(c,d){const h=$t({},t.state,L0(i.value.back,c,i.value.forward,!0),d,{position:i.value.position});o(c,h,!0),s.value=c}function a(c,d){const h=$t({},i.value,t.state,{forward:c,scroll:xh()});o(h.current,h,!0);const p=$t({},L0(s.value,c,null),{position:h.position+1},d);o(c,p,!1),s.value=c}return{location:s,state:i,push:a,replace:r}}function P3(e){e=D3(e);const t=O3(e),n=A3(e,t.state,t.location,t.replace);function s(o,r=!0){r||n.pauseListeners(),history.go(o)}const i=$t({location:"",base:e,go:s,createHref:T3.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function L3(e){return typeof e=="string"||e&&typeof e=="object"}function Ek(e){return typeof e=="string"||typeof e=="symbol"}const Eo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xk=Symbol("");var R0;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(R0||(R0={}));function Wa(e,t){return $t(new Error,{type:e,[xk]:!0},t)}function Wi(e,t){return e instanceof Error&&xk in e&&(t==null||!!(e.type&t))}const N0="[^/]+?",R3={sensitive:!1,strict:!1,start:!0,end:!0},N3=/[.+*?^${}()[\]/\\]/g;function F3(e,t){const n=$t({},R3,t),s=[];let i=n.start?"^":"";const o=[];for(const d of e){const h=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let p=0;p<d.length;p++){const g=d[p];let y=40+(n.sensitive?.25:0);if(g.type===0)p||(i+="/"),i+=g.value.replace(N3,"\\$&"),y+=40;else if(g.type===1){const{value:_,repeatable:T,optional:w,regexp:k}=g;o.push({name:_,repeatable:T,optional:w});const x=k||N0;if(x!==N0){y+=10;try{new RegExp(`(${x})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${_}" (${x}): `+L.message)}}let $=T?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;p||($=w&&d.length<2?`(?:/${$})`:"/"+$),w&&($+="?"),i+=$,y+=20,w&&(y+=-8),T&&(y+=-20),x===".*"&&(y+=-50)}h.push(y)}s.push(h)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const r=new RegExp(i,n.sensitive?"":"i");function a(d){const h=d.match(r),p={};if(!h)return null;for(let g=1;g<h.length;g++){const y=h[g]||"",_=o[g-1];p[_.name]=y&&_.repeatable?y.split("/"):y}return p}function c(d){let h="",p=!1;for(const g of e){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const y of g)if(y.type===0)h+=y.value;else if(y.type===1){const{value:_,repeatable:T,optional:w}=y,k=_ in d?d[_]:"";if(ni(k)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const x=ni(k)?k.join("/"):k;if(!x)if(w)g.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${_}"`);h+=x}}return h||"/"}return{re:r,score:s,keys:o,parse:a,stringify:c}}function I3(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Mk(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const o=I3(s[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-s.length)===1){if(F0(s))return 1;if(F0(i))return-1}return i.length-s.length}function F0(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Y3={type:0,value:""},H3=/[a-zA-Z0-9_]/;function W3(e){if(!e)return[[]];if(e==="/")return[[Y3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,s=n;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,c,d="",h="";function p(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&p(),r()):c===":"?(p(),n=1):g();break;case 4:g(),n=s;break;case 1:c==="("?n=2:H3.test(c)?g():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),p(),r(),i}function B3(e,t,n){const s=F3(W3(e.path),n),i=$t(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function V3(e,t){const n=[],s=new Map;t=H0({strict:!1,end:!0,sensitive:!1},t);function i(h){return s.get(h)}function o(h,p,g){const y=!g,_=U3(h);_.aliasOf=g&&g.record;const T=H0(t,h),w=[_];if("alias"in h){const $=typeof h.alias=="string"?[h.alias]:h.alias;for(const L of $)w.push($t({},_,{components:g?g.record.components:_.components,path:L,aliasOf:g?g.record:_}))}let k,x;for(const $ of w){const{path:L}=$;if(p&&L[0]!=="/"){const F=p.record.path,R=F[F.length-1]==="/"?"":"/";$.path=p.record.path+(L&&R+L)}if(k=B3($,p,T),g?g.alias.push(k):(x=x||k,x!==k&&x.alias.push(k),y&&h.name&&!Y0(k)&&r(h.name)),$k(k)&&c(k),_.children){const F=_.children;for(let R=0;R<F.length;R++)o(F[R],k,g&&g.children[R])}g=g||k}return x?()=>{r(x)}:Ul}function r(h){if(Ek(h)){const p=s.get(h);p&&(s.delete(h),n.splice(n.indexOf(p),1),p.children.forEach(r),p.alias.forEach(r))}else{const p=n.indexOf(h);p>-1&&(n.splice(p,1),h.record.name&&s.delete(h.record.name),h.children.forEach(r),h.alias.forEach(r))}}function a(){return n}function c(h){const p=G3(h,n);n.splice(p,0,h),h.record.name&&!Y0(h)&&s.set(h.record.name,h)}function d(h,p){let g,y={},_,T;if("name"in h&&h.name){if(g=s.get(h.name),!g)throw Wa(1,{location:h});T=g.record.name,y=$t(I0(p.params,g.keys.filter(x=>!x.optional).concat(g.parent?g.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),h.params&&I0(h.params,g.keys.map(x=>x.name))),_=g.stringify(y)}else if(h.path!=null)_=h.path,g=n.find(x=>x.re.test(_)),g&&(y=g.parse(_),T=g.record.name);else{if(g=p.name?s.get(p.name):n.find(x=>x.re.test(p.path)),!g)throw Wa(1,{location:h,currentLocation:p});T=g.record.name,y=$t({},p.params,h.params),_=g.stringify(y)}const w=[];let k=g;for(;k;)w.unshift(k.record),k=k.parent;return{name:T,path:_,params:y,matched:w,meta:j3(w)}}return e.forEach(h=>o(h)),{addRoute:o,resolve:d,removeRoute:r,getRoutes:a,getRecordMatcher:i}}function I0(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function U3(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:z3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function z3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Y0(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function j3(e){return e.reduce((t,n)=>$t(t,n.meta),{})}function H0(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function G3(e,t){let n=0,s=t.length;for(;n!==s;){const o=n+s>>1;Mk(e,t[o])<0?s=o:n=o+1}const i=K3(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function K3(e){let t=e;for(;t=t.parent;)if($k(t)&&Mk(e,t)===0)return t}function $k({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function q3(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<s.length;++i){const o=s[i].replace(Sk," "),r=o.indexOf("="),a=mc(r<0?o:o.slice(0,r)),c=r<0?null:mc(o.slice(r+1));if(a in t){let d=t[a];ni(d)||(d=t[a]=[d]),d.push(c)}else t[a]=c}return t}function W0(e){let t="";for(let n in e){const s=e[n];if(n=p3(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ni(s)?s.map(o=>o&&Wm(o)):[s&&Wm(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function X3(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ni(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const Z3=Symbol(""),B0=Symbol(""),Mh=Symbol(""),Ak=Symbol(""),Vm=Symbol("");function kl(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Lo(e,t,n,s,i,o=r=>r()){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const d=g=>{g===!1?c(Wa(4,{from:n,to:t})):g instanceof Error?c(g):L3(g)?c(Wa(2,{from:t,to:g})):(r&&s.enterCallbacks[i]===r&&typeof g=="function"&&r.push(g),a())},h=o(()=>e.call(s&&s.instances[i],t,n,d));let p=Promise.resolve(h);e.length<3&&(p=p.then(d)),p.catch(g=>c(g))})}function Gp(e,t,n,s,i=o=>o()){const o=[];for(const r of e)for(const a in r.components){let c=r.components[a];if(!(t!=="beforeRouteEnter"&&!r.instances[a]))if(J3(c)){const h=(c.__vccOpts||c)[t];h&&o.push(Lo(h,n,s,r,a,i))}else{let d=c();o.push(()=>d.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const p=s3(h)?h.default:h;r.components[a]=p;const y=(p.__vccOpts||p)[t];return y&&Lo(y,n,s,r,a,i)()}))}}return o}function J3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function V0(e){const t=kn(Mh),n=kn(Ak),s=An(()=>{const c=jn(e.to);return t.resolve(c)}),i=An(()=>{const{matched:c}=s.value,{length:d}=c,h=c[d-1],p=n.matched;if(!h||!p.length)return-1;const g=p.findIndex(Ha.bind(null,h));if(g>-1)return g;const y=U0(c[d-2]);return d>1&&U0(h)===y&&p[p.length-1].path!==y?p.findIndex(Ha.bind(null,c[d-2])):g}),o=An(()=>i.value>-1&&nB(n.params,s.value.params)),r=An(()=>i.value>-1&&i.value===n.matched.length-1&&Tk(n.params,s.value.params));function a(c={}){return tB(c)?t[jn(e.replace)?"replace":"push"](jn(e.to)).catch(Ul):Promise.resolve()}return{route:s,href:An(()=>s.value.href),isActive:o,isExactActive:r,navigate:a}}const Q3=Ve({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:V0,setup(e,{slots:t}){const n=Ec(V0(e)),{options:s}=kn(Mh),i=An(()=>({[z0(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[z0(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Ga("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),eB=Q3;function tB(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function nB(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!ni(i)||i.length!==s.length||s.some((o,r)=>o!==i[r]))return!1}return!0}function U0(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const z0=(e,t,n)=>e??t??n,sB=Ve({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=kn(Vm),i=An(()=>e.route||s.value),o=kn(B0,0),r=An(()=>{let d=jn(o);const{matched:h}=i.value;let p;for(;(p=h[d])&&!p.components;)d++;return d}),a=An(()=>i.value.matched[r.value]);ud(B0,An(()=>r.value+1)),ud(Z3,a),ud(Vm,i);const c=V();return Uo(()=>[c.value,a.value,e.name],([d,h,p],[g,y,_])=>{h&&(h.instances[p]=d,y&&y!==h&&d&&d===g&&(h.leaveGuards.size||(h.leaveGuards=y.leaveGuards),h.updateGuards.size||(h.updateGuards=y.updateGuards))),d&&h&&(!y||!Ha(h,y)||!g)&&(h.enterCallbacks[p]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=i.value,h=e.name,p=a.value,g=p&&p.components[h];if(!g)return j0(n.default,{Component:g,route:d});const y=p.props[h],_=y?y===!0?d.params:typeof y=="function"?y(d):y:null,w=Ga(g,$t({},_,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(p.instances[h]=null)},ref:c}));return j0(n.default,{Component:w,route:d})||w}}});function j0(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const iB=sB;function oB(e){const t=V3(e.routes,e),n=e.parseQuery||q3,s=e.stringifyQuery||W0,i=e.history,o=kl(),r=kl(),a=kl(),c=UL(Eo);let d=Eo;wa&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=zp.bind(null,Q=>""+Q),p=zp.bind(null,g3),g=zp.bind(null,mc);function y(Q,be){let _e,Oe;return Ek(Q)?(_e=t.getRecordMatcher(Q),Oe=be):Oe=Q,t.addRoute(Oe,_e)}function _(Q){const be=t.getRecordMatcher(Q);be&&t.removeRoute(be)}function T(){return t.getRoutes().map(Q=>Q.record)}function w(Q){return!!t.getRecordMatcher(Q)}function k(Q,be){if(be=$t({},be||c.value),typeof Q=="string"){const P=jp(n,Q,be.path),q=t.resolve({path:P.path},be),re=i.createHref(P.fullPath);return $t(P,q,{params:g(q.params),hash:mc(P.hash),redirectedFrom:void 0,href:re})}let _e;if(Q.path!=null)_e=$t({},Q,{path:jp(n,Q.path,be.path).path});else{const P=$t({},Q.params);for(const q in P)P[q]==null&&delete P[q];_e=$t({},Q,{params:p(P)}),be.params=p(be.params)}const Oe=t.resolve(_e,be),mt=Q.hash||"";Oe.params=h(g(Oe.params));const Pt=_3(s,$t({},Q,{hash:f3(mt),path:Oe.path})),A=i.createHref(Pt);return $t({fullPath:Pt,hash:mt,query:s===W0?X3(Q.query):Q.query||{}},Oe,{redirectedFrom:void 0,href:A})}function x(Q){return typeof Q=="string"?jp(n,Q,c.value.path):$t({},Q)}function $(Q,be){if(d!==Q)return Wa(8,{from:be,to:Q})}function L(Q){return W(Q)}function F(Q){return L($t(x(Q),{replace:!0}))}function R(Q){const be=Q.matched[Q.matched.length-1];if(be&&be.redirect){const{redirect:_e}=be;let Oe=typeof _e=="function"?_e(Q):_e;return typeof Oe=="string"&&(Oe=Oe.includes("?")||Oe.includes("#")?Oe=x(Oe):{path:Oe},Oe.params={}),$t({query:Q.query,hash:Q.hash,params:Oe.path!=null?{}:Q.params},Oe)}}function W(Q,be){const _e=d=k(Q),Oe=c.value,mt=Q.state,Pt=Q.force,A=Q.replace===!0,P=R(_e);if(P)return W($t(x(P),{state:typeof P=="object"?$t({},mt,P.state):mt,force:Pt,replace:A}),be||_e);const q=_e;q.redirectedFrom=be;let re;return!Pt&&b3(s,Oe,_e)&&(re=Wa(16,{to:q,from:Oe}),Re(Oe,Oe,!0,!1)),(re?Promise.resolve(re):N(q,Oe)).catch(ee=>Wi(ee)?Wi(ee,2)?ee:xe(ee):Se(ee,q,Oe)).then(ee=>{if(ee){if(Wi(ee,2))return W($t({replace:A},x(ee.to),{state:typeof ee.to=="object"?$t({},mt,ee.to.state):mt,force:Pt}),be||q)}else ee=j(q,Oe,!0,A,mt);return G(q,Oe,ee),ee})}function z(Q,be){const _e=$(Q,be);return _e?Promise.reject(_e):Promise.resolve()}function Y(Q){const be=fn.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(Q):Q()}function N(Q,be){let _e;const[Oe,mt,Pt]=rB(Q,be);_e=Gp(Oe.reverse(),"beforeRouteLeave",Q,be);for(const P of Oe)P.leaveGuards.forEach(q=>{_e.push(Lo(q,Q,be))});const A=z.bind(null,Q,be);return _e.push(A),st(_e).then(()=>{_e=[];for(const P of o.list())_e.push(Lo(P,Q,be));return _e.push(A),st(_e)}).then(()=>{_e=Gp(mt,"beforeRouteUpdate",Q,be);for(const P of mt)P.updateGuards.forEach(q=>{_e.push(Lo(q,Q,be))});return _e.push(A),st(_e)}).then(()=>{_e=[];for(const P of Pt)if(P.beforeEnter)if(ni(P.beforeEnter))for(const q of P.beforeEnter)_e.push(Lo(q,Q,be));else _e.push(Lo(P.beforeEnter,Q,be));return _e.push(A),st(_e)}).then(()=>(Q.matched.forEach(P=>P.enterCallbacks={}),_e=Gp(Pt,"beforeRouteEnter",Q,be,Y),_e.push(A),st(_e))).then(()=>{_e=[];for(const P of r.list())_e.push(Lo(P,Q,be));return _e.push(A),st(_e)}).catch(P=>Wi(P,8)?P:Promise.reject(P))}function G(Q,be,_e){a.list().forEach(Oe=>Y(()=>Oe(Q,be,_e)))}function j(Q,be,_e,Oe,mt){const Pt=$(Q,be);if(Pt)return Pt;const A=be===Eo,P=wa?history.state:{};_e&&(Oe||A?i.replace(Q.fullPath,$t({scroll:A&&P&&P.scroll},mt)):i.push(Q.fullPath,mt)),c.value=Q,Re(Q,be,_e,A),xe()}let J;function ue(){J||(J=i.listen((Q,be,_e)=>{if(!Ue.listening)return;const Oe=k(Q),mt=R(Oe);if(mt){W($t(mt,{replace:!0}),Oe).catch(Ul);return}d=Oe;const Pt=c.value;wa&&x3(P0(Pt.fullPath,_e.delta),xh()),N(Oe,Pt).catch(A=>Wi(A,12)?A:Wi(A,2)?(W(A.to,Oe).then(P=>{Wi(P,20)&&!_e.delta&&_e.type===gc.pop&&i.go(-1,!1)}).catch(Ul),Promise.reject()):(_e.delta&&i.go(-_e.delta,!1),Se(A,Oe,Pt))).then(A=>{A=A||j(Oe,Pt,!1),A&&(_e.delta&&!Wi(A,8)?i.go(-_e.delta,!1):_e.type===gc.pop&&Wi(A,20)&&i.go(-1,!1)),G(Oe,Pt,A)}).catch(Ul)}))}let oe=kl(),le=kl(),me;function Se(Q,be,_e){xe(Q);const Oe=le.list();return Oe.length?Oe.forEach(mt=>mt(Q,be,_e)):console.error(Q),Promise.reject(Q)}function Te(){return me&&c.value!==Eo?Promise.resolve():new Promise((Q,be)=>{oe.add([Q,be])})}function xe(Q){return me||(me=!Q,ue(),oe.list().forEach(([be,_e])=>Q?_e(Q):be()),oe.reset()),Q}function Re(Q,be,_e,Oe){const{scrollBehavior:mt}=e;if(!wa||!mt)return Promise.resolve();const Pt=!_e&&M3(P0(Q.fullPath,0))||(Oe||!_e)&&history.state&&history.state.scroll||null;return Ks().then(()=>mt(Q,be,Pt)).then(A=>A&&E3(A)).catch(A=>Se(A,Q,be))}const Ye=Q=>i.go(Q);let ot;const fn=new Set,Ue={currentRoute:c,listening:!0,addRoute:y,removeRoute:_,hasRoute:w,getRoutes:T,resolve:k,options:e,push:L,replace:F,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:le.add,isReady:Te,install(Q){const be=this;Q.component("RouterLink",eB),Q.component("RouterView",iB),Q.config.globalProperties.$router=be,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>jn(c)}),wa&&!ot&&c.value===Eo&&(ot=!0,L(i.location).catch(mt=>{}));const _e={};for(const mt in Eo)Object.defineProperty(_e,mt,{get:()=>c.value[mt],enumerable:!0});Q.provide(Mh,be),Q.provide(Ak,i1(_e)),Q.provide(Vm,c);const Oe=Q.unmount;fn.add(Q),Q.unmount=function(){fn.delete(Q),fn.size<1&&(d=Eo,J&&J(),J=null,c.value=Eo,ot=!1,me=!1),Oe()}}};function st(Q){return Q.reduce((be,_e)=>be.then(()=>Y(_e)),Promise.resolve())}return Ue}function rB(e,t){const n=[],s=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const a=t.matched[r];a&&(e.matched.find(d=>Ha(d,a))?s.push(a):n.push(a));const c=e.matched[r];c&&(t.matched.find(d=>Ha(d,c))||i.push(c))}return[n,s,i]}function $h(){return kn(Mh)}function aB(){os.emit("dialog",{message:"here is a test dialog",showButtons:!0,showCancel:!0,okColor:"orange"})}function lB(e){os.emit("dialog",{dialog:!0,message:e.message,showCancel:!0,showButtons:!0,showLoader:!1,confirmButtonText:e.confirmButtonText?e.confirmButtonText:"Yes",cancelButtonText:e.cancelButtonText?e.cancelButtonText:"No",onOk:()=>{e.onOk()},onCancel:()=>{e.onCancel&&e.onCancel()}})}function cB(e){return new Promise((t,n)=>{os.emit("dialog",{dialog:!0,message:e.message,showCancel:!0,showButtons:!0,showLoader:!1,confirmButtonText:e.confirmButtonText?e.confirmButtonText:"Yes",cancelButtonText:e.cancelButtonText?e.cancelButtonText:"No",onOk:()=>{t("ok")},onCancel:()=>{n("cancel")}})})}function uB(e){os.emit("dialog",{dialog:!0,message:e,showLoader:!1,showButtons:!0,onOk:()=>{},onCancel:()=>{}})}function dB(e){os.emit("dialog",{dialog:!0,message:e||"Loading",showCancel:!1,showButtons:!1,showLoader:!0})}function hB(){os.emit("clearDialog")}const K={testDialog:aB,loading:dB,clear:hB,checkChange:lB,alert:uB,confirmOrCancel:cB},fB=Ve({name:"DatePicker",components:{Modal:cs},props:{top:{type:Number},leftInput:{type:Number},date:{type:Object},maxDate:{type:Object},minDate:{type:Object}},data(){return{left:0,currentYear:2021,datePickerPromise:null,resolve:null,reject:null,selectedDate:M(),manageCompanyConfig:null}},setup(){const e=V([]),t=V();t.value=M().month();const n=V([{fullName:"Monday",shortName:"Mon",dayNumber:1},{fullName:"Tuesday",shortName:"Tue",dayNumber:2},{fullName:"Wednesday",shortName:"Wed",dayNumber:3},{fullName:"Thursday",shortName:"Thu",dayNumber:4},{fullName:"Friday",shortName:"Fri",dayNumber:5},{fullName:"Saturday",shortName:"Sat",dayNumber:6},{fullName:"Sunday",shortName:"Sun",dayNumber:0}]);return{currentMonth:t,calendarArr:e,weekOfDays:n}},mounted(){var e,t;this.manageCompanyConfig=kn("MANAGE_COMPANY_CONFIG"),console.log("company config",(e=this.manageCompanyConfig)==null?void 0:e.getAllowSundayFirst()),(t=this.manageCompanyConfig)!=null&&t.getAllowSundayFirst()&&(this.weekOfDays=[{fullName:"Sunday",shortName:"Sun",dayNumber:0},{fullName:"Monday",shortName:"Mon",dayNumber:1},{fullName:"Tuesday",shortName:"Tue",dayNumber:2},{fullName:"Wednesday",shortName:"Wed",dayNumber:3},{fullName:"Thursday",shortName:"Thu",dayNumber:4},{fullName:"Friday",shortName:"Fri",dayNumber:5},{fullName:"Saturday",shortName:"Sat",dayNumber:6}]),this.calculateMonth(),this.datePickerPromise=new Promise((n,s)=>{this.resolve=n,this.reject=s})},watch:{maxDate(){this.selectedDate?this.calculateBaseOnInput(this.selectedDate):this.calculateBaseOnInput()},minDate(){this.selectedDate?this.calculateBaseOnInput(this.selectedDate):this.calculateBaseOnInput()}},methods:{cancelPickDate(){this.reject()},calculateLeft(){return this.leftInput?(window.innerWidth<this.leftInput+370?this.left=window.innerWidth-400:this.left=this.leftInput,this.left):0},nextMonth(){this.currentMonth=this.currentMonth+1,this.calculateMonth()},previousMonth(){this.currentMonth=this.currentMonth-1,this.calculateMonth()},colorToday(e){const t=M();return t.year()===e.year&&t.month()+1===e.month&&t.date()===e.dateNumber},selectDateOnly(e){for(let t of this.calendarArr)t.year===e.year()&&t.month===e.month()+1&&t.dateNumber===e.date()?t.selected=!0:t.selected=!1},selectDate(e){this.selectedDate=this.selectedDate.date(e.dateNumber);for(let t of this.calendarArr)t.selected=!1;e.selected=!0,this.$refs.ModalRef.toggleShow(),this.resolve(this.selectedDate.clone())},calculateMonth(e){e||(e=M(),this.currentYear&&e.year(this.currentYear));let t=e.clone().month(this.currentMonth),n=t.startOf("month").day(),s=t.clone().endOf("month").day();t.startOf("day");let i=[],o=t.clone().date(0).date(),r;if(this.manageCompanyConfig.getAllowSundayFirst()?r=o-(n-1):n===0?r=o-5:n===1?r=null:r=o-(n-2),r)for(r;r<=o;r++)i.push({year:t.clone().date(0).year(),month:t.clone().date(0).month()+1,dateNumber:r,selected:!1,lastMonth:!0});let a=1,c=t.clone().endOf("month").date();for(a;a<=c;a++)i.push({year:t.year(),month:t.month()+1,isValid:this.validDateRange(this.maxDate,this.minDate,t.clone().startOf("month").date(a)),dateNumber:a,selected:!1});let d=1,h;for(this.manageCompanyConfig.getAllowSundayFirst()?h=s===0?6:6-s:h=s===0?0:6-(s-1),d;d<=h;d++){let p=t.clone().add(1,"month");i.push({year:p.year(),month:p.month()+1,dateNumber:d,selected:!1,nextMonth:!0})}this.calendarArr=i,t.clone().endOf("month").date()<=this.selectedDate.date()?this.selectedDate=t.clone().endOf("month").startOf("day"):this.selectedDate=t.date(this.selectedDate.date())},validDateRange(e,t,n){return e&&t?n.diff(e,"day")<0&&n.diff(t,"day")>0:e?n.diff(e,"day")<0:t?n.diff(t,"day")>0:!0},calculateBaseOnInput(e){e?(this.currentMonth=e.month(),this.selectedDate=e.clone(),this.calculateMonth(e),this.currentYear=e.year(),this.selectDateOnly(e)):(e=M(),this.currentMonth=e.month(),this.selectedDate=e.clone(),this.calculateMonth(e),this.currentYear=e.year())},toggleShow(e){return e?this.calculateBaseOnInput(e):this.calculateBaseOnInput(),this.$refs.ModalRef.toggleShow(),this.datePickerPromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.waitPickDate()},async waitPickDate(){return this.datePickerPromise}}}),pB={class:"v3-calendar"},mB={class:"dp-heading"},gB={class:"db-content"},yB={class:"dp-week-of-day"},vB={class:"dp-week-days"},_B={class:"date-wrapper"},bB=["onClick"];function SB(e,t,n,s,i,o){const r=ye("Modal");return S(),qt(r,{ref:"ModalRef",top:e.top,left:e.calculateLeft(e.left),customPosition:!!(e.top||e.left),onCancel:e.cancelPickDate},{body:Ze(()=>[m("div",pB,[m("section",mB,[m("span",{class:"cursor-pointer icon-arrow-left px-4",onClick:t[0]||(t[0]=(...a)=>e.previousMonth&&e.previousMonth(...a))}),m("div",null,H(e.selectedDate.format("YYYY MMM")),1),m("span",{class:"cursor-pointer icon-arrow-right px-4",onClick:t[1]||(t[1]=(...a)=>e.nextMonth&&e.nextMonth(...a))})]),m("section",gB,[m("div",yB,[(S(!0),D(de,null,$e(e.weekOfDays,a=>(S(),D("span",null,H(a.shortName),1))),256))]),m("div",vB,[(S(!0),D(de,null,$e(e.calendarArr,a=>(S(),D("span",_B,[m("span",{class:nt(["date-number-cell",{"today-target":e.colorToday(a),"not-valid":!a.isValid,"last-month-day":a.lastMonth,"next-month-day":a.nextMonth,selected:a.selected}]),onClick:c=>e.selectDate(a)},H(a.dateNumber),11,bB)]))),256))])])])]),_:1},8,["top","left","customPosition","onCancel"])}const bs=Ne(fB,[["render",SB],["__scopeId","data-v-c30ade90"]]),wB=Ve({name:"mySchedules",components:{DatePicker:bs},inject:{manageCompanyConfig:"MANAGE_COMPANY_CONFIG"},data(){return{title:"Work Schedule",schedules:[],user:null,datePickerFormat:"dd/MM/yyyy",sundayFirst:!1,menu1:!1,menu2:!1,fromDate:null,toDate:null,dateModal:!1,dateModalTop:0,dateModalLeft:0,datePickerTargetDay:M(),selectedDateType:"fromDate",datePickerMax:null,datePickerMin:null}},mounted(){this.sundayFirst=!!this.manageCompanyConfig.getAllowSundayFirst(),[this.fromDate,this.toDate]=this.convertDateRange(M(),M()),this.loadSchedules(this.fromDate,this.toDate)},methods:{updateDateText(e,t,n){n==="toDate"?this.toDate=M(e.target.value,"DD/MM/YYYY"):this.fromDate=M(e.target.value,"DD/MM/YYYY"),this.dateModal=!1},updateDateTime(e,t,n){let s=e.target.getClientRects()[0];this.dateModalTop=s.bottom,this.dateModalLeft=s.left,this.selectedDateType=n,n==="toDate"?(this.fromDate&&(this.datePickerMin=this.fromDate,this.datePickerMax=null),this.datePickerTargetDay=this.toDate?this.toDate:M()):(this.toDate&&(this.datePickerMin=null,this.datePickerMax=this.toDate),this.datePickerTargetDay=this.fromDate?this.fromDate:M()),this.dateModal=!0,this.openDatePicker()},printWorkSchedule:function(){var e="left=5,top=5,resizable=yes,height=600,width=700,scrollbars=yes,status=1",t=document.getElementById("workSchedules").innerHTML,n=window.open("","Print",e);n.document.write("<html>"),n.document.write("<head>"),n.document.write('<style type="text/css">table {border-collapse: collapse;}</style>'),n.document.write('<style type="text/css">table, th, td {border: 1px solid #cbcbcb;text-align: center;}</style>'),n.document.write("</head>"),n.document.write("<body>"),n.document.write(t),n.document.write("</body></html>"),n.document.close(),n.focus(),n.print(),n.close()},loadSchedules:function(e,t){if(e!==null&&e.startOf("day"),t!==null&&t!==""&&t.startOf("day"),this.schedules=[],t===null&&e===null)return;t!==null&&e===null&&(e=t),t===null&&e!==null&&(t=e);let[n,s]=this.convertDateRange(this.fromDate,this.toDate);var i={employeeNo:null,fromDate:null,toDate:null};if(n!==null&&s!==null){var o=n.format("DD/MM/YYYY"),r=s.format("DD/MM/YYYY");i={employeeNo:this.$user.value.EmployeeNo,fromDate:o,toDate:r}}K.loading(),Pe.EmployeeWorkSchedule(i).then(a=>{let c=a;for(const[d,h]of c.entries()){this.sundayFirst?h.weekDateRange=`${h.sundayScheduleDetail.date} - ${h.saturdayScheduleDetail.date}`:h.weekDateRange=`${h.mondayScheduleDetail.date} - ${h.sundayScheduleDetail.date}`,h.weekName=`Week ${d+1}`,this.manageCompanyConfig.getAllowSundayFirst()?(h.detailArr=[],h.detailArr.push(h.sundayScheduleDetail),h.detailArr.push(h.mondayScheduleDetail),h.detailArr.push(h.tuesdayScheduleDetail),h.detailArr.push(h.wednesdayScheduleDetail),h.detailArr.push(h.thursdayScheduleDetail),h.detailArr.push(h.fridayScheduleDetail),h.detailArr.push(h.saturdayScheduleDetail)):(h.detailArr=[],h.detailArr.push(h.mondayScheduleDetail),h.detailArr.push(h.tuesdayScheduleDetail),h.detailArr.push(h.wednesdayScheduleDetail),h.detailArr.push(h.thursdayScheduleDetail),h.detailArr.push(h.fridayScheduleDetail),h.detailArr.push(h.saturdayScheduleDetail),h.detailArr.push(h.sundayScheduleDetail));for(let p of h.detailArr)this.clearZeroHour(p)}this.schedules=c,K.clear()},a=>{console.log("err",a),K.clear()}).finally(()=>{K.clear()})},clearZeroHour(e){e&&((e.finishTime==="12:00 am"&&e.startTime==="12:00 am"||e.finishTime==="12:00 AM"&&e.startTime==="12:00 AM")&&(e.finishTime="",e.startTime=""),e.hours==="0"&&(e.hours="",e.shiftDescription=""))},convertDateRange(e,t){let n=e.clone(),s=t.clone();return this.manageCompanyConfig.getAllowSundayFirst()?(e.day()>n.startOf("week").day()&&(n=n.startOf("week")),t.day()<s.endOf("week").day()&&(s=s.endOf("week"))):(e.day()>1?n=n.subtract(e.day()-1,"day"):e.day()===0&&(n=n.subtract(6,"day")),t.day()>0&&(s=s.add(7-t.day(),"day"))),[n,s]},displayScheduleDetail(e){return e.hours!==0&&e.hours!==null&&e.hours!==""},selectDateTodayForFromDate:function(){this.fromDate=M().startOf("day"),this.toDate=null,this.loadSchedules(this.fromDate,this.toDate)},selectDateTodayForToDate:function(){this.toDate=M(),this.toDate.hour(11),this.toDate.minute(59),this.toDate<this.fromDate&&(this.fromDate=null),this.loadSchedules(this.fromDate,this.toDate)},getWeekDayByIndex:function(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e]},async openDatePicker(){let e;try{e=await this.$refs.DatePickerRef.toggleShow(this.datePickerTargetDay)}catch(t){console.log(t);return}return this.selectedDateType==="toDate"?this.toDate=e:this.selectedDateType==="fromDate"&&(this.fromDate=e),this.loadSchedules(this.fromDate,this.toDate),e}}}),DB={class:"mt-4 mt-md-10"},kB={class:"my-schedules-search-filter d-flex flex-wrap align-center mb-sm-4"},TB={class:"mr-2 mr-sm-6 date-searcher d-flex align-center"},CB=m("div",{class:"mr-2 d-inline caption bold date-searcher-label"},"Date From",-1),EB=["value"],xB=m("span",{class:"icon-popup white xs-icon"},null,-1),MB=[xB],$B=m("span",{class:"icon-calendar white xs-icon"},null,-1),AB=[$B],OB=m("span",{class:"icon-cross white"},null,-1),PB=[OB],LB={class:"date-searcher d-flex align-center ml-lg-4"},RB=m("div",{class:"mr-2 d-inline caption bold date-searcher-label"},"Date To",-1),NB=["value"],FB=m("span",{class:"icon-popup white","x-small":""},null,-1),IB=[FB],YB=m("span",{class:"icon-calendar white","x-small":""},null,-1),HB=[YB],WB=m("span",{class:"icon-cross white","x-small":""},null,-1),BB=[WB],VB=m("span",{class:"mr-1 icon-printer","x-small":""},null,-1),UB=m("span",{class:"text-capitalize"},"Print",-1),zB=[VB,UB],jB={style:{"margin-top":"10px"}},GB={class:"schedules-data-small",style:{overflow:"auto"}},KB={class:"",style:{width:"100%"}},qB={class:"weekInfoDisplay py-2"},XB={class:"schedules-data-small-head"},ZB={class:"dayScheduleDisplay"},JB={key:0},QB={key:0},e5={key:1},t5={key:2},n5={key:3,class:"notes-ellips"},s5={id:"workSchedules",class:"dbw-box schedules-data-medium section",style:{overflow:"auto"}},i5={class:"my-schedules aff-table"},o5={key:0},r5=m("th",null,"Week",-1),a5=m("th",null,"Sun",-1),l5=m("th",null,"Mon",-1),c5=m("th",null,"Tue",-1),u5=m("th",null,"Wed",-1),d5=m("th",null,"Thu",-1),h5=m("th",null,"Fri",-1),f5=m("th",null,"Sat",-1),p5=[r5,a5,l5,c5,u5,d5,h5,f5],m5={key:1},g5=m("th",null,"Week",-1),y5=m("th",null,"Mon",-1),v5=m("th",null,"Tue",-1),_5=m("th",null,"Wed",-1),b5=m("th",null,"Thu",-1),S5=m("th",null,"Fri",-1),w5=m("th",null,"Sat",-1),D5=m("th",null,"Sun",-1),k5=[g5,y5,v5,_5,b5,S5,w5,D5],T5={class:"myschedules-tr"},C5={class:"weekInfoRows"},E5={class:"myschedules-td"},x5={key:0,class:"text-center"},M5={class:"bold-text"},$5={key:0},A5={key:1},O5={key:2,class:"notes-ellips"};function P5(e,t,n,s,i,o){const r=ye("date-picker"),a=Ci("tooltip");return S(),D("div",DB,[m("div",kB,[m("div",TB,[CB,m("input",{value:e.$filters.reformatDate(e.fromDate),class:"d-inline-flex ma-0 pa-0 mr-2 caption",style:{"max-width":"120px"},onChange:t[0]||(t[0]=c=>e.updateDateText(c,e.fromDate,"fromDate")),onClick:t[1]||(t[1]=c=>e.updateDateTime(c,e.fromDate,"fromDate")),"onClick:clear":t[2]||(t[2]=c=>e.fromDate=null)},null,40,EB),ge((S(),D("button",{class:"light-blue icon small ml-2 lh-0",onClick:t[3]||(t[3]=c=>e.updateDateTime(c,e.fromDate,"fromDate"))},MB)),[[a,{content:"Open calendar"},void 0,{top:!0}]]),ge((S(),D("button",{class:"green small icon ml-1 lh-0",onClick:t[4]||(t[4]=c=>e.selectDateTodayForFromDate())},AB)),[[a,{content:"Set to today"},void 0,{top:!0}]]),ge((S(),D("button",{class:"orange small ml-1 icon lh-0",onClick:t[5]||(t[5]=c=>e.fromDate=null)},PB)),[[a,{content:"Clear"},void 0,{top:!0}]])]),m("div",LB,[RB,m("input",{type:"text",value:e.$filters.reformatDate(e.toDate),outlined:"",dense:"","hide-details":"",class:"d-inline-flex ma-0 pa-0 mr-2 caption",style:{"max-width":"120px"},onChange:t[6]||(t[6]=c=>e.updateDateText(c,e.toDate,"toDate")),onClick:t[7]||(t[7]=c=>e.updateDateTime(c,e.toDate,"toDate")),"onClick:clear":t[8]||(t[8]=c=>e.toDate=null)},null,40,NB),ge((S(),D("button",{class:"light-blue small icon ml-2 lh-0",tile:"",onClick:t[9]||(t[9]=c=>e.updateDateTime(c,e.toDate,"toDate"))},IB)),[[a,{content:"Open calendar"},void 0,{top:!0}]]),ge((S(),D("button",{class:"green small ml-1 icon lh-0",tile:"",onClick:t[10]||(t[10]=c=>e.selectDateTodayForToDate())},HB)),[[a,{content:"Set to today"},void 0,{top:!0}]]),ge((S(),D("button",{class:"orange small ml-1 icon lh-0",tile:"",onClick:t[11]||(t[11]=c=>e.toDate=null)},BB)),[[a,{content:"Clear"},void 0,{top:!0}]])]),m("button",{class:"light-blue white--text ml-lg-4 ml-sm-4 mt-sm-0 small",onClick:t[12]||(t[12]=c=>e.printWorkSchedule())},zB)]),m("div",jB,[m("div",GB,[(S(!0),D(de,null,$e(e.schedules,c=>(S(),D("div",KB,[m("div",qB,[m("div",XB,[m("div",null,[m("h3",null,H(c.weekName),1)]),m("div",null,H(c.weekDateRange),1)])]),(S(!0),D(de,null,$e(c.detailArr,(d,h)=>(S(),D("div",ZB,[m("div",null,H(c.weekName)+" - "+H(e.getWeekDayByIndex(h)),1),e.displayScheduleDetail(d)?(S(),D("div",JB,[m("div",null,H(d.shiftDescription),1),d.startTime?(S(),D("div",QB,"Start Time:"+H(d.startTime),1)):X("",!0),d.finishTime?(S(),D("div",e5,"Finish Time:"+H(d.finishTime),1)):X("",!0),d.hours?(S(),D("div",t5,"Hours:"+H(d.hours),1)):X("",!0),d.notes?ge((S(),D("div",n5,[Ot(" Notes: "+H(d.notes),1)])),[[a,{content:d.notes,placement:"top",triggers:["click"],autoHide:!0}]]):X("",!0)])):X("",!0)]))),256))]))),256))]),m("div",s5,[m("div",i5,[m("table",null,[m("thead",null,[e.sundayFirst?(S(),D("tr",o5,p5)):(S(),D("tr",m5,k5))]),m("tbody",null,[(S(!0),D(de,null,$e(e.schedules,c=>(S(),D("tr",T5,[m("td",C5,[m("div",null,H(c.weekName),1),m("div",null,H(c.weekDateRange),1)]),(S(!0),D(de,null,$e(c.detailArr,d=>(S(),D("td",E5,[e.displayScheduleDetail(d)?(S(),D("div",x5,[m("div",null,H(d.date),1),m("div",M5,H(d.shiftDescription),1),d.hours?(S(),D("div",$5,"Hours:"+H(d.hours),1)):X("",!0),d.startTime?(S(),D("div",A5,H(d.startTime)+" - "+H(d.finishTime),1)):X("",!0),d.notes?ge((S(),D("div",O5,[Ot(" Notes: "+H(d.notes),1)])),[[a,{content:d.notes,placement:"top",triggers:["click"],autoHide:!0}]]):X("",!0)])):X("",!0)]))),256))]))),256))])])])])]),ce(r,{ref:"DatePickerRef",top:e.dateModalTop,leftInput:e.dateModalLeft,"max-date":e.datePickerMax,"min-date":e.datePickerMin,date:e.datePickerTargetDay},null,8,["top","leftInput","max-date","min-date","date"])])}const G0=Ne(wB,[["render",P5]]);var Yr=(e=>(e.getEmployees="GET_EMPLOYEES",e.getFilteredEmployees="GET_FILTERED_EMPLOYEES",e))(Yr||{}),Ok=(e=>(e.setEmployees="SET_EMPLOYEES",e.resetEmployees="RESET_EMPLOYEES",e))(Ok||{}),Ja=(e=>(e.getEmployees="GET_EMPLOYEES",e))(Ja||{});const L5={GET_EMPLOYEES(e){return e.employees},GET_FILTERED_EMPLOYEES(e){return e.filteredEmployees}},R5={SET_EMPLOYEES(e,t){e.employees=t,e.filteredEmployees=t.slice()},RESET_EMPLOYEES(e){e.employees=[],e.employeesWithPeronsalSche=[],e.filteredEmployees=[]}},N5={GET_EMPLOYEES({commit:e,state:t,rootState:n},s){if(t.employees.length>0)return t.employees;const i=n.LookUp.workTypes;return Pe.GetManagedEmployees(s).then(o=>{let r=o.map(a=>{var c;return a.employeeName=a.CommonName,a.workTypeName=(c=I5(a.WorkerType,i))==null?void 0:c.description,Object.fromEntries(Object.entries(a).map(([d,h])=>[d.charAt(0).toLowerCase()+d.slice(1),h]))});return e("SET_EMPLOYEES",r),r})}},F5={state:{employees:[],employeesWithPeronsalSche:[],filteredEmployees:[],managerNo:null},getters:L5,mutations:R5,actions:N5};function I5(e,t){return t.find(n=>n.code===Number(e))}const Y5=Ve({name:"AutoComplete",props:{inputList:{type:Array},optionName:{type:String}},data(){return{editing:!1,targetingIndex:null}},setup(e){e.optionName||console.error("need object, optionName is missing");const t=V(e.inputList.map((i,o)=>({targeting:!1,name:i[e.optionName],index:o}))),n=V(t.value.slice()),s=V("");return{originList:t,dropDownList:n,selectSearchInput:s}},methods:{updateSearchList(e){if(e.key==="ArrowDown"){this.moveTargetDown();return}else if(e.key==="ArrowUp"){this.moveTargetUp();return}else if(e.key==="Enter"&&this.targetingIndex){this.selectFromTarget();return}this.dropDownList=this.originList.filter(t=>(t.targeting=!1,t.name.toLowerCase().indexOf(this.selectSearchInput.toLowerCase())>-1))},moveTargetDown(){this.targetingIndex!==null?(this.dropDownList[this.targetingIndex].targeting=!1,this.targetingIndex+1<this.dropDownList.length?(this.targetingIndex++,this.dropDownList[this.targetingIndex].targeting=!0):this.targetingIndex+1===this.dropDownList.length?(this.targetingIndex=0,this.dropDownList[this.targetingIndex].targeting=!0):(this.targetingIndex=0,this.dropDownList[this.targetingIndex].targeting=!0)):(this.targetingIndex=0,this.dropDownList[this.targetingIndex].targeting=!0)},moveTargetUp(){this.targetingIndex!==null?(this.dropDownList[this.targetingIndex].targeting=!1,this.targetingIndex-1>=0?(this.targetingIndex--,this.dropDownList[this.targetingIndex].targeting=!0):this.targetingIndex-1<0?(this.targetingIndex=this.dropDownList.length-1,this.dropDownList[this.targetingIndex].targeting=!0):(this.targetingIndex=0,this.dropDownList[this.targetingIndex].targeting=!0)):(this.targetingIndex=0,this.dropDownList[this.targetingIndex].targeting=!0)},selectFromTarget(){this.selectSearchInput=this.dropDownList[this.targetingIndex].name,this.$emit("selected",this.inputList[this.targetingIndex])},chooseOption(e,t){this.selectSearchInput=t.name,this.$emit("selected",this.inputList[t.index]),e.target.blur()}}}),H5={class:"custom-select",tabindex:"1",ref:"selectRef"},W5={class:"custom-select-selected"},B5={class:"custom-select-items"},V5=["tabindex","onClick"],U5={class:"cell-config"};function z5(e,t,n,s,i,o){return S(),D("div",H5,[m("div",W5,[ge(m("input",{class:"custom-select-input",ref:"selectInputRef","onUpdate:modelValue":t[0]||(t[0]=r=>e.selectSearchInput=r),onKeyup:t[1]||(t[1]=(...r)=>e.updateSearchList&&e.updateSearchList(...r))},null,544),[[xt,e.selectSearchInput]])]),m("div",B5,[(S(!0),D(de,null,$e(e.dropDownList,(r,a)=>(S(),D("div",{class:nt(["custom-select-item",{targeting:r.targeting}]),ref_for:!0,ref:"selectDropdownRef",key:a,tabindex:a+99,onClick:c=>e.chooseOption(c,r)},[m("div",U5,H(r.name),1)],10,V5))),128))])],512)}const Ah=Ne(Y5,[["render",z5],["__scopeId","data-v-c8599616"]]),j5=Ve({name:"CustomSelect",props:{options:{type:Array,default:[]},displayKey:{type:String,default:""},modelValue:{type:[String,Number]},width:{type:Number},selected:{}},data:function(){return{left:0,top:0}},mounted(){const e=this.$refs.selectRef.getClientRects()[0];this.left=e.left,this.top=e.top+e.height},methods:{selectOption(e,t){e.target.blur(),this.$refs.selectRef.blur(),this.modelValue?this.$emit("update:modelValue",t):this.$emit("selectOption",t)},setSelectItemsPosition(){const e=this.$refs.selectRef.getClientRects()[0];this.left=e.left,this.top=e.top+e.height}}}),G5=e=>(ft("data-v-93c22932"),e=e(),pt(),e),K5={key:0,class:"custom-select-selected"},q5={key:0},X5={key:1},Z5={key:2,class:"custom-select-empty-selected"},J5={key:1,class:"custom-select-selected"},Q5={key:0},eV={key:1},tV={key:2,class:"custom-select-empty-selected"},nV=["onClick"],sV={class:"cell-config"},iV={key:0},oV={key:1},rV=G5(()=>m("label",null,null,-1));function aV(e,t,n,s,i,o){return S(),D("div",null,[m("span",null,[m("div",{class:"custom-select",style:wt({width:e.width?e.width+"px":null}),tabindex:"1",ref:"selectRef",onMouseenter:t[0]||(t[0]=r=>e.setSelectItemsPosition())},[e.modelValue?(S(),D("div",K5,[e.modelValue&&typeof e.modelValue=="object"&&e.displayKey?(S(),D("span",q5,H(e.modelValue[e.displayKey]),1)):e.modelValue?(S(),D("span",X5,H(e.modelValue),1)):(S(),D("span",Z5))])):(S(),D("div",J5,[e.selected&&typeof e.selected=="object"?(S(),D("span",Q5,H(e.selected[e.displayKey]),1)):e.selected?(S(),D("span",eV,H(e.selected),1)):(S(),D("span",tV))])),m("div",{class:"custom-select-items",style:wt({left:e.left+"px",top:e.top+"px",width:e.width?e.width+"px":null})},[(S(!0),D(de,null,$e(e.options,(r,a)=>(S(),D("div",{class:"custom-select-item",key:a,onClick:c=>e.selectOption(c,r)},[m("div",sV,[e.displayKey?(S(),D("label",iV,H(r[e.displayKey]),1)):(S(),D("label",oV,H(r),1)),rV])],8,nV))),128))],4)],36)])])}const ir=Ne(j5,[["render",aV],["__scopeId","data-v-93c22932"]]),lV=Ve({name:"schedule-detail",components:{AutoComplete:Ah,DatePicker:bs,CustomSelect:ir},props:["detail","shiftTypeList","readOnly"],data:function(){return{createType:"team",employees:[],week:1,tablePadding:"0 0;",hasChanges:!1,isDateToCleared:!1,shifts:[],showMore:!0,initialEmpSched:null,startDateMenu:!1,dateModalTop:0,dateModalLeft:0,timePickerTargetDay:null,selectedTimeType:"Start"}},computed:{isNewSchedule(){return this.detail.Id<=0}},mounted:function(){this.shifts=this.shiftTypeList,this.hasChanges=this.detail.Id==-1,this.$emit("dataChanged",this.hasChanges);let e=this.$store.getters[Yr.getEmployees];e=e.filter(t=>!this.$store.state.EmployeeModule.employeesWithPeronsalSche.includes(t.employeeNo)),this.employees=e.map(t=>(t.joinedName=t.commonName+" "+t.employeeNo,t)),this.remapDays(),this.createType=this.detail.ScheduleType===0||this.detail.ScheduleType===void 0?"team":"personal"},watch:{detail(e,t){this.remapDays(),this.createType=this.detail.ScheduleType===0||this.detail.ScheduleType===void 0?"team":"personal",e!=t&&e.Id==-1&&(this.detail.Days=[],this.createNewDays(1,1))}},methods:{selectedShift(e,t){t.ShiftId=e,this.hasChanges=!0},formSubmited(e){return e.preventDefault(),e.stopPropagation(),!1},increaseNumber(){this.detail.NoOfWeeks++,this.updateNoOfWeeks()},reduceNumber(){this.detail.NoOfWeeks--,this.updateNoOfWeeks()},toggleShift(){this.showMore=!this.showMore},remapDays(){for(var e=0,t=M(this.detail.StartDate),n=this.detail.NoOfWeeks*7,s=new Array(n),i=0;i<n;i++)i%7==0&&e++,s[i]={DayNumber:i,DayOfWeek:t.day(),Week:e,Date:M(t),Hours:0,StartTime:null,FinishTime:null,ShiftId:null,BreakHours:null},t.add(1,"day");this.showMore=!1,this.detail.Days.map(o=>{o.StartTime&&(s[o.DayNumber].StartTime=M(o.StartTime)),o.FinishTime&&(s[o.DayNumber].FinishTime=M(o.FinishTime)),s[o.DayNumber].Hours=o.Hours,s[o.DayNumber].ShiftId=o.ShiftId,s[o.DayNumber].BreakHours=o.BreakHours;let r=o.BreakHours,a=Math.floor(r),c=r-a;a!==0&&(s[o.DayNumber].breakH=a),c>0&&(s[o.DayNumber].breakM=Math.round(c*60))}),this.detail.Days=s,this.detail.StartDate=M(this.detail.StartDate),this.hasChanges=!1},timeTextChanged(e,t,n){let s;if(e.target.value.includes(":")?s=M(e.target.value,"HH:mm"):s=M(e.target.value,"Hmm"),n==="FinishTime"){if(!s.isValid()){e.target.value="InValid Time",t.FinishTime=null;return}if(t.FinishTime&&s.hour()===t.FinishTime.hour()&&s.minute()===t.FinishTime.minute())return;if(e===""){t.FinishTime=null;return}t.FinishTime=s}else{if(t.StartTime&&s.hour()===t.StartTime.hour()&&s.minute()===t.StartTime.minute())return;if(!s.isValid()){e.target.value="InValid Time",t.StartTime=null;return}if(e===""){t.StartTime=null;return}t.StartTime=s}this.timePickerTargetDay=t,this.autoCalcTime(n),this.hasChanges=!0},autoCalcTime(e){let t=this.timePickerTargetDay;if(t.FinishTime&&t.FinishTime.format("HH:mm")!=="00:00"&&t.StartTime&&t.StartTime.format("HH:mm")!=="00:00"&&(!t.Hours||t.Hours===0)){t.FinishTime.year(t.StartTime.year()),t.FinishTime.month(t.StartTime.month()),t.FinishTime.day(t.StartTime.day());let n=t.FinishTime.startOf("minute").diff(t.StartTime.startOf("minute"),"hours",!0);t.BreakHours&&(n=n-t.BreakHours),t.Hours=Math.round(n*100)/100}else if(t.FinishTime&&t.Hours&&(!t.StartTime||t.StartTime.format("HH:mm")==="00:00")){const n=t.BreakHours?t.Hours+t.BreakHours:t.Hours;t.StartTime=t.FinishTime.clone().subtract(n,"hours")}else if(t.StartTime&&t.Hours&&(!t.FinishTime||t.FinishTime.format("HH:mm")==="00:00")){const n=t.BreakHours?t.Hours+t.BreakHours:t.Hours;t.FinishTime=t.StartTime.clone().add(n,"hours")}else if(t.FinishTime&&t.FinishTime.format("HH:mm")!=="00:00"&&t.StartTime&&t.StartTime.format("HH:mm")!=="00:00"&&(t.Hours||t.Hours!==0)){const n=t.BreakHours?t.Hours+t.BreakHours:t.Hours;e==="StartTime"?t.FinishTime=t.StartTime.clone().add(n,"hours"):e==="FinishTime"&&(t.StartTime=t.FinishTime.clone().subtract(n,"hours"))}},updateDateText(e,t){this.startDateMenu=!1,t.set(M(e,"DD/MM/YYYY").toObject()),this.remapDays()},startDateDatePickerHandler(e){typeof e=="string"&&(e=M(e)),this.detail.StartDate=e,this.remapDays()},isFirstDayOfWeek:function(e){var t=M(this.detail.StartDate);return e==t.day()},calcBreakHour(e){e.breakH&&e.breakM?e.BreakHours=Number(e.breakH)+Math.round(Number(e.breakM)/60*1e3)/1e3:e.breakH?e.BreakHours=Number(e.breakH):e.breakM?e.BreakHours=Math.round(Number(e.breakM)/60*1e3)/1e3:(e.breakHours===0&&e.breakM,e.BreakHours=0),e.StartTime&&e.StartTime.format("HH:mm")!=="00:00"&&e.FinishTime&&e.FinishTime.format("HH:mm")!=="00:00"&&(e.Hours=e.FinishTime.startOf("minute").diff(e.StartTime.startOf("minute"),"hours",!0)-e.BreakHours)},getDayOfWeek:function(e){if(e<0||e>6)return console.error("day No not correct"),"unknown";var t=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"];return t[e]},checkHour(e){if(this.hasChanges=!0,e.Hours>24){K.alert("You can only enter up to 24 hours."),e.Hours=24;return}const t=e.BreakHours?e.Hours+e.BreakHours:e.Hours;e.StartTime&&e.Hours&&e.FinishTime||e.StartTime&&e.Hours?e.FinishTime=e.StartTime.clone().add(t,"hours"):e.Hours&&e.FinishTime&&(e.StartTime=e.FinishTime.clone().add(t,"hours"))},updateNoOfWeeks(e){let t=this.detail.Days.length,n=Math.floor(t/7);if(this.detail.NoOfWeeks>n)this.createNewDays(n+1,this.detail.NoOfWeeks);else{let s=this.detail.NoOfWeeks*7;this.detail.Days.splice(s)}},numLimitKeyDown:function(e,t,n){let s=[8,9,13,46,16,17];s.push(65,67,86,88),t&&s.push(190,110),n&&s.push(186),e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||s.indexOf(e.keyCode)>-1||(e.preventDefault(),e.stopPropagation())},cancelChanges(){if(!this.hasChanges){this.$emit("cancel");return}K.checkChange({message:"You haven't saved your changes.  <br /> Are you sure you want to cancel?",confirmButtonText:"Yes",cancelButtonText:"No",onOk:()=>{this.hasChanges=!1,this.$emit("cancel")}})},reloadDetail:function(){this.hasChanges&&this.$emit("reload")},createNewDays:function(e,t){if(!(e>t))for(var n=e,s=this.detail.Days.length;n<=t;){var i=M(this.detail.StartDate);i.add(s,"day"),this.detail.Days.push({DayNumber:s,DayOfWeek:i.day(),Week:n,Date:i,Hours:0,StartTime:null,FinishTime:null,ShiftId:null,startDateModal:!1,endDateModal:!1}),s++,n=Math.floor(s/7)+1}},archiveSchedule:function(){this.hasChanges||(this.detail.Archive?K.alert("Unable to archive schedule, it's already archived."):K.confirmOrCancel({message:"Are you sure you want to archive this work schedule?"}).then(()=>{this.detail.Archive=!0,this.doUpdateDetail()}))},deleteSchedule:function(){this.hasChanges||(this.detail.EmpAllocations.length>0?K.alert("Unable to delete schedule, it's currently allocated to employees"):os.emit("dialog",{message:"Are you sure you want to permanently delete this work schedule?",showButtons:!0,showCancel:!0,okColor:"red",onOk:()=>{this.doDeleteSchedule()},onCancel:()=>{}}))},doDeleteSchedule:function(){K.loading(),Pe.DeleteSchedule(this.detail.Id).then(e=>{this.$emit("schedule-deleted"),K.clear()})},updateDetail:function(){this.hasChanges&&this.doUpdateValidation()&&this.doUpdateDetail()},doUpdateValidation:function(){if(this.createType==="team"){if(!this.detail.Name&&!this.detail.Description||this.detail.Name===""&&this.detail.Description==="")return K.alert("Schedule name cannot be blank. <br /> Schedule description cannot be blank."),!1;if(!this.detail.Name||this.detail.Name==="")return K.alert("Schedule name cannot be blank."),!1}return!this.detail.Description||this.detail.Description===""?(K.alert("Schedule description cannot be blank."),!1):this.detail.Name!==void 0&&this.detail.Name!==null&&this.detail.Name.length>50?(K.alert("Schedule names must be 50 characters or fewer (including spaces)."),!1):this.detail.Description!==void 0&&this.detail.Description!==null&&this.detail.Description.length>50?(K.alert("Schedule descriptions must be 50 characters or fewer (including spaces)."),!1):!0},doUpdateDetail:function(){var e={Id:this.detail.Id,NoOfWeeks:this.detail.NoOfWeeks,StartDate:M(this.detail.StartDate).format("DD/MMM/YYYY"),Name:this.createType==="team"?this.detail.Name:"Personal_ "+this.detail.EmployeeNo,EmployeeNo:this.detail.EmployeeNo?this.detail.EmployeeNo:null,ScheduleType:this.detail.EmployeeNo?1:0,IsPersonal:!!this.detail.EmployeeNo,Description:this.detail.Description,Archive:this.detail.Archive,Days:[]};this.detail.Days.map(function(t){(t.Hours>0||t.ShiftId!==null&&t.ShiftId!=="")&&(t.ShiftId===""&&(t.ShiftId=null),e.Days.push({DayNumber:t.DayNumber,StartTime:t.StartTime?t.StartTime.format("HH:mm"):null,FinishTime:t.FinishTime?t.FinishTime.format("HH:mm"):null,Hours:t.Hours>24?24:t.Hours,ShiftId:t.ShiftId,BreakHours:t.BreakHours?Number(t.BreakHours):null}))}),K.loading(),Pe.PostSchedule(e).then(t=>{this.$emit("schedule-saved",t.Data),this!==void 0&&this.hasChanges!==void 0&&(this.hasChanges=!1)}).finally(()=>{K.clear()})},formUpdated(){this.hasChanges=!0},async openDatePicker(e){let t=e.target.getClientRects()[0];this.dateModalTop=t.bottom,this.dateModalLeft=t.left;try{this.detail.StartDate=await this.$refs.DatePickerRef.toggleShow(this.detail.StartDate)}catch(n){n&&console.error(n);return}this.remapDays(),this.hasChanges=!0},selectedEmployee(e){this.detail.EmployeeNo=e.employeeNo,this.detail.Description=`${e.commonName} ${e.employeeNo} Personal Schedule`}}}),un=e=>(ft("data-v-809b456c"),e=e(),pt(),e),cV={class:"default-form sched-detail-form mt-4"},uV={key:0,class:"caption d-flex"},dV={class:"d-flex align-center"},hV=un(()=>m("label",{for:"personal",class:"ml-2 cursor-pointer"},"Create Personal Schedule",-1)),fV={class:"d-flex align-center ml-6"},pV=un(()=>m("label",{for:"team",class:"ml-2 cursor-pointer"},"Create Team Schedule",-1)),mV={key:1,class:"red--text archive-text"},gV=un(()=>m("span",null,"Archived",-1)),yV=[gV],vV={class:"form-control mt-4"},_V=un(()=>m("div",{class:"form-label"},"Name",-1)),bV={key:1},SV={key:2,class:"label-detail"},wV={key:2,class:"form-control"},DV=un(()=>m("div",{class:"form-label"},[m("span",null,"Employee No")],-1)),kV={key:0,class:"employeeNo-autoComplete"},TV={key:1,class:"label-detail"},CV={class:"form-control"},EV=un(()=>m("div",{class:"form-label"},"Description",-1)),xV={class:"form-control effective-date"},MV=un(()=>m("div",{class:"form-label"},"Effective Date",-1)),$V={class:"inline-block"},AV=["value"],OV=un(()=>m("span",{class:"input-icon icon-calendar xs-icon"},null,-1)),PV={class:"form-control number-of-weeks"},LV=un(()=>m("div",{class:"form-label"},"Number of Weeks",-1)),RV=un(()=>m("label",{for:"now"},null,-1)),NV={class:"mobile-arrow"},FV=un(()=>m("span",{class:"icon-arrowhead-up arrow-icon"},null,-1)),IV=[FV],YV=un(()=>m("span",{class:"mt-1 icon-arrowhead-down arrow-icon"},null,-1)),HV=[YV],WV={class:"section-table ui-gridbox-scrollable-titles mt-4"},BV={class:"aff-table sched-detail-table"},VV=ja('<div class="head-cell" data-v-809b456c>Week</div><div class="head-cell" data-v-809b456c>Day</div><div class="head-cell" data-v-809b456c>Hours</div><div class="head-cell" data-v-809b456c>Start</div><div class="head-cell" data-v-809b456c>Finish</div><div class="head-cell break-column-width" data-v-809b456c> Unpaid Break </div>',6),UV={class:"head-cell"},zV={class:"aff-table-body"},jV={class:"aff-table-body-cell"},GV={class:"table-date-counter aff-table-body-cell"},KV={class:"mr-2"},qV={class:"aff-table-body-cell"},XV=["onUpdate:modelValue","error","onChange","data-test"],ZV={class:"aff-table-body-cell"},JV=["value","onChange"],QV={class:"aff-table-body-cell"},e6=["value","onChange"],t6={class:"unpaid-break hide-arrow aff-table-body-cell"},n6=["onUpdate:modelValue","onChange"],s6=un(()=>m("span",null,":",-1)),i6=["onUpdate:modelValue","onChange"],o6={key:0,class:"shift-select-td aff-table-body-cell"},r6={class:"schedules-buttons"},a6={key:0},l6={key:1},c6=["disabled"],u6=un(()=>m("span",{class:"icon-trash mr-1"},null,-1)),d6=un(()=>m("span",null,"Delete",-1)),h6=[u6,d6],f6=["disabled"],p6=un(()=>m("span",{class:"icon-briefcase mr-1"},null,-1)),m6=un(()=>m("span",null,"Archive",-1)),g6=[p6,m6],y6=["disabled"],v6=un(()=>m("span",{class:"icon-cancel mr-1"},null,-1)),_6=un(()=>m("span",null,"Cancel",-1)),b6=[v6,_6],S6=["disabled"],w6=un(()=>m("span",{class:"icon-save mr-1"},null,-1)),D6=un(()=>m("span",null,"Save",-1)),k6=[w6,D6];function T6(e,t,n,s,i,o){const r=ye("auto-complete"),a=ye("custom-select"),c=ye("date-picker"),d=Ci("tooltip");return S(),D("div",cV,[m("form",{onChange:t[22]||(t[22]=(...h)=>e.formUpdated&&e.formUpdated(...h)),onSubmit:t[23]||(t[23]=io(h=>e.formSubmited(h),["prevent"]))},[e.isNewSchedule&&e.$CompanyConfig.isAllowPersonal?(S(),D("div",uV,[m("div",dV,[ge(m("input",{type:"radio",id:"personal",value:"personal",class:"cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=h=>e.createType=h)},null,512),[[Ya,e.createType]]),hV]),m("div",fV,[ge(m("input",{type:"radio",id:"team",value:"team",class:"cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=h=>e.createType=h)},null,512),[[Ya,e.createType]]),pV])])):X("",!0),e.detail.Archive?(S(),D("div",mV,yV)):X("",!0),m("div",vV,[_V,e.isNewSchedule&&e.createType==="team"?ge((S(),D("input",{key:0,class:"caption underline-input full-width",name:"name",onKeyup:t[2]||(t[2]=h=>e.hasChanges=!0),counter:"49","onUpdate:modelValue":t[3]||(t[3]=h=>e.detail.Name=h)},null,544)),[[xt,e.detail.Name]]):e.isNewSchedule&&e.createType==="personal"&&e.detail.EmployeeNo?(S(),D("div",bV,H("Personal_"+e.detail.EmployeeNo),1)):ge((S(),D("div",SV,[Ot(H(e.detail.Name),1)])),[[d,{content:e.detail.Name,delay:{show:3e3,hide:100}},void 0,{top:!0}]])]),e.createType==="personal"&&e.$CompanyConfig.isAllowPersonal?(S(),D("div",wV,[DV,e.isNewSchedule&&e.employees&&e.employees.length>0?(S(),D("span",kV,[ce(r,{inputList:e.employees,optionName:"joinedName",onSelected:e.selectedEmployee},null,8,["inputList","onSelected"])])):ge((S(),D("div",TV,[Ot(H(e.detail.EmployeeNo),1)])),[[d,{content:e.detail.EmployeeNo,delay:{show:3e3,hide:100}},void 0,{top:!0}]])])):X("",!0),m("div",CV,[EV,ge(m("textarea",{class:"caption description-area",rows:"2",onKeyup:t[4]||(t[4]=h=>e.hasChanges=!0),"onUpdate:modelValue":t[5]||(t[5]=h=>e.detail.Description=h)},`\r
                `,544),[[xt,e.detail.Description]])]),m("div",xV,[MV,m("div",$V,[m("input",{class:"date-input",value:e.$filters.reformatDate(e.detail.StartDate),onClick:t[6]||(t[6]=(...h)=>e.openDatePicker&&e.openDatePicker(...h))},null,8,AV),OV])]),m("div",PV,[LV,RV,ge(m("input",{class:"number-input",max:"12",min:"1",step:"1",id:"now",name:"now",type:"number","onUpdate:modelValue":t[7]||(t[7]=h=>e.detail.NoOfWeeks=h),onChange:t[8]||(t[8]=(...h)=>e.updateNoOfWeeks&&e.updateNoOfWeeks(...h)),onKeydown:t[9]||(t[9]=(...h)=>e.numLimitKeyDown&&e.numLimitKeyDown(...h)),style:{width:"60px"}},null,544),[[xt,e.detail.NoOfWeeks]]),m("div",NV,[e.detail.NoOfWeeks<12?(S(),D("button",{key:0,type:"button",class:"icon small",onClick:t[10]||(t[10]=(...h)=>e.increaseNumber&&e.increaseNumber(...h))},IV)):X("",!0),e.detail.NoOfWeeks>1?(S(),D("button",{key:1,type:"button",class:"ml-2 icon small",onClick:t[11]||(t[11]=(...h)=>e.reduceNumber&&e.reduceNumber(...h))},HV)):X("",!0)])]),m("div",WV,[m("div",BV,[m("div",{class:nt(["sched-detail-days",{"shift-min-width":e.showMore}])},[m("div",{class:nt(["aff-table-head",{"show-shift-column":e.showMore}])},[VV,ge(m("div",UV,"Shift",512),[[rs,e.showMore]])],2),m("div",zV,[(S(!0),D(de,null,$e(e.detail.Days,h=>(S(),D("div",{key:h.DayNumber,class:nt(["aff-table-body-row",{"show-shift-column":e.showMore}])},[m("div",jV,[ge(m("span",null,H(h.Week),513),[[rs,e.isFirstDayOfWeek(h.DayOfWeek)]])]),m("div",GV,[m("span",KV,H(h.DayNumber+1),1),m("span",null,H(e.getDayOfWeek(h.DayOfWeek)),1)]),m("div",qV,[ge(m("input",{type:"number",step:"any",min:"0",max:"24","onUpdate:modelValue":p=>h.Hours=p,class:"caption sched-detail-table-input",name:"Sche Hour",autocomplete:"off","data-lpignore":"true",error:h.error,onKeydown:t[12]||(t[12]=p=>e.numLimitKeyDown(p,!0,!1)),onChange:p=>e.checkHour(h),"data-test":h.Hours},null,40,XV),[[xt,h.Hours,void 0,{number:!0}]])]),m("div",ZV,[m("input",{value:e.$filters.reformatTime(h.StartTime),autocomplete:"off","data-lpignore":"true",class:"d-inline-flex ma-0 pa-0 caption sched-detail-table-input",onChange:p=>e.timeTextChanged(p,h,"StartTime"),onKeydown:t[13]||(t[13]=p=>e.numLimitKeyDown(p,!1,!0)),"onClick:clear":t[14]||(t[14]=p=>e.fromDate=null)},null,40,JV)]),m("div",QV,[m("input",{value:e.$filters.reformatTime(h.FinishTime),autocomplete:"off","data-lpignore":"true",class:"d-inline-flex ma-0 pa-0 caption sched-detail-table-input",onChange:p=>e.timeTextChanged(p,h,"FinishTime"),onKeydown:t[15]||(t[15]=p=>e.numLimitKeyDown(p,!1,!0)),"onClick:clear":t[16]||(t[16]=p=>e.fromDate=null)},null,40,e6)]),m("div",t6,[ge(m("input",{class:"sched-detail-table-input",type:"number",max:"100","onUpdate:modelValue":p=>h.breakH=p,onChange:p=>e.calcBreakHour(h)},null,40,n6),[[xt,h.breakH,void 0,{lazy:!0}]]),s6,ge(m("input",{class:"sched-detail-table-input","onUpdate:modelValue":p=>h.breakM=p,onChange:p=>e.calcBreakHour(h)},null,40,i6),[[xt,h.breakM,void 0,{lazy:!0}]])]),e.showMore?(S(),D("div",o6,[ce(a,{class:"caption",options:e.shifts,selected:h.ShiftId,onSelectOption:p=>e.selectedShift(p,h)},null,8,["options","selected","onSelectOption"])])):X("",!0)],2))),128))])],2)])]),m("div",r6,[m("button",{type:"button",class:"white--text grey caption text-capitalize mr-2 mt-2 small",onClick:t[17]||(t[17]=(...h)=>e.toggleShift&&e.toggleShift(...h))},[e.showMore?X("",!0):(S(),D("span",a6,"Show Shift")),e.showMore?(S(),D("span",l6,"Hide Shift")):X("",!0)]),!e.isNewSchedule&&e.detail.EmpAllocations&&e.detail.EmpAllocations.length===0?(S(),D("button",{key:0,type:"button",class:"white--text red text-capitalize mr-2 mt-2 small",disabled:e.hasChanges,onClick:t[18]||(t[18]=h=>e.deleteSchedule())},h6,8,c6)):X("",!0),!e.detail.Archive&&!e.isNewSchedule&&e.createType==="team"?(S(),D("button",{key:1,type:"button",class:"white--text red text-capitalize mr-2 mt-2 small",disabled:e.hasChanges,onClick:t[19]||(t[19]=h=>e.archiveSchedule())},g6,8,f6)):X("",!0),m("button",{type:"button",class:"white--text grey text-capitalize mr-2 mt-2 small",disabled:!e.hasChanges&&!e.isNewSchedule,onClick:t[20]||(t[20]=h=>e.cancelChanges())},b6,8,y6),m("button",{type:"button",class:"white--text text-capitalize mr-1 mt-2 green small",disabled:!e.hasChanges,onClick:t[21]||(t[21]=h=>e.updateDetail())},k6,8,S6)])],32),ce(c,{ref:"DatePickerRef",top:e.dateModalTop,leftInput:e.dateModalLeft,date:e.detail.StartDate},null,8,["top","leftInput","date"])])}const C6=Ne(lV,[["render",T6],["__scopeId","data-v-809b456c"]]),E6=Ve({name:"SearchSchedule",inject:{manageCompanyConfig:"MANAGE_COMPANY_CONFIG"},data(){return{selectedSched:null,schedList:[],shiftTypeList:[],schedDetail:null,createNew:!1,empListHeight:"",showFilters:!0,myEmployeeToggle:"MyEmployee",filters:{searchTerm:"",sort:"Name",sortOptions:["Name","Description","NoOfWeeks","HoursPerWeek","Count"],orderBy:"Asc",orderByArrow:["Asc","Asc","Asc","Asc","Asc"],partTimeSche:!1,fullTimeSche:!0,activeSche:!0,inActiveSche:!1,archivedSche:!1,options:[],selected:"Show Active",all:!1},searchTermFocus:!1}},mounted:function(){this.showFilters=!0,this.getSchedulesList(),this.manageCompanyConfig.getAllowPersonal()?this.filters.options=["Show All","Show Active","Show Inactive","Show Archived","Show Personal"]:this.filters.options=["Show All","Show Active","Show Inactive","Show Archived"],this.$watch("filters",this.refreshFilters,{deep:!0})},methods:{choseFilter(e,t){e.target.blur(),this.filters.selected=t,e.target.blur(),this.$refs.selectRef.blur()},createNewSchedule(){this.$emit("createNewSchedule")},selectSchedulesDetail(e){this.schedList.map(t=>{t.classObject.selected=!1}),e.classObject.selected=!0,this.selectedSched=e,this.$emit("selectSchedFromSearch",this.selectedSched)},deselectScheDetail(){this.schedList.forEach(e=>{e.classObject.selected=!1}),this.selectedSched=null},toggleFilters:function(){this.showFilters=!this.showFilters},refreshFilters:function(){var e=this;this.schedList.sort(function(n,s){var i=1;e.filters.orderBy==="Desc"&&(i=-1);var o,r;return typeof n[e.filters.sort]=="string"?(o=n[e.filters.sort].toLowerCase(),r=s[e.filters.sort].toLowerCase()):(o=n[e.filters.sort],r=s[e.filters.sort]),o<r?-1*i:o>r?1*i:0});var t=this.filters.searchTerm.toLowerCase().trim();this.schedList.forEach(n=>{n.classObject.selected=e.selectedSched?e.selectedSched.Id==n.Id:!1,n.classObject.visible=!0,this.filters.all?n.classObject.visible=!0:(n.classObject.visible=this.getDropDownFilterResult(n),n.classObject.visible&&t.length!=0&&(n.classObject.visible=(n.Name.toLowerCase().indexOf(t)!==-1||n.Description.toLowerCase().indexOf(t)!==-1)&&n.classObject.visible)),n.classObject.hidden=!n.classObject.visible})},getDropDownFilterResult(e){switch(this.filters.selected){case"Show All":return!0;case"Show Active":return e.isActive===!0&&e.Archive===!1&&e.ScheduleType===0;case"Show Inactive":return e.isActive===!1&&e.Archive===!1&&e.ScheduleType===0;case"Show Archived":return e.Archive===!0&&e.ScheduleType===0;case"Show Personal":return e.ScheduleType===1}},getSchedulesList:function(){K.loading(),Pe.StandardSchedules(this.myEmployeeToggle==="AllEmployee").then(e=>{var t=[];let n=[],s=e.Data;this.manageCompanyConfig.getAllowPersonal()||(s=e.Data.filter(i=>i.ScheduleType===0)),s.map(i=>{if(i.Name.includes("Personal")){var o=i.Name.replace(/^\D+/g,"");n.push(Number(o))}i.classObject={selected:!1,visible:!0,hidden:!1},this.selectedSched&&this.selectedSched.Id===i.Id&&(this.selectedSched=i,i.classObject.selected=!0),t.push(i.NoOfWeeks)}),t.unshift("All"),this.schedList=s,this.$store.state.EmployeeModule.employeesWithPeronsalSche=n,this.refreshFilters(),K.clear()})},updateSort:function(e){this.filters.orderBy=this.filters.orderByArrow[e]=this.filters.orderByArrow[e]==="Asc"?"Desc":"Asc",this.filters.sort=this.filters.sortOptions[e],this.filters.orderByArrow.forEach((t,n)=>{})}}}),Oh=e=>(ft("data-v-ac7040ca"),e=e(),pt(),e),x6={id:"sched-man-list ",class:"sched-man-list mt-4"},M6={class:"sched-filters d-flex align-center"},$6={class:"filter-dropdown"},A6={class:"custom-select",tabindex:"1",ref:"selectRef"},O6={class:"custom-select-selected"},P6={class:"custom-select-items"},L6=["tabindex","onClick"],R6={class:"cell-config"},N6=Oh(()=>m("span",{class:"icon-plus btn-icon white"},null,-1)),F6=Oh(()=>m("span",{class:"font-weight-regular text-capitalize white"}," Create",-1)),I6=[N6,F6],Y6={class:"d-flex justify-start mt-2"},H6={class:"d-flex align-center"},W6=Oh(()=>m("label",{class:"ml-1"},"My Employees Only",-1)),B6={class:"d-flex align-center ml-2"},V6=Oh(()=>m("label",{class:"ml-1"},"All Employees",-1)),U6={class:"aff-table sche-search-table mt-4"},z6={class:"ui-grid"},j6={class:"table-head"},G6={class:"table-body-box"},K6=["onClick"],q6={class:"table-body-cell table-body-cell-first"},X6={class:"table-body-cell"},Z6={class:"sched-search-desc"},J6={class:"table-body-cell text-center"},Q6={class:"table-body-cell text-center"},eU={class:"table-body-cell text-center"};function tU(e,t,n,s,i,o){const r=ye("perfect-scrollbar"),a=Ci("tooltip");return ge((S(),D("div",x6,[m("div",null,[m("div",M6,[ge(m("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>e.filters.searchTerm=c),type:"text",placeholder:"Search for schedules","hide-details":"",class:"sched-search-box body-2 underline-input"},null,512),[[xt,e.filters.searchTerm]]),m("div",$6,[m("div",A6,[m("div",O6,H(e.filters.selected),1),m("div",P6,[(S(!0),D(de,null,$e(e.filters.options,(c,d)=>(S(),D("div",{class:"custom-select-item",key:d,tabindex:d+99,onClick:h=>e.choseFilter(h,c)},[m("div",R6,H(c),1)],8,L6))),128))])],512)]),m("button",{class:"blue ml-2 small",onClick:t[1]||(t[1]=c=>e.createNewSchedule())},I6)]),m("div",Y6,[m("div",H6,[ge(m("input",{class:"ma-0",type:"radio",id:"myEmployee",value:"MyEmployee","onUpdate:modelValue":t[2]||(t[2]=c=>e.myEmployeeToggle=c),onChange:t[3]||(t[3]=(...c)=>e.getSchedulesList&&e.getSchedulesList(...c))},null,544),[[Ya,e.myEmployeeToggle]]),W6]),m("div",B6,[ge(m("input",{class:"my-0",type:"radio",id:"allEmployee",value:"AllEmployee","onUpdate:modelValue":t[4]||(t[4]=c=>e.myEmployeeToggle=c),onChange:t[5]||(t[5]=(...c)=>e.getSchedulesList&&e.getSchedulesList(...c))},null,544),[[Ya,e.myEmployeeToggle]]),V6])])]),m("div",U6,[m("div",z6,[m("div",j6,[m("div",{class:"table-head-cell table-head-cell-first",onClick:t[6]||(t[6]=c=>e.updateSort(0))},[Ot(" Name "),m("span",{class:nt({"icon-arrow-line-small-down":e.filters.orderByArrow[0]==="Asc","icon-arrow-line-small-up":e.filters.orderByArrow[0]==="Desc"})},null,2)]),m("div",{class:"table-head-cell",onClick:t[7]||(t[7]=c=>e.updateSort(1))},[Ot(" Description "),m("span",{class:nt({"icon-arrow-line-small-down":e.filters.orderByArrow[1]==="Asc","icon-arrow-line-small-up":e.filters.orderByArrow[1]==="Desc"})},null,2)]),m("div",{class:"table-head-cell text-center",onClick:t[8]||(t[8]=c=>e.updateSort(2))},[Ot(" Weeks "),m("span",{class:nt({"icon-arrow-line-small-down":e.filters.orderByArrow[2]==="Asc","icon-arrow-line-small-up":e.filters.orderByArrow[2]==="Desc"})},null,2)]),m("div",{class:"table-head-cell text-center",onClick:t[9]||(t[9]=c=>e.updateSort(3))},[Ot(" H/W "),m("span",{class:nt({"icon-arrow-line-small-down":e.filters.orderByArrow[3]==="Asc","icon-arrow-line-small-up":e.filters.orderByArrow[3]==="Desc"})},null,2)]),m("div",{class:"table-head-cell text-center",onClick:t[10]||(t[10]=c=>e.updateSort(4))},[Ot(" Allocated "),m("span",{class:nt({"icon-arrow-line-small-down":e.filters.orderByArrow[4]==="Asc","icon-arrow-line-small-up":e.filters.orderByArrow[4]==="Desc"})},null,2)])]),m("div",G6,[ce(r,null,{default:Ze(()=>[(S(!0),D(de,null,$e(e.schedList,c=>(S(),D("div",{onClick:d=>e.selectSchedulesDetail(c),class:nt([c.classObject,"table-body"])},[m("div",q6,[m("div",null,H(c.Name),1)]),ge((S(),D("div",X6,[m("div",Z6,H(c.Description),1)])),[[a,{content:c.Description,delay:{show:3e3,hide:100}},void 0,{right:!0}]]),m("div",J6,[m("div",null,H(c.NoOfWeeks),1)]),m("div",Q6,[m("div",null,H(c.HoursPerWeek),1)]),m("div",eU,[m("div",null,H(c.Count),1)])],10,K6))),256))]),_:1})])])])],512)),[[rs,!e.createNew]])}const nU=Ne(E6,[["render",tU],["__scopeId","data-v-ac7040ca"]]),sU=Ve({name:"schedulesManagement",components:{SearchSchedule:nU,"schedule-detail":C6},data(){return{selectedSched:null,shiftTypeList:[],schedDetail:null,createNew:!1,empListHeight:"",showActiveSchedule:!0,employees:[]}},async mounted(){K.loading(),await Promise.all([this.getShiftTypeList(),this.getEmployees()]),K.clear()},methods:{async getShiftTypeList(){try{let e=await Pe.ShiftTypes();this.shiftTypeList=e.map(t=>t.ShiftType)}catch(e){console.error(e)}},async getEmployees(){try{this.employees=await this.$store.dispatch(Ja.getEmployees,Affinity.user.EmployeeNo)}catch(e){console.error(e)}},toggleShowActiveSchedule(){this.showActiveSchedule=!this.showActiveSchedule},selectSchedulesDetail(e){this.$refs.detail&&this.$refs.detail.hasChanges?K.checkChange({message:"There are currently Schedule Detail changes <br /> Do you want to discard your changes?",onOk:()=>{this.loadScheduleDetail(e)}}):this.loadScheduleDetail(e)},loadScheduleDetail(e){K.loading(),Pe.ScheduleDetail(e.Id).then(t=>{this.schedDetail=t.Data,this.checkEmpAllocationActive(),K.clear(),this.selectedSched=e},t=>{K.clear(),t.message==="Network Error"?K.alert("Lost Internet connection. Please try again after reconnect."):K.alert("Something went wrong")})},checkEmpAllocationActive(){this.schedDetail.EmpAllocations.forEach(e=>{if(!e.DateTo){e.isActive=!0;return}let t=M(e.DateFrom),n=M(e.DateTo);e.isActive=n.diff(M(),"day")>=0&&t.diff(M(),"day")<=0})},createNewSchedule:function(){this.createNew=!0;let e=M();e.hour(0),e.minute(0),e.second(0),this.schedDetail={Id:-1,Name:"",Description:"",NoOfWeeks:1,StartDate:e,Days:[]},this.$refs.detail&&(this.$refs.detail.hasChanges=!0)},cancelScheduleDetail(){this.createNew&&(this.createNew=!1),this.schedDetail=null},reloadSchedulesDetail:function(){this.selectedSched?this.selectSchedulesDetail(this.selectedSched):this.schedDetail=null,this.createNew=!1},closeScheduleDetail(e){if(!e||!this.$refs.detail.hasChanges){this.schedDetail=null,this.createNew=!1,this.selectedSched=null,this.$refs.searchScheduleRef.deselectScheDetail();return}K.checkChange({message:"There are currently Schedule Detail changes <br /> Do you want to discard your changes?",onOk:()=>{this.closeScheduleDetail(!1)}})},scheduleSaved:function(e){this.selectedSched?(this.schedDetail=e,this.selectedSched={Id:e.Id}):this.schedDetail=null,this.$refs.searchScheduleRef.getSchedulesList(),this.createNew=!1},scheduleDeleted:function(){this.selectedSched=null,this.schedDetail=null,this.$refs.searchScheduleRef.getSchedulesList()}}}),Nc=e=>(ft("data-v-d26e1470"),e=e(),pt(),e),iU={class:"vue-sched-management"},oU={class:"dbw-box sched-card-default mr-xs-0"},rU=Nc(()=>m("div",null,[m("h3",{class:"mt-2"},"Schedules")],-1)),aU={key:0,class:"dbw-box sched-card-default sched-detail-card sche-detail-mt"},lU={key:0},cU=Nc(()=>m("h3",null,"Create New Schedule",-1)),uU=[cU],dU={key:1,class:"d-flex justify-space-between"},hU=Nc(()=>m("h3",null,"Schedule Details",-1)),fU={key:3,class:"sched-man-allocations mt-4"},pU=Nc(()=>m("div",{class:"caption font-weight-bold text-start"}," Employee Allocations ",-1)),mU={class:"aff-table allowcated-employee-table mt-4"},gU=Nc(()=>m("thead",null,[m("tr",null,[m("th",{class:"text-center"},"Employee Name"),m("th",{class:"text-center"},"Date From"),m("th",{class:"text-center"},"Date To")])],-1)),yU={class:"text-center"},vU={class:"text-center"},_U={class:"d-flex justify-end mt-2"};function bU(e,t,n,s,i,o){const r=ye("search-schedule"),a=ye("schedule-detail");return S(),D("div",iU,[ge(m("div",oU,[rU,ce(r,{ref:"searchScheduleRef",onCreateNewSchedule:e.createNewSchedule,onSelectSchedFromSearch:e.selectSchedulesDetail},null,8,["onCreateNewSchedule","onSelectSchedFromSearch"])],512),[[rs,!e.createNew]]),e.schedDetail?(S(),D("div",aU,[e.createNew?(S(),D("div",lU,uU)):(S(),D("div",dU,[hU,m("span",{class:"icon-cross vp-icon",onClick:t[0]||(t[0]=c=>e.closeScheduleDetail(!0))})])),e.schedDetail?(S(),qt(a,{key:2,ref:"detail",shiftTypeList:e.shiftTypeList,detail:e.schedDetail,"read-only":0,onCancel:e.cancelScheduleDetail,onReload:e.reloadSchedulesDetail,onScheduleSaved:e.scheduleSaved,onScheduleDeleted:e.scheduleDeleted},null,8,["shiftTypeList","detail","onCancel","onReload","onScheduleSaved","onScheduleDeleted"])):X("",!0),e.schedDetail&&e.schedDetail.EmpAllocations&&e.schedDetail.EmpAllocations.length>0?(S(),D("div",fU,[pU,m("div",mU,[m("table",null,[gU,m("tbody",null,[(S(!0),D(de,null,$e(e.schedDetail.EmpAllocations,c=>(S(),D("tr",{class:nt({"hide-none-active-detail":!c.isActive&&e.showActiveSchedule})},[m("td",null,H(c.EmployeeName),1),m("td",yU,H(e.$filters.reformatDateString(c.DateFrom,null)),1),m("td",vU,H(e.$filters.reformatDateString(c.DateTo,null)),1)],2))),256))])])]),m("div",_U,[m("button",{class:"grey white--text text-capitalize small",onClick:t[1]||(t[1]=(...c)=>e.toggleShowActiveSchedule&&e.toggleShowActiveSchedule(...c))},[ge(m("span",null,"Show Active",512),[[rs,!e.showActiveSchedule]]),ge(m("span",null,"Show All",512),[[rs,e.showActiveSchedule]])])])])):X("",!0)])):X("",!0)])}const SU=Ne(sU,[["render",bU],["__scopeId","data-v-d26e1470"]]),wU=Ve({name:"emp-schedule-detail",props:["empSched"],components:{DatePicker:bs},data:function(){return{dateModalTop:null,dateModalLeft:null,datePickerTargetDay:null,dateType:"",empSchedDetail:null,hasChanges:!1,fromDateMenu:!1,toDateMenu:!1,fromDatePickerValue:"",toDatePickerValue:""}},computed:{},mounted:function(){this.$emit("dataChanged",this.hasChanges),this.getEmpSchedDetail()},watch:{empSched(e,t){e!=t&&(this.empSchedDetail=null,this.hasChanges=null,this.fromDateMenu=!1,this.toDateMenu=!1,this.getEmpSchedDetail())}},methods:{getEmpSchedDetail(){K.loading(),Pe.EmpSchedDetailRequest(this.empSched.EmployeeNo+"/"+this.empSched.Id).then(e=>{if(this.empSchedDetail=e.Data,!!this.empSchedDetail.Detail){for(var t=0,n=M(this.empSchedDetail.Detail.StartDate),s=this.empSchedDetail.Detail.NoOfWeeks*7,i=new Array(s),o=0;o<s;o++)o%7==0&&t++,i[o]={DayNumber:o,DayOfWeek:n.day(),Week:t,Date:M(n),Hours:0,BreakHours:null,StartTime:null,FinishTime:null,ShiftId:null},n.add(1,"day");this.empSchedDetail.Detail.Days.map(function(r){r.StartTime&&(i[r.DayNumber].StartTime=M(r.StartTime)),r.FinishTime&&(i[r.DayNumber].FinishTime=M(r.FinishTime)),i[r.DayNumber].Hours=r.Hours,i[r.DayNumber].ShiftId=r.ShiftId,i[r.DayNumber].BreakHours=r.BreakHours}),this.empSchedDetail.Detail.Days=i,this.empSchedDetail.Detail.StartDate=M(this.empSchedDetail.Detail.StartDate),e.Data.DateFrom&&(this.empSchedDetail.DateFrom=M(e.Data.DateFrom,"YYYY-MM-DD")),e.Data.DateTo&&(this.empSchedDetail.DateTo=M(e.Data.DateTo,"YYYY-MM-DD")),this.datePickerFormattedFromDate(),this.datePickerFormattedToDate()}}).finally(()=>K.clear())},submitForm(){return!1},updateDateText(e,t){this.toDateMenu=!1,t.set(M(e,"DD/MM/YYYY").toObject()),this.datePickerFormattedFromDate(),this.datePickerFormattedToDate()},datePickerFormattedFromDate(){this.fromDatePickerValue=this.empSchedDetail.DateFrom?M(this.empSchedDetail.DateFrom).format("YYYY-MM-DD"):void 0},datePickerFormattedToDate(){this.toDatePickerValue=this.empSchedDetail.DateTo?M(this.empSchedDetail.DateTo).format("YYYY-MM-DD"):void 0},fromDateDatePickerHandler(e){typeof e=="string"&&(e=M(e)),this.empSchedDetail.DateFrom=e,this.hasChanges=!0,this.datePickerFormattedFromDate()},toDateDatePickerHandler(e){typeof e=="string"&&(e=M(e)),this.empSchedDetail.DateTo=e,this.hasChanges=!0,this.datePickerFormattedToDate()},isFirstDayOfWeek:function(e){var t=M(this.empSchedDetail.Detail.StartDate);return e==t.day()},getDayOfWeek:function(e){if(e<0||e>6)return"unknown";var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return t[e]},RemoveSchedule(){K.checkChange({message:"Are you sure?",onOk:()=>{K.loading(),Pe.RemoveEmployeeWorkSchedule(this.empSchedDetail.Id,this.empSched.EmployeeNo).then(e=>{this.$emit("deleted")}).finally(()=>K.clear())}})},cancelChanges(){if(!this.hasChanges){this.getEmpSchedDetail();return}os.emit("dialog",{message:"There is currently unsaved schedule changes <br /> Do you want to discard your changes?",showButtons:!0,showCancel:!0,okColor:"orange",onOk:()=>{this.getEmpSchedDetail(),this.hasChanges=!1},onCancel:()=>{}})},updateEmpSched(){var e=M(this.empSchedDetail.DateFrom),t=M(this.empSchedDetail.DateTo);if(e&&t&&e>t){K.alert("<br />Date From cannot be before Date To.");return}os.emit("dialog",{message:"Updating Employee Schedule",showButtons:!1,showLoader:!0,noClose:!1}),K.loading();var n={Id:this.empSchedDetail.Id,DateFrom:e?e.format("DD/MMM/YYYY"):null,DateTo:t?t.format("DD/MMM/YYYY"):null,Comment:this.empSchedDetail.Comment};Pe.UpdateEmpSchedRequest(n,this.empSched.EmployeeNo).then(s=>{K.clear(),this.$emit("updated")}).catch(s=>{K.alert(s.message),console.error("err",s)})},updateDateTime(e,t,n){let s=e.target.getClientRects()[0];const i=s.left+330>window.innerWidth;this.dateModalTop=s.bottom,this.dateModalLeft=i?window.innerWidth-330:s.left,this.datePickerTargetDay=t,this.dateType=n,this.openDatePicker()},async openDatePicker(){let e=await this.$refs.DatePickerRef.toggleShow(this.datePickerTargetDay);this.dateType==="DateTo"?this.empSchedDetail.DateTo=e:this.dateType==="DateFrom"&&(this.empSchedDetail.DateFrom=e),this.hasChanges=!0}}}),Hs=e=>(ft("data-v-2074d5cb"),e=e(),pt(),e),DU={key:0,class:"section default-form sched-empSched-form mt-4"},kU=Hs(()=>m("h3",null,"Schedule Details",-1)),TU={class:"caption mt-2"},CU=Hs(()=>m("div",{class:"form-label"},"Name",-1)),EU={class:"label-empSched"},xU={class:"caption d-flex mt-4"},MU=Hs(()=>m("div",{class:"form-label"},"Number of Weeks",-1)),$U={class:"label-empSched"},AU={class:"d-flex"},OU={class:"caption mt-4 date-input-warpper"},PU=Hs(()=>m("div",{class:"date-label"},"Date From",-1)),LU=["value"],RU={class:"caption mt-4 date-input-warpper"},NU=Hs(()=>m("div",{class:"date-label"},"Date To",-1)),FU=["value"],IU={class:"caption mt-4"},YU=Hs(()=>m("div",{class:"date-label"},"Notes",-1)),HU={class:"section-table ui-gridbox-scrollable-titles mt-4"},WU={class:"aff-table sched-empSched-table"},BU=ja('<div class="head-cell" data-v-2074d5cb>Week</div><div class="head-cell" data-v-2074d5cb>Day</div><div class="head-cell" data-v-2074d5cb>Hours</div><div class="head-cell" data-v-2074d5cb>Start</div><div class="head-cell" data-v-2074d5cb>Finish</div><div class="head-cell break-column-width" data-v-2074d5cb> Unpaid Break </div><div class="head-cell" data-v-2074d5cb>Shift</div>',7),VU=[BU],UU={class:"aff-table-body"},zU={class:"aff-table-body-row"},jU={class:"aff-table-body-cell"},GU={class:"aff-table-body-cell"},KU={class:"mr-2 days-width"},qU={class:"aff-table-body-cell"},XU={class:"aff-table-body-cell"},ZU={class:"aff-table-body-cell"},JU={class:"aff-table-body-cell"},QU={class:"aff-table-body-cell"},ez={class:"schedules-buttons form-row d-flex justify-end mt-4"},tz=Hs(()=>m("span",{class:"icon-briefcase mr-1"},null,-1)),nz=Hs(()=>m("span",null,"Remove",-1)),sz=[tz,nz],iz=["disabled"],oz=Hs(()=>m("span",{class:"icon-cancel mr-1"},null,-1)),rz=Hs(()=>m("span",null,"Cancel",-1)),az=[oz,rz],lz=["disabled"],cz=Hs(()=>m("span",{class:"icon-save mr-1"},null,-1)),uz=Hs(()=>m("span",null,"Update",-1)),dz=[cz,uz];function hz(e,t,n,s,i,o){const r=ye("date-picker");return e.empSchedDetail&&e.empSchedDetail.Detail?(S(),D("div",DU,[kU,m("form",{onSubmit:t[11]||(t[11]=io((...a)=>e.submitForm&&e.submitForm(...a),["prevent"]))},[m("div",TU,[CU,m("div",EU,H(e.empSchedDetail.Detail.Name),1)]),m("div",xU,[MU,m("div",$U,H(e.empSchedDetail.Detail.NoOfWeeks),1)]),m("div",AU,[m("div",OU,[PU,m("input",lc({value:e.$filters.reformatDate(e.empSchedDetail.DateFrom)},e.attrs,bb(e.on),{outlined:"",dense:"","hide-details":"",autocomplete:"off",class:"d-inline-flex ma-0 pa-0 mr-2 caption date-input-width date-input","append-icon":"icon-calendar",onChange:t[0]||(t[0]=a=>e.updateDateText(a,e.empSchedDetail.DateFrom)),onClick:t[1]||(t[1]=a=>e.updateDateTime(a,e.empSchedDetail.DateFrom,"DateFrom")),"onClick:clear":t[2]||(t[2]=a=>e.fromDate=!1)}),null,16,LU)]),m("div",RU,[NU,m("input",lc({value:e.$filters.reformatDate(e.empSchedDetail.DateTo)},e.attrs,bb(e.on),{autocomplete:"off",outlined:"",dense:"","hide-details":"",class:"d-inline-flex ma-0 pa-0 caption date-input-width date-input","append-icon":"icon-calendar",onChange:t[3]||(t[3]=a=>e.updateDateText(a,e.empSchedDetail.DateTo)),onClick:t[4]||(t[4]=a=>e.updateDateTime(a,e.empSchedDetail.DateTo,"DateTo")),"onClick:clear":t[5]||(t[5]=a=>e.toDateMenu=!1)}),null,16,FU)])]),m("div",IU,[YU,ge(m("textarea",{class:"caption schedule-textarea",onKeyup:t[6]||(t[6]=a=>e.hasChanges=!0),"hide-details":"",rows:"2",outlined:"",dense:"","onUpdate:modelValue":t[7]||(t[7]=a=>e.empSchedDetail.Comment=a)},`\r
                `,544),[[xt,e.empSchedDetail.Comment]])]),m("div",HU,[m("div",WU,[m("div",{class:nt(["sched-detail-days",{"shift-min-width":e.showMore}])},[m("div",{class:nt(["aff-table-head",{"show-shift-column":e.showMore}])},VU,2),m("div",UU,[(S(!0),D(de,null,$e(e.empSchedDetail.Detail.Days,a=>(S(),D("div",zU,[m("div",jU,[ge(m("span",null,H(a.Week),513),[[rs,e.isFirstDayOfWeek(a.DayOfWeek)]])]),m("div",GU,[m("span",KU,H(a.DayNumber+1),1),m("span",null,H(e.getDayOfWeek(a.DayOfWeek)),1)]),m("div",qU,H(a.Hours),1),m("div",XU,[m("span",null,H(e.$filters.reformatTime(a.StartTime)),1)]),m("div",ZU,[m("span",null,H(e.$filters.reformatTime(a.FinishTime)),1)]),m("div",JU,[m("span",null,H(e.$filters.reformatBreakHours(a.BreakHours)),1)]),m("div",QU,[m("span",null,H(a.ShiftId),1)])]))),256))])],2)])]),m("div",ez,[m("button",{type:"button",class:"white--text small red text-capitalize mr-2",onClick:t[8]||(t[8]=a=>e.RemoveSchedule())},sz),m("button",{type:"button",class:"white--text small grey text-capitalize mr-2",disabled:!e.hasChanges,onClick:t[9]||(t[9]=a=>e.cancelChanges())},az,8,iz),m("button",{type:"button",class:"white--text small green text-capitalize mr-1",disabled:!e.hasChanges,onClick:t[10]||(t[10]=a=>e.updateEmpSched())},dz,8,lz)])],32),ce(r,{ref:"DatePickerRef",top:e.dateModalTop,left:e.dateModalLeft},null,8,["top","left"])])):X("",!0)}const fz=Ne(wU,[["render",hz],["__scopeId","data-v-2074d5cb"]]),pz=Ve({name:"employeeSchedule",components:{EmpScheduleDetail:fz},props:["employee"],data:function(){return{selectedEmp:null,empSchedList:[],activeOnly:!1,selectedEmpSched:null}},setup(e){return{selectedEmp:V(e.employee)}},mounted(){this.selectedEmp=this.employee,this.selectedEmp&&this.selectedEmp.EmployeeNo?this.getEmpWorkScheds():console.error("employee or employee number missing")},watch:{employee(){this.selectedEmp=this.employee,this.selectedEmp&&this.selectedEmp.EmployeeNo?this.getEmpWorkScheds():console.error("employee or employee number missing")}},methods:{selectEmpSchedCheck(e){this.$refs.empScheDetailRef&&this.$refs.empScheDetailRef.hasChanges?K.checkChange({message:"There are currently Schedule changes <br /> Do you want to discard your changes?",onOk:()=>{this.selectEmpSched(e)}}):this.selectEmpSched(e)},selectEmpSched(e){this.empSchedList.forEach(t=>{t.classObject.selected=!1}),e.classObject.selected=!0,this.selectedEmpSched=e},getEmpWorkScheds(){K.loading(),Pe.EmpWorkScheds(this.selectedEmp.EmployeeNo+(this.activeOnly?"?activeOnly=true":"?activeOnly=false")).then(e=>{e.Data.map((t,n)=>{t.classObject={selected:!1,odd:n%2},t.DateFrom=new Date(Date.parse(t.DateFrom)),t.DateTo&&(t.DateTo=new Date(Date.parse(t.DateTo)))}),this.empSchedList=e.Data,K.clear()})},updateActiveOnly(){this.getEmpWorkScheds()},closeEmployeeSchedule(e){if(!e||!this.$refs.empScheDetailRef||this.$refs.empScheDetailRef&&!this.$refs.empScheDetailRef.hasChanges){this.$emit("close");return}K.checkChange({message:"There are currently Schedule changes <br /> Do you want to discard your changes?",onOk:()=>{this.closeEmployeeSchedule(!1)}})},deleteSelection(){this.selectedEmpSched=null,this.getEmpWorkScheds()},updatedEmpSchedule(){this.selectedEmpSched=null,this.getEmpWorkScheds()}}}),Pk=e=>(ft("data-v-a74730c9"),e=e(),pt(),e),mz={class:"dbw-box emp-workSched-card pa-4"},gz={class:"d-flex justify-space-between"},yz={class:"d-flex justify-end align-center mt-4 caption"},vz=Pk(()=>m("label",{class:"default-line-height"},"Active Only",-1)),_z={key:0,class:"section-table aff-table mt-2 mb-4"},bz=Pk(()=>m("thead",null,[m("tr",null,[m("th",null,"Schedule Name"),m("th",{class:"text-center"},"Date From"),m("th",{class:"text-center"},"Date To")])],-1)),Sz=["onClick"],wz={class:"text-center"},Dz={class:"text-center"},kz={key:1};function Tz(e,t,n,s,i,o){const r=ye("emp-schedule-detail");return S(),D("div",mz,[m("div",gz,[m("h3",null,H(e.selectedEmp.EmployeeName)+" ("+H(e.selectedEmp.EmployeeNo)+") ",1),m("span",{class:"icon-cross vp-icon",onClick:t[0]||(t[0]=a=>e.closeEmployeeSchedule(!0))})]),m("div",yz,[ge(m("input",{class:"override-width mr-2",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=a=>e.activeOnly=a),onChange:t[2]||(t[2]=(...a)=>e.updateActiveOnly&&e.updateActiveOnly(...a)),"true-value":1,"false-value":0},null,544),[[Ur,e.activeOnly]]),vz]),e.empSchedList.length>0?(S(),D("div",_z,[m("table",null,[bz,m("tbody",null,[(S(!0),D(de,null,$e(e.empSchedList,a=>(S(),D("tr",{class:nt(a.classObject),onClick:c=>e.selectEmpSchedCheck(a)},[m("td",null,H(a.WorkSchedName),1),m("td",wz,H(e.$filters.reformatDate(a.DateFrom)),1),m("td",Dz,H(e.$filters.reformatDate(a.DateTo)),1)],10,Sz))),256))])])])):(S(),D("div",kz,"Work schedule empty.")),e.selectedEmpSched?(S(),qt(r,{key:2,ref:"empScheDetailRef",empSched:e.selectedEmpSched,onDeleted:e.deleteSelection,onUpdated:e.updatedEmpSchedule},null,8,["empSched","onDeleted","onUpdated"])):X("",!0)])}const Cz=Ne(pz,[["render",Tz],["__scopeId","data-v-a74730c9"]]),Ez=Ve({name:"SearchEmployee",data:function(){return{searchTerm:"",empList:[],selectedEmpList:[],selectedEmp:null,isMobileView:!1}},mounted(){navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?(console.log("is mobile view true"),this.isMobileView=!0):this.isMobileView=!1,this.getEmployeesList()},watch:{searchTerm:function(e,t){if(t!=e)if(e.trim().length==0)this.empList.forEach(function(s){s.classObject.visible=!0,s.classObject.hidden=!1});else{var n=e.toLowerCase().trim();this.empList.forEach(s=>{s.classObject.visible=s.EmployeeName&&s.EmployeeName.toLowerCase().indexOf(n)>-1||s.EmployeeNo&&s.EmployeeNo.toString().indexOf(n)>-1,s.classObject.hidden=!s.classObject.visible})}}},methods:{getEmployeesList(){K.loading(),Pe.EmployeesList().then(e=>{e.Data.map((t,n)=>{t.classObject={visible:!0,hidden:!1,selected:!1,odd:n%2}}),this.empList=e.Data}).finally(()=>{K.clear()})},toggleEmployeeSelect:function(e){e.classObject.selected?this.removeEmployee(e):this.addEmployee(e)},removeEmployee:function(e){e.classObject.selected=!1,this.selectedEmpList.splice(this.selectedEmpList.indexOf(e),1),this.$emit("updateSelectedEmpList",this.selectedEmpList)},addEmployee:function(e){e.classObject.selected=!0,this.selectedEmpList.push(e),this.$emit("updateSelectedEmpList",this.selectedEmpList)},clearSelectedEmployeeList:function(){this.selectedEmpList.forEach(e=>{e.classObject.selected=!1}),this.selectedEmpList=[],this.$emit("updateSelectedEmpList",this.selectedEmpList)}}}),Ph=e=>(ft("data-v-daeea3e6"),e=e(),pt(),e),xz={class:"section shadow dbw-box sched-card-default pa-4"},Mz=Ph(()=>m("h3",{class:"mb-2"},"Select Employees",-1)),$z={class:"aff-table mt-4"},Az={class:"ui-grid"},Oz=["onClick"],Pz={class:"name-text-width"},Lz={class:"current-schedules-width"},Rz={class:"schedule-name"},Nz={class:"schedule-name"},Fz=["onClick"],Iz=Ph(()=>m("span",{class:"icon-add-to-list"},null,-1)),Yz=[Iz],Hz=["onClick"],Wz=Ph(()=>m("span",{class:"icon-add-to-list"},null,-1)),Bz=[Wz],Vz=["onClick"],Uz=Ph(()=>m("span",{class:"icon-minus white--text small"},null,-1)),zz=[Uz];function jz(e,t,n,s,i,o){const r=Ci("tooltip");return S(),D("div",xz,[Mz,ge(m("input",{class:"mt-2 caption text-field-input","onUpdate:modelValue":t[0]||(t[0]=a=>e.searchTerm=a),"hide-details":"",dense:"",outlined:"",type:"text",placeholder:"Search for employees "},null,512),[[xt,e.searchTerm]]),m("div",$z,[m("table",Az,[m("tbody",null,[(S(!0),D(de,null,$e(e.empList,a=>(S(),D("tr",{class:nt(a.classObject),onClick:c=>e.toggleEmployeeSelect(a)},[m("td",null,[m("span",Pz,H(a.EmployeeName)+" ("+H(a.EmployeeNo)+")",1),m("span",Lz,[(S(!0),D(de,null,$e(a.WorkschedNames,c=>(S(),D("div",Rz,H(c),1))),256)),m("div",Nz,H(a.PersonalSchedule),1)])]),m("td",null,[!e.isMobileView&&!a.classObject.selected?ge((S(),D("button",{key:0,class:"green white--text fsmall",onClick:io(c=>e.addEmployee(a),["stop"])},Yz,8,Fz)),[[r,{content:"Add to Employee Selection List"},void 0,{right:!0}]]):X("",!0),e.isMobileView&&!a.classObject.selected?(S(),D("button",{key:1,class:"green white--text fsmall",onClick:io(c=>e.addEmployee(a),["stop"])},Bz,8,Hz)):X("",!0),a.classObject.selected?ge((S(),D("button",{key:2,class:"grey fsmall",onClick:io(c=>e.removeEmployee(a),["stop"])},zz,8,Vz)),[[r,{content:"Remove Employee From Selection List"},void 0,{right:!0}]]):X("",!0)])],10,Oz))),256))])])])])}const Gz=Ne(Ez,[["render",jz],["__scopeId","data-v-daeea3e6"]]),Kz=Ve({name:"employeeAllocation",components:{SearchEmployee:Gz,EmployeeSchedule:Cz,DatePicker:bs},data:function(){return{bulkEmpList:[],schedList:[],hasChanges:!1,cloneSchedList:[],selectSearchInput:"",schedAllocation:{WorkschedId:-1,DateFrom:M(),DateTo:null,Comment:"",EndExistingScheds:!0},selectedSchedule:{},selectedEmpForDetail:null,startDateMenu:!1,toDateMenu:!1,startDatePickerValue:"",toDatePickerValue:"",datePickerTargetDay:null,dateType:"",isMobileView:!1,dateModalTop:null,dateModalLeft:null}},mounted:function(){this.isMobileView=this.checkIsMobileView(),Pe.StandardSchedules().then(e=>{this.schedList=e.Data.filter(t=>t.Archive===!1&&t.ScheduleType===0),this.cloneSchedList=this.schedList.slice()}),this.$watch("schedAllocation",(e,t)=>{e===t&&(this.hasChanges=!0)},{deep:!0})},computed:{selectedSched(){return this.schedAllocation.WorkschedId===-1?!1:this.schedList.find(t=>t.Id===this.schedAllocation.WorkschedId)},capDate:function(){if(!this.schedAllocation.DateFrom)return;let e=this.schedAllocation;return M(e.DateFrom).subtract(1,"day").format("DD/MM/YYYY")}},methods:{navDownList(){},updateSearchList(e){e.key==="ArrowDown"&&this.$refs.selectDropdownRef.focus(),this.cloneSchedList=this.schedList.filter(t=>t.Name.toLowerCase().indexOf(this.selectSearchInput.toLowerCase())>-1)},updateDateText(e,t,n){var s,i,o;this.startDateMenu=!1,this.toDateMenu=!1,t?t.set(M((s=e==null?void 0:e.target)==null?void 0:s.value,"DD/MM/YYYY").toObject()):n==="DateTo"?this.schedAllocation.DateTo=M((i=e==null?void 0:e.target)==null?void 0:i.value,"DD/MM/YYYY"):n==="DateFrom"&&(this.schedAllocation.DateFrom=M((o=e==null?void 0:e.target)==null?void 0:o.value,"DD/MM/YYYY")),this.datePickerFormattedFromDate(),this.datePickerFormattedToDate()},datePickerFormattedFromDate(){this.startDatePickerValue=this.schedAllocation.DateFrom?M(this.schedAllocation.DateFrom).format("YYYY-MM-DD"):void 0},datePickerFormattedToDate(){this.toDatePickerValue=this.schedAllocation.DateTo?M(this.schedAllocation.DateTo).format("YYYY-MM-DD"):void 0},updateEmpList(e){this.bulkEmpList=e},startDateDatePickerHandler(e){typeof e=="string"&&(e=M(e)),this.schedAllocation.DateFrom=e,this.datePickerFormattedFromDate()},toDateDatePickerHandler(e){typeof e=="string"&&(e=M(e)),this.schedAllocation.DateTo=e,this.datePickerFormattedToDate()},removeEmployee:function(e){this.$refs.SearchEmployeeRef.removeEmployee(e)},clearSelectedEmployee:function(){this.hasChanges?K.checkChange({message:"There are currently Schedule Allocation changes <br /> Do you want to discard your changes?",onOk:()=>{this.$refs.SearchEmployeeRef.clearSelectedEmployeeList(),this.resetSchedAllocation()}}):this.$refs.SearchEmployeeRef.clearSelectedEmployeeList()},allocateEmployees:function(){var e="";if((this.selectedSchedule.Id<1||!this.selectedSchedule.Id)&&(e+="<br />Select a schedule that you want to allocate."),this.schedAllocation.DateFrom&&this.schedAllocation.DateTo&&this.schedAllocation.DateFrom.diff(this.schedAllocation.DateTo)>0&&(e+="<br />Date To cannot be before Date From."),e!=""){K.alert(e);return}var t={WorkschedId:this.selectedSchedule.Id,EmployeeList:[],DateFrom:M(this.schedAllocation.DateFrom)?M(this.schedAllocation.DateFrom).format("DD/MMM/YYYY"):null,DateTo:M(this.schedAllocation.DateTo)?M(this.schedAllocation.DateTo).format("DD/MMM/YYYY"):null,Comment:this.schedAllocation.Comment,EndExistingScheds:this.schedAllocation.EndExistingScheds};this.bulkEmpList.length>0&&this.bulkEmpList.forEach(n=>{t.EmployeeList.push(n.EmployeeNo)}),K.loading(),Pe.AllocateSchedule(t).then(n=>{this.hasChanges=!1,this.resetSchedAllocation(),K.clear(),this.$refs.EmployeeScheduleRef&&this.$refs.EmployeeScheduleRef.getEmpWorkScheds()}).catch(n=>{K.alert(n.message),console.error("err",n)})},closeSchedAllocation:function(){this.hasChanges?K.checkChange({message:"You have unsaved changes. Are you sure to discard the changes?",onOk:()=>{this.resetSchedAllocation(),this.hasChanges=!1,this.$refs.SearchEmployeeRef.clearSelectedEmployeeList()}}):this.$refs.SearchEmployeeRef.clearSelectedEmployeeList()},showScheduleDetail:function(e){this.selectedEmpForDetail=e},resetSelectedEmpForDetail(){this.selectedEmpForDetail=null},resetSchedAllocation:function(){this.hasChanges=!1,this.schedAllocation={WorkschedId:-1,DateFrom:M(),DateTo:null,Comment:"",EndExistingScheds:!0}},checkIsMobileView:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},chooseSchedule(e,t){e.target.blur(),this.selectedSchedule=t,this.selectSearchInput=this.selectedSchedule.Name+" - "+this.selectedSchedule.Description,e.target.blur(),this.$refs.selectRef.blur(),this.$refs.selectInputRef.blur()},updateDateTime(e,t,n){let s=e.target.getClientRects()[0];this.dateModalTop=s.bottom,this.dateModalLeft=s.left,this.datePickerTargetDay=t,this.dateType=n,this.openDatePicker()},async openDatePicker(){let e=await this.$refs.DatePickerRef.toggleShow(this.datePickerTargetDay);this.dateType==="DateTo"?this.schedAllocation.DateTo=e:this.dateType==="DateFrom"&&(this.schedAllocation.DateFrom=e)},submitForm(){}}}),hn=e=>(ft("data-v-6ee44154"),e=e(),pt(),e),qz={class:"outter-h-scroll"},Xz={class:"fix-content-width"},Zz={key:0,class:"dbw-box emp-detail pa-4"},Jz={class:"section"},Qz=hn(()=>m("div",{class:"d-flex justify-space-between"},[m("h3",null,"Selected Employees")],-1)),e8={class:"emp-selection-list mt-4 caption"},t8={class:"list-text"},n8=["onClick"],s8=hn(()=>m("span",{class:"icon-calendar white lh-0"},null,-1)),i8=[s8],o8=["onClick"],r8=hn(()=>m("span",{class:"icon-minus white lh-0"},null,-1)),a8=[r8],l8=["onClick"],c8=hn(()=>m("span",{class:"icon-minus white lh-0"},null,-1)),u8=[c8],d8=["onClick"],h8=hn(()=>m("span",{class:"icon-calendar white lh-0"},null,-1)),f8=[h8],p8={class:"schedules-buttons mt-2 d-flex justify-end"},m8=hn(()=>m("span",{class:"icon-cancel mr-2 vert-mid white lh-0"},null,-1)),g8=hn(()=>m("span",{class:"text-capitalize white"},"Clear",-1)),y8=[m8,g8],v8=hn(()=>m("span",{class:"icon-cancel vert-mid white lh-0"},null,-1)),_8=hn(()=>m("span",{class:"text-capitalize white"},"Clear",-1)),b8=[v8,_8],S8={class:"section mt-4",style:{height:"100%"}},w8=hn(()=>m("h3",{class:"bold-text"},"Allocate Schedule",-1)),D8={class:"mt-4 allocate-sche-form"},k8={class:"custom-select",tabindex:"1",ref:"selectRef"},T8={class:"custom-select-selected"},C8={class:"custom-select-items"},E8=["tabindex","onClick"],x8={class:"cell-config"},M8={key:0,class:"mt-4"},$8=hn(()=>m("div",{class:"bold-text"},"Description",-1)),A8={class:"caption"},O8={class:"bold-text mt-4"},P8={class:"ml-4"},L8={class:"d-flex"},R8={class:"mt-4 date-input-warpper"},N8=hn(()=>m("div",{class:"bold-text"},"Date From",-1)),F8=["value"],I8=hn(()=>m("span",{class:"input-icon icon-calendar xs-icon"},null,-1)),Y8={class:"mt-4 date-input-warpper"},H8=hn(()=>m("div",{class:"bold-text"},"Date To",-1)),W8=["value"],B8=hn(()=>m("span",{class:"input-icon icon-calendar xs-icon"},null,-1)),V8={class:"mt-4"},U8=hn(()=>m("div",{class:"bold-text"},"Notes",-1)),z8={class:"schedules-buttons mt-4 d-flex justify-end"},j8=hn(()=>m("span",{class:"icon-cancel vert-mid lh-0 white--text mr-1"},null,-1)),G8=hn(()=>m("span",{class:"text-capitalize white--text"},"Cancel",-1)),K8=[j8,G8],q8=hn(()=>m("span",{class:"icon-paperplane vert-mid lh-0 white--text mr-1"},null,-1)),X8=hn(()=>m("span",{class:"text-capitalize white--text"},"Allocate",-1)),Z8=[q8,X8];function J8(e,t,n,s,i,o){const r=ye("search-employee"),a=ye("employee-schedule"),c=ye("date-picker"),d=Ci("tooltip");return S(),D("div",qz,[m("div",Xz,[ce(r,{class:"mr-4 mr-xs-0",ref:"SearchEmployeeRef",onUpdateSelectedEmpList:e.updateEmpList},null,8,["onUpdateSelectedEmpList"]),e.bulkEmpList.length>0?(S(),D("div",Zz,[m("div",Jz,[Qz,m("div",e8,[(S(!0),D(de,null,$e(e.bulkEmpList,(h,p)=>(S(),D("div",{class:nt(["d-flex justify-space-between align-center py-1 px-2",{"emp-select-item-odd":p%2}])},[m("div",null,[ge((S(),D("span",t8,[Ot(H(h.EmployeeName)+" ("+H(h.EmployeeNo)+")",1)])),[[d,{content:"Remove from Employee Selection List"},void 0,{right:!0}]])]),m("div",null,[e.isMobileView?X("",!0):ge((S(),D("button",{key:0,class:"blue small icon",style:{"margin-right":"3px"},onClick:g=>e.showScheduleDetail(h)},i8,8,n8)),[[d,{content:"View Schedule Allocations"},void 0,{right:!0}]]),e.isMobileView?X("",!0):ge((S(),D("button",{key:1,class:"orange small icon",onClick:g=>e.removeEmployee(h)},a8,8,o8)),[[d,{content:"Remove from Employee Selection List"},void 0,{right:!0}]]),e.isMobileView?(S(),D("button",{key:2,class:"orange small icon",onClick:g=>e.removeEmployee(h)},u8,8,l8)):X("",!0),e.isMobileView?(S(),D("button",{key:3,class:"blue ml-1 small icon",style:{"margin-right":"3px"},onClick:g=>e.showScheduleDetail(h)},f8,8,d8)):X("",!0)])],2))),256))]),m("div",p8,[e.isMobileView?X("",!0):ge((S(),D("button",{key:0,class:"button grey small",onClick:t[0]||(t[0]=h=>e.clearSelectedEmployee())},y8)),[[d,{content:"Clear Employee Selection List"},void 0,{right:!0}]]),e.isMobileView?(S(),D("button",{key:1,class:"button grey small",onClick:t[1]||(t[1]=h=>e.clearSelectedEmployee())},b8)):X("",!0)])]),m("div",{onSubmit:t[15]||(t[15]=io((...h)=>e.submitForm&&e.submitForm(...h),["prevent"]))},[m("div",S8,[w8,m("div",D8,[m("form",null,[m("div",k8,[m("div",T8,[ge(m("input",{class:"custom-select-input",ref:"selectInputRef","onUpdate:modelValue":t[2]||(t[2]=h=>e.selectSearchInput=h),onKeyup:t[3]||(t[3]=(...h)=>e.updateSearchList&&e.updateSearchList(...h))},null,544),[[xt,e.selectSearchInput]])]),m("div",C8,[(S(!0),D(de,null,$e(e.cloneSchedList,(h,p)=>(S(),D("div",{class:"custom-select-item",ref_for:!0,ref:"selectDropdownRef",key:p,tabindex:p+99,onKeyup:t[4]||(t[4]=X1((...g)=>e.navDownList&&e.navDownList(...g),["down"])),onClick:g=>e.chooseSchedule(g,h)},[m("div",x8,H(h.Name+" - "+h.Description),1)],40,E8))),128))])],512),e.selectedSchedule&&e.selectedSchedule.Name?(S(),D("div",M8,[$8,m("div",A8,H(e.selectedSchedule.Description),1),m("div",O8,[Ot(" No. of Weeks: "),m("span",P8,H(e.selectedSchedule.NoOfWeeks),1)])])):X("",!0),m("div",L8,[m("div",R8,[N8,m("input",{value:e.$filters.reformatDate(e.schedAllocation.DateFrom),class:"d-inline-flex ma-0 pa-0 mr-2 caption date-input-width date-input",onChange:t[5]||(t[5]=h=>e.updateDateText(h,e.schedAllocation.DateFrom,"DateFrom")),onClick:t[6]||(t[6]=h=>e.updateDateTime(h,e.schedAllocation.DateFrom,"DateFrom")),"onClick:clear":t[7]||(t[7]=h=>e.fromDate=!1)},null,40,F8),I8]),m("div",Y8,[H8,m("input",{value:e.$filters.reformatDate(e.schedAllocation.DateTo),class:"d-inline-flex ma-0 pa-0 caption date-input-width date-input",onChange:t[8]||(t[8]=h=>e.updateDateText(h,e.schedAllocation.DateTo,"DateTo")),onClick:t[9]||(t[9]=h=>e.updateDateTime(h,e.schedAllocation.DateTo,"DateTo")),"onClick:clear":t[10]||(t[10]=h=>e.toDateMenu=!1)},null,40,W8),B8])]),m("div",V8,[U8,ge(m("textarea",{rows:"3",class:"caption",onKeyup:t[11]||(t[11]=h=>e.hasChanges=!0),"onUpdate:modelValue":t[12]||(t[12]=h=>e.schedAllocation.Comment=h)},`\r
                                    `,544),[[xt,e.schedAllocation.Comment]])]),m("div",z8,[m("button",{class:"grey vert-mid small",onClick:t[13]||(t[13]=h=>e.closeSchedAllocation())},K8),m("button",{class:"green ml-4 small",onClick:t[14]||(t[14]=h=>e.allocateEmployees())},Z8)])])])])],32)])):X("",!0),e.selectedEmpForDetail?(S(),qt(a,{key:1,ref:"EmployeeScheduleRef",employee:e.selectedEmpForDetail,onClose:e.resetSelectedEmpForDetail},null,8,["employee","onClose"])):X("",!0),ce(c,{ref:"DatePickerRef",top:e.dateModalTop,left:e.dateModalLeft},null,8,["top","left"])])])}const Q8=Ne(Kz,[["render",J8],["__scopeId","data-v-6ee44154"]]),ej=Ve({name:"TimePicker",setup(){const e=V([]),t=V([]),n=V(null);for(let s=0;s<12;s++)e.value.push(s);for(let s=0;s<=55;s=s+5)t.value.push(s);return Ti(()=>{let s=n.value,i=s.getContext("2d"),o=s.height/2;i.translate(o,o),o=o*.9,r();function r(){i.arc(0,0,o,0,2*Math.PI),i.fillStyle="lightGrey",i.fill(),a(i),c(i,o),d(i,o)}function a(p,g){p.beginPath(),p.arc(0,0,5,0,2*Math.PI),p.fillStyle="#333",p.fill()}function c(p,g){let y;p.font="18px arial",p.textBaseline="middle",p.textAlign="center";for(let _=1;_<13;_++)y=_*Math.PI/6,p.rotate(y),p.translate(0,-g*.85),p.rotate(-y),p.fillText(_.toString(),0,0),p.rotate(y),p.translate(0,g*.85),p.rotate(-y)}function d(p,g){var y=5,_=15;y=y%12,y=y*Math.PI/6,h(p,y,g*.5,5),_=_*Math.PI/30,h(p,_,g*.7,3)}function h(p,g,y,_){p.beginPath(),p.lineWidth=_,p.lineCap="round",p.moveTo(0,0),p.rotate(g),p.lineTo(0,-y),p.stroke(),p.rotate(-g)}}),{clockHours:e,clockMinutes:t,clockRef:n}}}),tj=m("div",{class:"heading"},null,-1),nj={class:"content"},sj={class:"clock-frame"},ij={ref:"clockRef",width:"200",height:"200",style:{"background-color":"white"}},oj=m("div",{class:"controls"},null,-1);function rj(e,t,n,s,i,o){return S(),D("div",null,[tj,m("div",nj,[m("div",sj,[m("canvas",ij,null,512)]),oj])])}const oy=Ne(ej,[["render",rj]]);/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Bi(){}const aj=function(){let e=0;return function(){return e++}}();function bt(e){return e===null||typeof e>"u"}function Wt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ut(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const cn=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function As(e,t){return cn(e)?e:t}function tt(e,t){return typeof e>"u"?t:e}const lj=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,Lk=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Yt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function At(e,t,n,s){let i,o,r;if(Wt(e))for(o=e.length,i=0;i<o;i++)t.call(n,e[i],i);else if(ut(e))for(r=Object.keys(e),o=r.length,i=0;i<o;i++)t.call(n,e[r[i]],r[i])}function Nd(e,t){let n,s,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Fd(e){if(Wt(e))return e.map(Fd);if(ut(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=Fd(e[n[i]]);return t}return e}function Rk(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function cj(e,t,n,s){if(!Rk(e))return;const i=t[e],o=n[e];ut(i)&&ut(o)?yc(i,o,s):t[e]=Fd(o)}function yc(e,t,n){const s=Wt(t)?t:[t],i=s.length;if(!ut(e))return e;n=n||{};const o=n.merger||cj;for(let r=0;r<i;++r){if(t=s[r],!ut(t))continue;const a=Object.keys(t);for(let c=0,d=a.length;c<d;++c)o(a[c],e,t,n)}return e}function jl(e,t){return yc(e,t,{merger:uj})}function uj(e,t,n){if(!Rk(e))return;const s=t[e],i=n[e];ut(s)&&ut(i)?jl(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Fd(i))}const K0={"":e=>e,x:e=>e.x,y:e=>e.y};function Jo(e,t){return(K0[t]||(K0[t]=dj(t)))(e)}function dj(e){const t=hj(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function hj(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function ry(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Fs=e=>typeof e<"u",Qo=e=>typeof e=="function",q0=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function fj(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Xt=Math.PI,Lt=2*Xt,pj=Lt+Xt,Id=Number.POSITIVE_INFINITY,mj=Xt/180,sn=Xt/2,Tl=Xt/4,X0=Xt*2/3,Ps=Math.log10,_i=Math.sign;function Z0(e){const t=Math.round(e);e=Gl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ps(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function gj(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,o)=>i-o).pop(),t}function Ba(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Gl(e,t,n){return Math.abs(e-t)<n}function yj(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Nk(e,t,n){let s,i,o;for(s=0,i=e.length;s<i;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Xs(e){return e*(Xt/180)}function ay(e){return e*(180/Xt)}function J0(e){if(!cn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Fk(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*Xt&&(o+=Lt),{angle:o,distance:i}}function Um(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function vj(e,t){return(e-t+pj)%Lt-Xt}function gs(e){return(e%Lt+Lt)%Lt}function vc(e,t,n,s){const i=gs(e),o=gs(t),r=gs(n),a=gs(o-i),c=gs(r-i),d=gs(i-o),h=gs(i-r);return i===o||i===r||s&&o===r||a>c&&d<h}function Dn(e,t,n){return Math.max(t,Math.min(n,e))}function _j(e){return Dn(e,-32768,32767)}function Qi(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function ly(e,t,n){n=n||(r=>e[r]<t);let s=e.length-1,i=0,o;for(;s-i>1;)o=i+s>>1,n(o)?i=o:s=o;return{lo:i,hi:s}}const eo=(e,t,n,s)=>ly(e,n,s?i=>e[i][t]<=n:i=>e[i][t]<n),bj=(e,t,n)=>ly(e,n,s=>e[s][t]>=n);function Sj(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const Ik=["push","pop","shift","splice","unshift"];function wj(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ik.forEach(n=>{const s="_onData"+ry(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...o)}),r}})})}function Q0(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(Ik.forEach(o=>{delete e[o]}),delete e._chartjs)}function Yk(e){const t=new Set;let n,s;for(n=0,s=e.length;n<s;++n)t.add(e[n]);return t.size===s?e:Array.from(t)}const Hk=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Wk(e,t,n){const s=n||(r=>Array.prototype.slice.call(r));let i=!1,o=[];return function(...r){o=s(r),i||(i=!0,Hk.call(window,()=>{i=!1,e.apply(t,o)}))}}function Dj(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const cy=e=>e==="start"?"left":e==="end"?"right":"center",Rn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,kj=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function Bk(e,t,n){const s=t.length;let i=0,o=s;if(e._sorted){const{iScale:r,_parsed:a}=e,c=r.axis,{min:d,max:h,minDefined:p,maxDefined:g}=r.getUserBounds();p&&(i=Dn(Math.min(eo(a,r.axis,d).lo,n?s:eo(t,c,r.getPixelForValue(d)).lo),0,s-1)),g?o=Dn(Math.max(eo(a,r.axis,h,!0).hi+1,n?0:eo(t,c,r.getPixelForValue(h),!0).hi+1),i,s)-i:o=s-i}return{start:i,count:o}}function Vk(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),o}const zu=e=>e===0||e===1,eS=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Lt/n)),tS=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Lt/n)+1,Kl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*sn)+1,easeOutSine:e=>Math.sin(e*sn),easeInOutSine:e=>-.5*(Math.cos(Xt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>zu(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>zu(e)?e:eS(e,.075,.3),easeOutElastic:e=>zu(e)?e:tS(e,.075,.3),easeInOutElastic(e){return zu(e)?e:e<.5?.5*eS(e*2,.1125,.45):.5+.5*tS(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Kl.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Kl.easeInBounce(e*2)*.5:Kl.easeOutBounce(e*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Fc(e){return e+.5|0}const Yo=(e,t,n)=>Math.max(Math.min(e,n),t);function Pl(e){return Yo(Fc(e*2.55),0,255)}function jo(e){return Yo(Fc(e*255),0,255)}function qi(e){return Yo(Fc(e/2.55)/100,0,1)}function nS(e){return Yo(Fc(e*100),0,100)}const $s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zm=[..."0123456789ABCDEF"],Tj=e=>zm[e&15],Cj=e=>zm[(e&240)>>4]+zm[e&15],ju=e=>(e&240)>>4===(e&15),Ej=e=>ju(e.r)&&ju(e.g)&&ju(e.b)&&ju(e.a);function xj(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&$s[e[1]]*17,g:255&$s[e[2]]*17,b:255&$s[e[3]]*17,a:t===5?$s[e[4]]*17:255}:(t===7||t===9)&&(n={r:$s[e[1]]<<4|$s[e[2]],g:$s[e[3]]<<4|$s[e[4]],b:$s[e[5]]<<4|$s[e[6]],a:t===9?$s[e[7]]<<4|$s[e[8]]:255})),n}const Mj=(e,t)=>e<255?t(e):"";function $j(e){var t=Ej(e)?Tj:Cj;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Mj(e.a,t):void 0}const Aj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uk(e,t,n){const s=t*Math.min(n,1-n),i=(o,r=(o+e/30)%12)=>n-s*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function Oj(e,t,n){const s=(i,o=(i+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function Pj(e,t,n){const s=Uk(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function Lj(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function uy(e){const n=e.r/255,s=e.g/255,i=e.b/255,o=Math.max(n,s,i),r=Math.min(n,s,i),a=(o+r)/2;let c,d,h;return o!==r&&(h=o-r,d=a>.5?h/(2-o-r):h/(o+r),c=Lj(n,s,i,h,o),c=c*60+.5),[c|0,d||0,a]}function dy(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(jo)}function hy(e,t,n){return dy(Uk,e,t,n)}function Rj(e,t,n){return dy(Pj,e,t,n)}function Nj(e,t,n){return dy(Oj,e,t,n)}function zk(e){return(e%360+360)%360}function Fj(e){const t=Aj.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Pl(+t[5]):jo(+t[5]));const i=zk(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?s=Rj(i,o,r):t[1]==="hsv"?s=Nj(i,o,r):s=hy(i,o,r),{r:s[0],g:s[1],b:s[2],a:n}}function Ij(e,t){var n=uy(e);n[0]=zk(n[0]+t),n=hy(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Yj(e){if(!e)return;const t=uy(e),n=t[0],s=nS(t[1]),i=nS(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${qi(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const sS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Hj(){const e={},t=Object.keys(iS),n=Object.keys(sS);let s,i,o,r,a;for(s=0;s<t.length;s++){for(r=a=t[s],i=0;i<n.length;i++)o=n[i],a=a.replace(o,sS[o]);o=parseInt(iS[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let Gu;function Wj(e){Gu||(Gu=Hj(),Gu.transparent=[0,0,0,0]);const t=Gu[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Bj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Vj(e){const t=Bj.exec(e);let n=255,s,i,o;if(t){if(t[7]!==s){const r=+t[7];n=t[8]?Pl(r):Yo(r*255,0,255)}return s=+t[1],i=+t[3],o=+t[5],s=255&(t[2]?Pl(s):Yo(s,0,255)),i=255&(t[4]?Pl(i):Yo(i,0,255)),o=255&(t[6]?Pl(o):Yo(o,0,255)),{r:s,g:i,b:o,a:n}}}function Uj(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Kp=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,va=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function zj(e,t,n){const s=va(qi(e.r)),i=va(qi(e.g)),o=va(qi(e.b));return{r:jo(Kp(s+n*(va(qi(t.r))-s))),g:jo(Kp(i+n*(va(qi(t.g))-i))),b:jo(Kp(o+n*(va(qi(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Ku(e,t,n){if(e){let s=uy(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=hy(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function jk(e,t){return e&&Object.assign(t||{},e)}function oS(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=jo(e[3]))):(t=jk(e,{r:0,g:0,b:0,a:1}),t.a=jo(t.a)),t}function jj(e){return e.charAt(0)==="r"?Vj(e):Fj(e)}class Yd{constructor(t){if(t instanceof Yd)return t;const n=typeof t;let s;n==="object"?s=oS(t):n==="string"&&(s=xj(t)||Wj(t)||jj(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=jk(this._rgb);return t&&(t.a=qi(t.a)),t}set rgb(t){this._rgb=oS(t)}rgbString(){return this._valid?Uj(this._rgb):void 0}hexString(){return this._valid?$j(this._rgb):void 0}hslString(){return this._valid?Yj(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let o;const r=n===o?.5:n,a=2*r-1,c=s.a-i.a,d=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-d,s.r=255&d*s.r+o*i.r+.5,s.g=255&d*s.g+o*i.g+.5,s.b=255&d*s.b+o*i.b+.5,s.a=r*s.a+(1-r)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=zj(this._rgb,t._rgb,n)),this}clone(){return new Yd(this.rgb)}alpha(t){return this._rgb.a=jo(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Fc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ku(this._rgb,2,t),this}darken(t){return Ku(this._rgb,2,-t),this}saturate(t){return Ku(this._rgb,1,t),this}desaturate(t){return Ku(this._rgb,1,-t),this}rotate(t){return Ij(this._rgb,t),this}}function Gk(e){return new Yd(e)}function Kk(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function rS(e){return Kk(e)?e:Gk(e)}function qp(e){return Kk(e)?e:Gk(e).saturate(.5).darken(.1).hexString()}const Hr=Object.create(null),jm=Object.create(null);function ql(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function Xp(e,t,n){return typeof t=="string"?yc(ql(e,t),n):yc(ql(e,""),t)}class Gj{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>qp(s.backgroundColor),this.hoverBorderColor=(n,s)=>qp(s.borderColor),this.hoverColor=(n,s)=>qp(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,n){return Xp(this,t,n)}get(t){return ql(this,t)}describe(t,n){return Xp(jm,t,n)}override(t,n){return Xp(Hr,t,n)}route(t,n,s,i){const o=ql(this,t),r=ql(this,s),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],d=r[i];return ut(c)?Object.assign({},d,c):tt(c,d)},set(c){this[a]=c}}})}}var ht=new Gj({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Kj(e){return!e||bt(e.size)||bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Hd(e,t,n,s,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>s&&(s=o),s}function qj(e,t,n,s){s=s||{};let i=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},o=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let r=0;const a=n.length;let c,d,h,p,g;for(c=0;c<a;c++)if(p=n[c],p!=null&&Wt(p)!==!0)r=Hd(e,i,o,r,p);else if(Wt(p))for(d=0,h=p.length;d<h;d++)g=p[d],g!=null&&!Wt(g)&&(r=Hd(e,i,o,r,g));e.restore();const y=o.length/2;if(y>n.length){for(c=0;c<y;c++)delete i[o[c]];o.splice(0,y)}return r}function Sr(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function aS(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Gm(e,t,n,s){qk(e,t,n,s,null)}function qk(e,t,n,s,i){let o,r,a,c,d,h;const p=t.pointStyle,g=t.rotation,y=t.radius;let _=(g||0)*mj;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(_),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),p){default:i?e.ellipse(n,s,i/2,y,0,0,Lt):e.arc(n,s,y,0,Lt),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(_)*y,s-Math.cos(_)*y),_+=X0,e.lineTo(n+Math.sin(_)*y,s-Math.cos(_)*y),_+=X0,e.lineTo(n+Math.sin(_)*y,s-Math.cos(_)*y),e.closePath();break;case"rectRounded":d=y*.516,c=y-d,r=Math.cos(_+Tl)*c,a=Math.sin(_+Tl)*c,e.arc(n-r,s-a,d,_-Xt,_-sn),e.arc(n+a,s-r,d,_-sn,_),e.arc(n+r,s+a,d,_,_+sn),e.arc(n-a,s+r,d,_+sn,_+Xt),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*y,h=i?i/2:c,e.rect(n-h,s-c,2*h,2*c);break}_+=Tl;case"rectRot":r=Math.cos(_)*y,a=Math.sin(_)*y,e.moveTo(n-r,s-a),e.lineTo(n+a,s-r),e.lineTo(n+r,s+a),e.lineTo(n-a,s+r),e.closePath();break;case"crossRot":_+=Tl;case"cross":r=Math.cos(_)*y,a=Math.sin(_)*y,e.moveTo(n-r,s-a),e.lineTo(n+r,s+a),e.moveTo(n+a,s-r),e.lineTo(n-a,s+r);break;case"star":r=Math.cos(_)*y,a=Math.sin(_)*y,e.moveTo(n-r,s-a),e.lineTo(n+r,s+a),e.moveTo(n+a,s-r),e.lineTo(n-a,s+r),_+=Tl,r=Math.cos(_)*y,a=Math.sin(_)*y,e.moveTo(n-r,s-a),e.lineTo(n+r,s+a),e.moveTo(n+a,s-r),e.lineTo(n-a,s+r);break;case"line":r=i?i/2:Math.cos(_)*y,a=Math.sin(_)*y,e.moveTo(n-r,s-a),e.lineTo(n+r,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(_)*y,s+Math.sin(_)*y);break}e.fill(),t.borderWidth>0&&e.stroke()}}function _c(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Lh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Rh(e){e.restore()}function Xj(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Zj(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Wr(e,t,n,s,i,o={}){const r=Wt(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,Jj(e,o),c=0;c<r.length;++c)d=r[c],a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),bt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(d,n,s,o.maxWidth)),e.fillText(d,n,s,o.maxWidth),Qj(e,n,s,d,o),s+=i.lineHeight;e.restore()}function Jj(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Qj(e,t,n,s,i){if(i.strikethrough||i.underline){const o=e.measureText(s),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,d=n+o.actualBoundingBoxDescent,h=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,h),e.lineTo(a,h),e.stroke()}}function bc(e,t){const{x:n,y:s,w:i,h:o,radius:r}=t;e.arc(n+r.topLeft,s+r.topLeft,r.topLeft,-sn,Xt,!0),e.lineTo(n,s+o-r.bottomLeft),e.arc(n+r.bottomLeft,s+o-r.bottomLeft,r.bottomLeft,Xt,sn,!0),e.lineTo(n+i-r.bottomRight,s+o),e.arc(n+i-r.bottomRight,s+o-r.bottomRight,r.bottomRight,sn,0,!0),e.lineTo(n+i,s+r.topRight),e.arc(n+i-r.topRight,s+r.topRight,r.topRight,0,-sn,!0),e.lineTo(n+r.topLeft,s)}const e9=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),t9=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function n9(e,t){const n=(""+e).match(e9);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const s9=e=>+e||0;function fy(e,t){const n={},s=ut(t),i=s?Object.keys(t):t,o=ut(e)?s?r=>tt(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of i)n[r]=s9(o(r));return n}function Xk(e){return fy(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Rr(e){return fy(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Hn(e){const t=Xk(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vn(e,t){e=e||{},t=t||ht.font;let n=tt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=tt(e.style,t.style);s&&!(""+s).match(t9)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const i={family:tt(e.family,t.family),lineHeight:n9(tt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:tt(e.weight,t.weight),string:""};return i.string=Kj(i),i}function Ll(e,t,n,s){let i,o,r;for(i=0,o=e.length;i<o;++i)if(r=e[i],r!==void 0&&r!==void 0)return r}function i9(e,t,n){const{min:s,max:i}=e,o=Lk(t,(i-s)/2),r=(a,c)=>n&&a===0?0:a+c;return{min:r(s,-Math.abs(o)),max:r(i,o)}}function or(e,t){return Object.assign(Object.create(e),t)}function py(e,t=[""],n=e,s,i=()=>e[0]){Fs(s)||(s=eT("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:s,_getTarget:i,override:r=>py([r,...e],t,n,s)};return new Proxy(o,{deleteProperty(r,a){return delete r[a],delete r._keys,delete e[0][a],!0},get(r,a){return Jk(r,a,()=>h9(a,t,e,r))},getOwnPropertyDescriptor(r,a){return Reflect.getOwnPropertyDescriptor(r._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(r,a){return cS(r).includes(a)},ownKeys(r){return cS(r)},set(r,a,c){const d=r._storage||(r._storage=i());return r[a]=d[a]=c,delete r._keys,!0}})}function Va(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Zk(e,s),setContext:o=>Va(e,o,n,s),override:o=>Va(e.override(o),t,n,s)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return Jk(o,r,()=>r9(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function Zk(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Qo(n)?n:()=>n,isIndexable:Qo(s)?s:()=>s}}const o9=(e,t)=>e?e+ry(t):t,my=(e,t)=>ut(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Jk(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const s=n();return e[t]=s,s}function r9(e,t,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:r}=e;let a=s[t];return Qo(a)&&r.isScriptable(t)&&(a=a9(t,a,e,n)),Wt(a)&&a.length&&(a=l9(t,a,e,r.isIndexable)),my(t,a)&&(a=Va(a,i,o&&o[t],r)),a}function a9(e,t,n,s){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(o,r||s),a.delete(e),my(e,t)&&(t=gy(i._scopes,i,e,t)),t}function l9(e,t,n,s){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=n;if(Fs(o.index)&&s(e))t=t[o.index%t.length];else if(ut(t[0])){const c=t,d=i._scopes.filter(h=>h!==c);t=[];for(const h of c){const p=gy(d,i,e,h);t.push(Va(p,o,r&&r[e],a))}}return t}function Qk(e,t,n){return Qo(e)?e(t,n):e}const c9=(e,t)=>e===!0?t:typeof e=="string"?Jo(t,e):void 0;function u9(e,t,n,s,i){for(const o of t){const r=c9(n,o);if(r){e.add(r);const a=Qk(r._fallback,n,i);if(Fs(a)&&a!==n&&a!==s)return a}else if(r===!1&&Fs(s)&&n!==s)return null}return!1}function gy(e,t,n,s){const i=t._rootScopes,o=Qk(t._fallback,n,s),r=[...e,...i],a=new Set;a.add(s);let c=lS(a,r,n,o||n,s);return c===null||Fs(o)&&o!==n&&(c=lS(a,r,o,c,s),c===null)?!1:py(Array.from(a),[""],i,o,()=>d9(t,n,s))}function lS(e,t,n,s,i){for(;n;)n=u9(e,t,n,s,i);return n}function d9(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return Wt(i)&&ut(n)?n:i}function h9(e,t,n,s){let i;for(const o of t)if(i=eT(o9(o,e),n),Fs(i))return my(e,i)?gy(n,s,e,i):i}function eT(e,t){for(const n of t){if(!n)continue;const s=n[e];if(Fs(s))return s}}function cS(e){let t=e._keys;return t||(t=e._keys=f9(e._scopes)),t}function f9(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function tT(e,t,n,s){const{iScale:i}=e,{key:o="r"}=this._parsing,r=new Array(s);let a,c,d,h;for(a=0,c=s;a<c;++a)d=a+n,h=t[d],r[a]={r:i.parse(Jo(h,o),d)};return r}const p9=Number.EPSILON||1e-14,Ua=(e,t)=>t<e.length&&!e[t].skip&&e[t],nT=e=>e==="x"?"y":"x";function m9(e,t,n,s){const i=e.skip?t:e,o=t,r=n.skip?t:n,a=Um(o,i),c=Um(r,o);let d=a/(a+c),h=c/(a+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const p=s*d,g=s*h;return{previous:{x:o.x-p*(r.x-i.x),y:o.y-p*(r.y-i.y)},next:{x:o.x+g*(r.x-i.x),y:o.y+g*(r.y-i.y)}}}function g9(e,t,n){const s=e.length;let i,o,r,a,c,d=Ua(e,0);for(let h=0;h<s-1;++h)if(c=d,d=Ua(e,h+1),!(!c||!d)){if(Gl(t[h],0,p9)){n[h]=n[h+1]=0;continue}i=n[h]/t[h],o=n[h+1]/t[h],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),n[h]=i*r*t[h],n[h+1]=o*r*t[h])}}function y9(e,t,n="x"){const s=nT(n),i=e.length;let o,r,a,c=Ua(e,0);for(let d=0;d<i;++d){if(r=a,a=c,c=Ua(e,d+1),!a)continue;const h=a[n],p=a[s];r&&(o=(h-r[n])/3,a[`cp1${n}`]=h-o,a[`cp1${s}`]=p-o*t[d]),c&&(o=(c[n]-h)/3,a[`cp2${n}`]=h+o,a[`cp2${s}`]=p+o*t[d])}}function v9(e,t="x"){const n=nT(t),s=e.length,i=Array(s).fill(0),o=Array(s);let r,a,c,d=Ua(e,0);for(r=0;r<s;++r)if(a=c,c=d,d=Ua(e,r+1),!!c){if(d){const h=d[t]-c[t];i[r]=h!==0?(d[n]-c[n])/h:0}o[r]=a?d?_i(i[r-1])!==_i(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}g9(e,i,o),y9(e,o,t)}function qu(e,t,n){return Math.max(Math.min(e,n),t)}function _9(e,t){let n,s,i,o,r,a=_c(e[0],t);for(n=0,s=e.length;n<s;++n)r=o,o=a,a=n<s-1&&_c(e[n+1],t),o&&(i=e[n],r&&(i.cp1x=qu(i.cp1x,t.left,t.right),i.cp1y=qu(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=qu(i.cp2x,t.left,t.right),i.cp2y=qu(i.cp2y,t.top,t.bottom)))}function b9(e,t,n,s,i){let o,r,a,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")v9(e,i);else{let d=s?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],c=m9(d,a,e[Math.min(o+1,r-(s?0:1))%r],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,d=a}t.capBezierPoints&&_9(e,n)}function sT(){return typeof window<"u"&&typeof document<"u"}function yy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Wd(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Nh=e=>window.getComputedStyle(e,null);function S9(e,t){return Nh(e).getPropertyValue(t)}const w9=["top","right","bottom","left"];function Nr(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=w9[i];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const D9=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function k9(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=s;let r=!1,a,c;if(D9(i,o,e.target))a=i,c=o;else{const d=t.getBoundingClientRect();a=s.clientX-d.left,c=s.clientY-d.top,r=!0}return{x:a,y:c,box:r}}function kr(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=Nh(n),o=i.boxSizing==="border-box",r=Nr(i,"padding"),a=Nr(i,"border","width"),{x:c,y:d,box:h}=k9(e,n),p=r.left+(h&&a.left),g=r.top+(h&&a.top);let{width:y,height:_}=t;return o&&(y-=r.width+a.width,_-=r.height+a.height),{x:Math.round((c-p)/y*n.width/s),y:Math.round((d-g)/_*n.height/s)}}function T9(e,t,n){let s,i;if(t===void 0||n===void 0){const o=yy(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const r=o.getBoundingClientRect(),a=Nh(o),c=Nr(a,"border","width"),d=Nr(a,"padding");t=r.width-d.width-c.width,n=r.height-d.height-c.height,s=Wd(a.maxWidth,o,"clientWidth"),i=Wd(a.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Id,maxHeight:i||Id}}const Zp=e=>Math.round(e*10)/10;function C9(e,t,n,s){const i=Nh(e),o=Nr(i,"margin"),r=Wd(i.maxWidth,e,"clientWidth")||Id,a=Wd(i.maxHeight,e,"clientHeight")||Id,c=T9(e,t,n);let{width:d,height:h}=c;if(i.boxSizing==="content-box"){const p=Nr(i,"border","width"),g=Nr(i,"padding");d-=g.width+p.width,h-=g.height+p.height}return d=Math.max(0,d-o.width),h=Math.max(0,s?Math.floor(d/s):h-o.height),d=Zp(Math.min(d,r,c.maxWidth)),h=Zp(Math.min(h,a,c.maxHeight)),d&&!h&&(h=Zp(d/2)),{width:d,height:h}}function uS(e,t,n){const s=t||1,i=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=i/s,e.width=o/s;const r=e.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||r.height!==i||r.width!==o?(e.currentDevicePixelRatio=s,r.height=i,r.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const E9=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function dS(e,t){const n=S9(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Tr(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function x9(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function M9(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=Tr(e,i,n),a=Tr(i,o,n),c=Tr(o,t,n),d=Tr(r,a,n),h=Tr(a,c,n);return Tr(d,h,n)}const hS=new Map;function $9(e,t){t=t||{};const n=e+JSON.stringify(t);let s=hS.get(n);return s||(s=new Intl.NumberFormat(e,t),hS.set(n,s)),s}function Ic(e,t,n){return $9(t,n).format(e)}const A9=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},O9=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function La(e,t,n){return e?A9(t,n):O9()}function iT(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function oT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function rT(e){return e==="angle"?{between:vc,compare:vj,normalize:gs}:{between:Qi,compare:(t,n)=>t-n,normalize:t=>t}}function fS({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function P9(e,t,n){const{property:s,start:i,end:o}=n,{between:r,normalize:a}=rT(s),c=t.length;let{start:d,end:h,loop:p}=e,g,y;if(p){for(d+=c,h+=c,g=0,y=c;g<y&&r(a(t[d%c][s]),i,o);++g)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:p,style:e.style}}function aT(e,t,n){if(!n)return[e];const{property:s,start:i,end:o}=n,r=t.length,{compare:a,between:c,normalize:d}=rT(s),{start:h,end:p,loop:g,style:y}=P9(e,t,n),_=[];let T=!1,w=null,k,x,$;const L=()=>c(i,$,k)&&a(i,$)!==0,F=()=>a(o,k)===0||c(o,$,k),R=()=>T||L(),W=()=>!T||F();for(let z=h,Y=h;z<=p;++z)x=t[z%r],!x.skip&&(k=d(x[s]),k!==$&&(T=c(k,i,o),w===null&&R()&&(w=a(k,i)===0?z:Y),w!==null&&W()&&(_.push(fS({start:w,end:z,loop:g,count:r,style:y})),w=null),Y=z,$=k));return w!==null&&_.push(fS({start:w,end:p,loop:g,count:r,style:y})),_}function lT(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const o=aT(s[i],e.points,t);o.length&&n.push(...o)}return n}function L9(e,t,n,s){let i=0,o=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function R9(e,t,n,s){const i=e.length,o=[];let r=t,a=e[t],c;for(c=t+1;c<=n;++c){const d=e[c%i];d.skip||d.stop?a.skip||(s=!1,o.push({start:t%i,end:(c-1)%i,loop:s}),t=r=d.stop?c:null):(r=c,a.skip&&(t=c)),a=d}return r!==null&&o.push({start:t%i,end:r%i,loop:s}),o}function N9(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:r,end:a}=L9(n,i,o,s);if(s===!0)return pS(e,[{start:r,end:a,loop:o}],n,t);const c=a<r?a+i:a,d=!!e._fullLoop&&r===0&&a===i-1;return pS(e,R9(n,r,c,d),n,t)}function pS(e,t,n,s){return!s||!s.setContext||!n?t:F9(e,t,n,s)}function F9(e,t,n,s){const i=e._chart.getContext(),o=mS(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,c=n.length,d=[];let h=o,p=t[0].start,g=p;function y(_,T,w,k){const x=a?-1:1;if(_!==T){for(_+=c;n[_%c].skip;)_-=x;for(;n[T%c].skip;)T+=x;_%c!==T%c&&(d.push({start:_%c,end:T%c,loop:w,style:k}),h=k,p=T%c)}}for(const _ of t){p=a?p:_.start;let T=n[p%c],w;for(g=p+1;g<=_.end;g++){const k=n[g%c];w=mS(s.setContext(or(i,{type:"segment",p0:T,p1:k,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:r}))),I9(w,h)&&y(p,g-1,_.loop,h),T=k,h=w}p<g-1&&y(p,g-1,_.loop,h)}return d}function mS(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function I9(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Y9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const o=n.listeners[i],r=n.duration;o.forEach(a=>a({chart:t,initial:n.initial,numSteps:r,currentStep:Math.min(s-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Hk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const o=s.items;let r=o.length-1,a=!1,c;for(;r>=0;--r)c=o[r],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),o.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var zi=new Y9;const gS="transparent",H9={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=rS(e||gS),i=s.valid&&rS(t||gS);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class W9{constructor(t,n,s,i){const o=n[s];i=Ll([t.to,i,o,t.from]);const r=Ll([t.from,o,i]);this._active=!0,this._fn=t.fn||H9[t.type||typeof r],this._easing=Kl[t.easing]||Kl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],o=s-this._start,r=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ll([t.to,n,i,t.from]),this._from=Ll([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let c;if(this._active=o!==a&&(r||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}c=n/s%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}const B9=["x","y","borderWidth","radius","tension"],V9=["color","borderColor","backgroundColor"];ht.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const U9=Object.keys(ht.animation);ht.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});ht.set("animations",{colors:{type:"color",properties:V9},numbers:{type:"number",properties:B9}});ht.describe("animations",{_fallback:"animation"});ht.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class cT{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ut(t))return;const n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!ut(i))return;const o={};for(const r of U9)o[r]=i[r];(Wt(i.properties)&&i.properties||[s]).forEach(r=>{(r===s||!n.has(r))&&n.set(r,o)})})}_animateOptions(t,n){const s=n.options,i=j9(t,s);if(!i)return[];const o=this._createAnimations(i,s);return s.$shared&&z9(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(n),a=Date.now();let c;for(c=r.length-1;c>=0;--c){const d=r[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,n));continue}const h=n[d];let p=o[d];const g=s.get(d);if(p)if(g&&p.active()){p.update(g,h,a);continue}else p.cancel();if(!g||!g.duration){t[d]=h;continue}o[d]=p=new W9(g,t,d,h),i.push(p)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return zi.add(this._chart,s),!0}}function z9(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const o=e[s[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function j9(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function yS(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:i,end:s?i:o}}function G9(e,t,n){if(n===!1)return!1;const s=yS(e,n),i=yS(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function K9(e){let t,n,s,i;return ut(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function uT(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=s.length;i<o;++i)n.push(s[i].index);return n}function vS(e,t,n,s={}){const i=e.keys,o=s.mode==="single";let r,a,c,d;if(t!==null){for(r=0,a=i.length;r<a;++r){if(c=+i[r],c===n){if(s.all)continue;break}d=e.values[c],cn(d)&&(o||t===0||_i(t)===_i(d))&&(t+=d)}return t}}function q9(e){const t=Object.keys(e),n=new Array(t.length);let s,i,o;for(s=0,i=t.length;s<i;++s)o=t[s],n[s]={x:o,y:e[o]};return n}function _S(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function X9(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Z9(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function J9(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function bS(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const o=e[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function SS(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:r,index:a}=s,c=o.axis,d=r.axis,h=X9(o,r,s),p=t.length;let g;for(let y=0;y<p;++y){const _=t[y],{[c]:T,[d]:w}=_,k=_._stacks||(_._stacks={});g=k[d]=J9(i,h,T),g[a]=w,g._top=bS(g,r,!0,s.type),g._bottom=bS(g,r,!1,s.type)}}function Jp(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function Q9(e,t){return or(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function e7(e,t,n){return or(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Cl(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n]}}}const Qp=e=>e==="reset"||e==="none",wS=(e,t)=>t?e:Object.assign({},e),t7=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:uT(n,!0),values:null};class oi{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=_S(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Cl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(p,g,y,_)=>p==="x"?g:p==="r"?_:y,o=n.xAxisID=tt(s.xAxisID,Jp(t,"x")),r=n.yAxisID=tt(s.yAxisID,Jp(t,"y")),a=n.rAxisID=tt(s.rAxisID,Jp(t,"r")),c=n.indexAxis,d=n.iAxisID=i(c,o,r,a),h=n.vAxisID=i(c,r,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Q0(this._data,this),t._stacked&&Cl(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(ut(n))this._data=q9(n);else if(s!==n){if(s){Q0(s,this);const i=this._cachedMeta;Cl(i),i._parsed=[]}n&&Object.isExtensible(n)&&wj(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=_S(n.vScale,n),n.stack!==s.stack&&(i=!0,Cl(n),n.stack=s.stack),this._resyncElements(t),(i||o!==n._stacked)&&SS(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:o,_stacked:r}=s,a=o.axis;let c=t===0&&n===i.length?!0:s._sorted,d=t>0&&s._parsed[t-1],h,p,g;if(this._parsing===!1)s._parsed=i,s._sorted=!0,g=i;else{Wt(i[t])?g=this.parseArrayData(s,i,t,n):ut(i[t])?g=this.parseObjectData(s,i,t,n):g=this.parsePrimitiveData(s,i,t,n);const y=()=>p[a]===null||d&&p[a]<d[a];for(h=0;h<n;++h)s._parsed[h+t]=p=g[h],c&&(y()&&(c=!1),d=p);s._sorted=c}r&&SS(this,g)}parsePrimitiveData(t,n,s,i){const{iScale:o,vScale:r}=t,a=o.axis,c=r.axis,d=o.getLabels(),h=o===r,p=new Array(i);let g,y,_;for(g=0,y=i;g<y;++g)_=g+s,p[g]={[a]:h||o.parse(d[_],_),[c]:r.parse(n[_],_)};return p}parseArrayData(t,n,s,i){const{xScale:o,yScale:r}=t,a=new Array(i);let c,d,h,p;for(c=0,d=i;c<d;++c)h=c+s,p=n[h],a[c]={x:o.parse(p[0],h),y:r.parse(p[1],h)};return a}parseObjectData(t,n,s,i){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let h,p,g,y;for(h=0,p=i;h<p;++h)g=h+s,y=n[g],d[h]={x:o.parse(Jo(y,a),g),y:r.parse(Jo(y,c),g)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,o=this._cachedMeta,r=n[t.axis],a={keys:uT(i,!0),values:n._stacks[t.axis]};return vS(a,r,o.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const o=s[n.axis];let r=o===null?NaN:o;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,r=vS(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,o=s._sorted&&t===s.iScale,r=i.length,a=this._getOtherScale(t),c=t7(n,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=Z9(a);let g,y;function _(){y=i[g];const T=y[a.axis];return!cn(y[t.axis])||h>T||p<T}for(g=0;g<r&&!(!_()&&(this.updateRangeFromParsed(d,t,y,c),o));++g);if(o){for(g=r-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(d,t,y,c);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,o,r;for(i=0,o=n.length;i<o;++i)r=n[i][t.axis],cn(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=K9(tt(this.options.clip,G9(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],o=n.chartArea,r=[],a=this._drawStart||0,c=this._drawCount||i.length-a,d=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(t,o,a,c),h=a;h<a+c;++h){const p=i[h];p.hidden||(p.active&&d?r.push(p):p.draw(t,o))}for(h=0;h<r.length;++h)r[h].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=e7(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Q9(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",o=this._cachedDataOpts,r=t+"-"+n,a=o[r],c=this.enableOptionSharing&&Fs(s);if(a)return wS(a,c);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,t),p=i?[`${t}Hover`,"hover",t,""]:[t,""],g=d.getOptionScopes(this.getDataset(),h),y=Object.keys(ht.elements[t]),_=()=>this.getContext(s,i),T=d.resolveNamedOptions(g,y,_,p);return T.$shared&&(T.$shared=c,o[r]=Object.freeze(wS(T,c))),T}_resolveAnimations(t,n,s){const i=this.chart,o=this._cachedDataOpts,r=`animation-${n}`,a=o[r];if(a)return a;let c;if(i.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,n),g=h.getOptionScopes(this.getDataset(),p);c=h.createResolver(g,this.getContext(t,s,n))}const d=new cT(i,c&&c.animations);return c&&c._cacheable&&(o[r]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Qp(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,o=this.getSharedOptions(s),r=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:r}}updateElement(t,n,s,i){Qp(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!Qp(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,c,d]of this._syncList)this[a](c,d);this._syncList=[];const i=s.length,o=n.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,n,s=!0){const i=this._cachedMeta,o=i.data,r=t+n;let a;const c=d=>{for(d.length+=n,a=d.length-1;a>=r;a--)d[a]=d[a-n]};for(c(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&Cl(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}oi.defaults={};oi.prototype.datasetElementType=null;oi.prototype.dataElementType=null;function n7(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let i=0,o=n.length;i<o;i++)s=s.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Yk(s.sort((i,o)=>i-o))}return e._cache.$bar}function s7(e){const t=e.iScale,n=n7(t,e.type);let s=t._length,i,o,r,a;const c=()=>{r===32767||r===-32768||(Fs(a)&&(s=Math.min(s,Math.abs(r-a)||s)),a=r)};for(i=0,o=n.length;i<o;++i)r=t.getPixelForValue(n[i]),c();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)r=t.getPixelForTick(i),c();return s}function i7(e,t,n,s){const i=n.barThickness;let o,r;return bt(i)?(o=t.min*n.categoryPercentage,r=n.barPercentage):(o=i*s,r=1),{chunk:o/s,ratio:r,start:t.pixels[e]-o/2}}function o7(e,t,n,s){const i=t.pixels,o=i[e];let r=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const c=n.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const d=o-(o-Math.min(r,a))/2*c;return{chunk:Math.abs(a-r)/2*c/s,ratio:n.barPercentage,start:d}}function r7(e,t,n,s){const i=n.parse(e[0],s),o=n.parse(e[1],s),r=Math.min(i,o),a=Math.max(i,o);let c=r,d=a;Math.abs(r)>Math.abs(a)&&(c=a,d=r),t[n.axis]=d,t._custom={barStart:c,barEnd:d,start:i,end:o,min:r,max:a}}function dT(e,t,n,s){return Wt(e)?r7(e,t,n,s):t[n.axis]=n.parse(e,s),t}function DS(e,t,n,s){const i=e.iScale,o=e.vScale,r=i.getLabels(),a=i===o,c=[];let d,h,p,g;for(d=n,h=n+s;d<h;++d)g=t[d],p={},p[i.axis]=a||i.parse(r[d],d),c.push(dT(g,p,o,d));return c}function em(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function a7(e,t,n){return e!==0?_i(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function l7(e){let t,n,s,i,o;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(i="end",o="start"):(i="start",o="end"),{start:n,end:s,reverse:t,top:i,bottom:o}}function c7(e,t,n,s){let i=t.borderSkipped;const o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:c,top:d,bottom:h}=l7(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?i=d:(n._bottom||0)===s?i=h:(o[kS(h,r,a,c)]=!0,i=d)),o[kS(i,r,a,c)]=!0,e.borderSkipped=o}function kS(e,t,n,s){return s?(e=u7(e,t,n),e=TS(e,n,t)):e=TS(e,t,n),e}function u7(e,t,n){return e===t?n:e===n?t:e}function TS(e,t,n){return e==="start"?t:e==="end"?n:e}function d7(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Fh extends oi{parsePrimitiveData(t,n,s,i){return DS(t,n,s,i)}parseArrayData(t,n,s,i){return DS(t,n,s,i)}parseObjectData(t,n,s,i){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=o.axis==="x"?a:c,h=r.axis==="x"?a:c,p=[];let g,y,_,T;for(g=s,y=s+i;g<y;++g)T=n[g],_={},_[o.axis]=o.parse(Jo(T,d),g),p.push(dT(Jo(T,h),_,r,g));return p}updateRangeFromParsed(t,n,s,i){super.updateRangeFromParsed(t,n,s,i);const o=s._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:i}=n,o=this.getParsed(t),r=o._custom,a=em(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),d=a.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+s;y++){const _=this.getParsed(y),T=o||bt(_[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(y),w=this._calculateBarIndexPixels(y,h),k=(_._stacks||{})[a.axis],x={horizontal:d,base:T.base,enableBorderRadius:!k||em(_._custom)||r===k._top||r===k._bottom,x:d?T.head:w.center,y:d?w.center:T.head,height:d?w.size:Math.abs(T.size),width:d?Math.abs(T.size):w.size};g&&(x.options=p||this.resolveDataElementOptions(y,t[y].active?"active":i));const $=x.options||t[y].options;c7(x,$,k,r),d7(x,$,h.ratio),this.updateElement(t[y],y,x,i)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=s.options.stacked,r=[],a=c=>{const d=c.controller.getParsed(n),h=d&&d[c.vScale.axis];if(bt(h)||isNaN(h))return!0};for(const c of i)if(!(n!==void 0&&a(c))&&((o===!1||r.indexOf(c.stack)===-1||o===void 0&&c.stack===void 0)&&r.push(c.stack),c.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,s){const i=this._getStacks(t,s),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,i=[];let o,r;for(o=0,r=n.data.length;o<r;++o)i.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const a=t.barThickness;return{min:a||s7(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s},options:{base:i,minBarLength:o}}=this,r=i||0,a=this.getParsed(t),c=a._custom,d=em(c);let h=a[n.axis],p=0,g=s?this.applyStack(n,a,s):h,y,_;g!==h&&(p=g-h,g=h),d&&(h=c.barStart,g=c.barEnd-c.barStart,h!==0&&_i(h)!==_i(c.barEnd)&&(p=0),p+=h);const T=!bt(i)&&!d?i:p;let w=n.getPixelForValue(T);if(this.chart.getDataVisibility(t)?y=n.getPixelForValue(p+g):y=w,_=y-w,Math.abs(_)<o){_=a7(_,n,r)*o,h===r&&(w-=_/2);const k=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),$=Math.min(k,x),L=Math.max(k,x);w=Math.max(Math.min(w,L),$),y=w+_}if(w===n.getPixelForValue(r)){const k=_i(_)*n.getLineWidthForValue(r)/2;w+=k,_-=k}return{size:_,base:w,head:y,center:y+_/2}}_calculateBarIndexPixels(t,n){const s=n.scale,i=this.options,o=i.skipNull,r=tt(i.maxBarThickness,1/0);let a,c;if(n.grouped){const d=o?this._getStackCount(t):n.stackCount,h=i.barThickness==="flex"?o7(t,n,i,d):i7(t,n,i,d),p=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);a=h.start+h.chunk*p+h.chunk/2,c=Math.min(r,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),c=Math.min(r,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,i=s.length;let o=0;for(;o<i;++o)this.getParsed(o)[n.axis]!==null&&s[o].draw(this._ctx)}}Fh.id="bar";Fh.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Fh.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ih extends oi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,s,i){const o=super.parsePrimitiveData(t,n,s,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+s).radius;return o}parseArrayData(t,n,s,i){const o=super.parseArrayData(t,n,s,i);for(let r=0;r<o.length;r++){const a=n[s+r];o[r]._custom=tt(a[2],this.resolveDataElementOptions(r+s).radius)}return o}parseObjectData(t,n,s,i){const o=super.parseObjectData(t,n,s,i);for(let r=0;r<o.length;r++){const a=n[s+r];o[r]._custom=tt(a&&a.r&&+a.r,this.resolveDataElementOptions(r+s).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let s=t.length-1;s>=0;--s)n=Math.max(n,t[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,{xScale:s,yScale:i}=n,o=this.getParsed(t),r=s.getLabelForValue(o.x),a=i.getLabelForValue(o.y),c=o._custom;return{label:n.label,value:"("+r+", "+a+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,s,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,i),h=r.axis,p=a.axis;for(let g=n;g<n+s;g++){const y=t[g],_=!o&&this.getParsed(g),T={},w=T[h]=o?r.getPixelForDecimal(.5):r.getPixelForValue(_[h]),k=T[p]=o?a.getBasePixel():a.getPixelForValue(_[p]);T.skip=isNaN(w)||isNaN(k),d&&(T.options=c||this.resolveDataElementOptions(g,y.active?"active":i),o&&(T.options.radius=0)),this.updateElement(y,g,T,i)}}resolveDataElementOptions(t,n){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return n!=="active"&&(i.radius=0),i.radius+=tt(s&&s._custom,o),i}}Ih.id="bubble";Ih.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Ih.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function h7(e,t,n){let s=1,i=1,o=0,r=0;if(t<Lt){const a=e,c=a+t,d=Math.cos(a),h=Math.sin(a),p=Math.cos(c),g=Math.sin(c),y=($,L,F)=>vc($,a,c,!0)?1:Math.max(L,L*n,F,F*n),_=($,L,F)=>vc($,a,c,!0)?-1:Math.min(L,L*n,F,F*n),T=y(0,d,p),w=y(sn,h,g),k=_(Xt,d,p),x=_(Xt+sn,h,g);s=(T-k)/2,i=(w-x)/2,o=-(T+k)/2,r=-(w+x)/2}return{ratioX:s,ratioY:i,offsetX:o,offsetY:r}}class Qa extends oi{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let o=c=>+s[c];if(ut(s[t])){const{key:c="value"}=this._parsing;o=d=>+Jo(s[d],c)}let r,a;for(r=t,a=t+n;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return Xs(this.options.rotation-90)}_getCircumference(){return Xs(this.options.circumference)}_getRotationExtents(){let t=Lt,n=-Lt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)){const i=this.chart.getDatasetMeta(s).controller,o=i._getRotation(),r=i._getCircumference();t=Math.min(t,o),n=Math.max(n,o+r)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-r)/2,0),c=Math.min(lj(this.options.cutout,a),1),d=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:_,offsetY:T}=h7(p,h,c),w=(s.width-r)/g,k=(s.height-r)/y,x=Math.max(Math.min(w,k)/2,0),$=Lk(this.options.radius,x),L=Math.max($*c,0),F=($-L)/this._getVisibleDatasetWeightTotal();this.offsetX=_*$,this.offsetY=T*$,i.total=this.calculateTotal(),this.outerRadius=$-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const s=this.options,i=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/Lt)}updateElements(t,n,s,i){const o=i==="reset",r=this.chart,a=r.chartArea,d=r.options.animation,h=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=o&&d.animateScale,y=g?0:this.innerRadius,_=g?0:this.outerRadius,{sharedOptions:T,includeOptions:w}=this._getSharedOptions(n,i);let k=this._getRotation(),x;for(x=0;x<n;++x)k+=this._circumference(x,o);for(x=n;x<n+s;++x){const $=this._circumference(x,o),L=t[x],F={x:h+this.offsetX,y:p+this.offsetY,startAngle:k,endAngle:k+$,circumference:$,outerRadius:_,innerRadius:y};w&&(F.options=T||this.resolveDataElementOptions(x,L.active?"active":i)),k+=$,this.updateElement(L,x,F,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,i;for(i=0;i<n.length;i++){const o=t._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Lt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=Ic(n._parsed[t],s.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const s=this.chart;let i,o,r,a,c;if(!t){for(i=0,o=s.data.datasets.length;i<o;++i)if(s.isDatasetVisible(i)){r=s.getDatasetMeta(i),t=r.data,a=r.controller;break}}if(!t)return 0;for(i=0,o=t.length;i<o;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,i=t.length;s<i;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(tt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Qa.id="doughnut";Qa.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Qa.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};Qa.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((s,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const n=": "+e.formattedValue;return Wt(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class Yh extends oi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:o}=n,r=this.chart._animationsDisabled;let{start:a,count:c}=Bk(n,i,r);this._drawStart=a,this._drawCount=c,Vk(n)&&(a=0,c=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:d},t),this.updateElements(i,a,c,t)}updateElements(t,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,i),g=r.axis,y=a.axis,{spanGaps:_,segment:T}=this.options,w=Ba(_)?_:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||i==="none";let x=n>0&&this.getParsed(n-1);for(let $=n;$<n+s;++$){const L=t[$],F=this.getParsed($),R=k?L:{},W=bt(F[y]),z=R[g]=r.getPixelForValue(F[g],$),Y=R[y]=o||W?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,F,c):F[y],$);R.skip=isNaN(z)||isNaN(Y)||W,R.stop=$>0&&Math.abs(F[g]-x[g])>w,T&&(R.parsed=F,R.raw=d.data[$]),p&&(R.options=h||this.resolveDataElementOptions($,L.active?"active":i)),k||this.updateElement(L,$,R,i),x=F}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Yh.id="line";Yh.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Yh.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Hh extends oi{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=Ic(n._parsed[t].r,s.options.locale);return{label:i[t]||"",value:o}}parseObjectData(t,n,s,i){return tT.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,s=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),r=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,s,i){const o=i==="reset",r=this.chart,c=r.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,p=d.yCenter,g=d.getIndexAngle(0)-.5*Xt;let y=g,_;const T=360/this.countVisibleElements();for(_=0;_<n;++_)y+=this._computeAngle(_,i,T);for(_=n;_<n+s;_++){const w=t[_];let k=y,x=y+this._computeAngle(_,i,T),$=r.getDataVisibility(_)?d.getDistanceFromCenterForValue(this.getParsed(_).r):0;y=x,o&&(c.animateScale&&($=0),c.animateRotate&&(k=x=g));const L={x:h,y:p,innerRadius:0,outerRadius:$,startAngle:k,endAngle:x,options:this.resolveDataElementOptions(_,w.active?"active":i)};this.updateElement(w,_,L,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?Xs(this.resolveDataElementOptions(t,n).angle||s):0}}Hh.id="polarArea";Hh.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Hh.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((s,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class vy extends Qa{}vy.id="pie";vy.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Wh extends oi{getLabelAndValue(t){const n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,i){return tT.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta,s=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(s.points=i,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(s,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,s,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=n;a<n+s;a++){const c=t[a],d=this.resolveDataElementOptions(a,c.active?"active":i),h=o.getPointPositionForValue(a,this.getParsed(a).r),p=r?o.xCenter:h.x,g=r?o.yCenter:h.y,y={x:p,y:g,angle:h.angle,skip:isNaN(p)||isNaN(g),options:d};this.updateElement(c,a,y,i)}}}Wh.id="radar";Wh.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Wh.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let ri=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Ba(this.x)&&Ba(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(o=>{i[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),i}};ri.defaults={};ri.defaultRoutes=void 0;const hT={values(e){return Wt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,o=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),o=f7(e,n)}const r=Ps(Math.abs(o)),a=Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Ic(e,s,c)},logarithmic(e,t,n){if(e===0)return"0";const s=e/Math.pow(10,Math.floor(Ps(e)));return s===1||s===2||s===5?hT.numeric.call(this,e,t,n):""}};function f7(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Bh={formatters:hT};ht.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});ht.route("scale.ticks","color","","color");ht.route("scale.grid","color","","borderColor");ht.route("scale.grid","borderColor","","borderColor");ht.route("scale.title","color","","color");ht.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});ht.describe("scales",{_fallback:"scale"});ht.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function p7(e,t){const n=e.options.ticks,s=n.maxTicksLimit||m7(e),i=n.major.enabled?y7(t):[],o=i.length,r=i[0],a=i[o-1],c=[];if(o>s)return v7(t,c,i,o/s),c;const d=g7(i,t,s);if(o>0){let h,p;const g=o>1?Math.round((a-r)/(o-1)):null;for(Xu(t,c,d,bt(g)?0:r-g,r),h=0,p=o-1;h<p;h++)Xu(t,c,d,i[h],i[h+1]);return Xu(t,c,d,a,bt(g)?t.length:a+g),c}return Xu(t,c,d),c}function m7(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function g7(e,t,n){const s=_7(e),i=t.length/n;if(!s)return Math.max(i,1);const o=gj(s);for(let r=0,a=o.length-1;r<a;r++){const c=o[r];if(c>i)return c}return Math.max(i,1)}function y7(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function v7(e,t,n,s){let i=0,o=n[0],r;for(s=Math.ceil(s),r=0;r<e.length;r++)r===o&&(t.push(e[r]),i++,o=n[i*s])}function Xu(e,t,n,s,i){const o=tt(s,0),r=Math.min(tt(i,e.length),e.length);let a=0,c,d,h;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),h=o;h<0;)a++,h=Math.round(o+a*n);for(d=Math.max(o,0);d<r;d++)d===h&&(t.push(e[d]),a++,h=Math.round(o+a*n))}function _7(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const b7=e=>e==="left"?"right":e==="right"?"left":e,CS=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n;function ES(e,t){const n=[],s=e.length/t,i=e.length;let o=0;for(;o<i;o+=s)n.push(e[Math.floor(o)]);return n}function S7(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),o=e._startPixel,r=e._endPixel,a=1e-6;let c=e.getPixelForTick(i),d;if(!(n&&(s===1?d=Math.max(c-o,r-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<o-a||c>r+a)))return c}function w7(e,t){At(e,n=>{const s=n.gc,i=s.length/2;let o;if(i>t){for(o=0;o<i;++o)delete n.data[s[o]];s.splice(0,i)}})}function El(e){return e.drawTicks?e.tickLength:0}function xS(e,t){if(!e.display)return 0;const n=vn(e.font,t),s=Hn(e.padding);return(Wt(e.text)?e.text.length:1)*n.lineHeight+s.height}function D7(e,t){return or(e,{scale:t,type:"scale"})}function k7(e,t,n){return or(e,{tick:n,index:t,type:"tick"})}function T7(e,t,n){let s=cy(e);return(n&&t!=="right"||!n&&t==="right")&&(s=b7(s)),s}function C7(e,t,n,s){const{top:i,left:o,bottom:r,right:a,chart:c}=e,{chartArea:d,scales:h}=c;let p=0,g,y,_;const T=r-i,w=a-o;if(e.isHorizontal()){if(y=Rn(s,o,a),ut(n)){const k=Object.keys(n)[0],x=n[k];_=h[k].getPixelForValue(x)+T-t}else n==="center"?_=(d.bottom+d.top)/2+T-t:_=CS(e,n,t);g=a-o}else{if(ut(n)){const k=Object.keys(n)[0],x=n[k];y=h[k].getPixelForValue(x)-w+t}else n==="center"?y=(d.left+d.right)/2-w+t:y=CS(e,n,t);_=Rn(s,r,i),p=n==="left"?-sn:sn}return{titleX:y,titleY:_,maxWidth:g,rotation:p}}class Kr extends ri{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=As(t,Number.POSITIVE_INFINITY),n=As(n,Number.NEGATIVE_INFINITY),s=As(s,Number.POSITIVE_INFINITY),i=As(i,Number.NEGATIVE_INFINITY),{min:As(t,s),max:As(n,i),minDefined:cn(t),maxDefined:cn(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,d=a.length;c<d;++c)r=a[c].controller.getMinMax(this,t),i||(n=Math.min(n,r.min)),o||(s=Math.max(s,r.max));return n=o&&n>s?s:n,s=i&&n>s?n:s,{min:As(n,As(s,n)),max:As(s,As(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Yt(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=i9(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?ES(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=p7(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Yt(this.options.afterUpdate,[this])}beforeSetDimensions(){Yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Yt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Yt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,o;for(s=0,i=t.length;s<i;s++)o=t[s],o.label=Yt(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){Yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=this.ticks.length,i=n.minRotation||0,o=n.maxRotation;let r=i,a,c,d;if(!this._isVisible()||!n.display||i>=o||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),p=h.widest.width,g=h.highest.height,y=Dn(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/s:y/(s-1),p+6>a&&(a=y/(s-(t.offset?.5:1)),c=this.maxHeight-El(t.grid)-n.padding-xS(t.title,this.chart.options.font),d=Math.sqrt(p*p+g*g),r=ay(Math.min(Math.asin(Dn((h.highest.height+6)/a,-1,1)),Math.asin(Dn(c/d,-1,1))-Math.asin(Dn(g/d,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Yt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const c=xS(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=El(o)+c):(t.height=this.maxHeight,t.width=El(o)+c),s.display&&this.ticks.length){const{first:d,last:h,widest:p,highest:g}=this._getLabelSizes(),y=s.padding*2,_=Xs(this.labelRotation),T=Math.cos(_),w=Math.sin(_);if(a){const k=s.mirror?0:w*p.width+T*g.height;t.height=Math.min(this.maxHeight,t.height+k+y)}else{const k=s.mirror?0:T*p.width+w*g.height;t.width=Math.min(this.maxWidth,t.width+k+y)}this._calculatePadding(d,h,w,T)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:o,padding:r},position:a}=this.options,c=this.labelRotation!==0,d=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;c?d?(g=i*t.width,y=s*n.height):(g=s*t.height,y=i*n.width):o==="start"?y=n.width:o==="end"?g=t.width:o!=="inner"&&(g=t.width/2,y=n.width/2),this.paddingLeft=Math.max((g-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((y-p+r)*this.width/(this.width-p),0)}else{let h=n.height/2,p=t.height/2;o==="start"?(h=0,p=t.height):o==="end"&&(h=n.height,p=0),this.paddingTop=h+r,this.paddingBottom=p+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Yt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)bt(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=ES(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length)}return t}_computeLabelSizes(t,n){const{ctx:s,_longestTextCache:i}=this,o=[],r=[];let a=0,c=0,d,h,p,g,y,_,T,w,k,x,$;for(d=0;d<n;++d){if(g=t[d].label,y=this._resolveTickFontOptions(d),s.font=_=y.string,T=i[_]=i[_]||{data:{},gc:[]},w=y.lineHeight,k=x=0,!bt(g)&&!Wt(g))k=Hd(s,T.data,T.gc,k,g),x=w;else if(Wt(g))for(h=0,p=g.length;h<p;++h)$=g[h],!bt($)&&!Wt($)&&(k=Hd(s,T.data,T.gc,k,$),x+=w);o.push(k),r.push(x),a=Math.max(k,a),c=Math.max(x,c)}w7(i,n);const L=o.indexOf(a),F=r.indexOf(c),R=W=>({width:o[W]||0,height:r[W]||0});return{first:R(0),last:R(n-1),widest:R(L),highest:R(F),widths:o,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return _j(this._alignToPixels?Sr(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=k7(this.getContext(),t,s))}return this.$context||(this.$context=D7(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Xs(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,c=o?o.highest.height+r:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:o,position:r}=i,a=o.offset,c=this.isHorizontal(),h=this.ticks.length+(a?1:0),p=El(o),g=[],y=o.setContext(this.getContext()),_=y.drawBorder?y.borderWidth:0,T=_/2,w=function(oe){return Sr(s,oe,_)};let k,x,$,L,F,R,W,z,Y,N,G,j;if(r==="top")k=w(this.bottom),R=this.bottom-p,z=k-T,N=w(t.top)+T,j=t.bottom;else if(r==="bottom")k=w(this.top),N=t.top,j=w(t.bottom)-T,R=k+T,z=this.top+p;else if(r==="left")k=w(this.right),F=this.right-p,W=k-T,Y=w(t.left)+T,G=t.right;else if(r==="right")k=w(this.left),Y=t.left,G=w(t.right)-T,F=k+T,W=this.left+p;else if(n==="x"){if(r==="center")k=w((t.top+t.bottom)/2+.5);else if(ut(r)){const oe=Object.keys(r)[0],le=r[oe];k=w(this.chart.scales[oe].getPixelForValue(le))}N=t.top,j=t.bottom,R=k+T,z=R+p}else if(n==="y"){if(r==="center")k=w((t.left+t.right)/2);else if(ut(r)){const oe=Object.keys(r)[0],le=r[oe];k=w(this.chart.scales[oe].getPixelForValue(le))}F=k-T,W=F-p,Y=t.left,G=t.right}const J=tt(i.ticks.maxTicksLimit,h),ue=Math.max(1,Math.ceil(h/J));for(x=0;x<h;x+=ue){const oe=o.setContext(this.getContext(x)),le=oe.lineWidth,me=oe.color,Se=oe.borderDash||[],Te=oe.borderDashOffset,xe=oe.tickWidth,Re=oe.tickColor,Ye=oe.tickBorderDash||[],ot=oe.tickBorderDashOffset;$=S7(this,x,a),$!==void 0&&(L=Sr(s,$,le),c?F=W=Y=G=L:R=z=N=j=L,g.push({tx1:F,ty1:R,tx2:W,ty2:z,x1:Y,y1:N,x2:G,y2:j,width:le,color:me,borderDash:Se,borderDashOffset:Te,tickWidth:xe,tickColor:Re,tickBorderDash:Ye,tickBorderDashOffset:ot}))}return this._ticksLength=h,this._borderValue=k,g}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:o}=s,r=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:d,padding:h,mirror:p}=o,g=El(s.grid),y=g+h,_=p?-h:y,T=-Xs(this.labelRotation),w=[];let k,x,$,L,F,R,W,z,Y,N,G,j,J="middle";if(i==="top")R=this.bottom-_,W=this._getXAxisLabelAlignment();else if(i==="bottom")R=this.top+_,W=this._getXAxisLabelAlignment();else if(i==="left"){const oe=this._getYAxisLabelAlignment(g);W=oe.textAlign,F=oe.x}else if(i==="right"){const oe=this._getYAxisLabelAlignment(g);W=oe.textAlign,F=oe.x}else if(n==="x"){if(i==="center")R=(t.top+t.bottom)/2+y;else if(ut(i)){const oe=Object.keys(i)[0],le=i[oe];R=this.chart.scales[oe].getPixelForValue(le)+y}W=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")F=(t.left+t.right)/2-y;else if(ut(i)){const oe=Object.keys(i)[0],le=i[oe];F=this.chart.scales[oe].getPixelForValue(le)}W=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(c==="start"?J="top":c==="end"&&(J="bottom"));const ue=this._getLabelSizes();for(k=0,x=a.length;k<x;++k){$=a[k],L=$.label;const oe=o.setContext(this.getContext(k));z=this.getPixelForTick(k)+o.labelOffset,Y=this._resolveTickFontOptions(k),N=Y.lineHeight,G=Wt(L)?L.length:1;const le=G/2,me=oe.color,Se=oe.textStrokeColor,Te=oe.textStrokeWidth;let xe=W;r?(F=z,W==="inner"&&(k===x-1?xe=this.options.reverse?"left":"right":k===0?xe=this.options.reverse?"right":"left":xe="center"),i==="top"?d==="near"||T!==0?j=-G*N+N/2:d==="center"?j=-ue.highest.height/2-le*N+N:j=-ue.highest.height+N/2:d==="near"||T!==0?j=N/2:d==="center"?j=ue.highest.height/2-le*N:j=ue.highest.height-G*N,p&&(j*=-1)):(R=z,j=(1-G)*N/2);let Re;if(oe.showLabelBackdrop){const Ye=Hn(oe.backdropPadding),ot=ue.heights[k],fn=ue.widths[k];let Ue=R+j-Ye.top,st=F-Ye.left;switch(J){case"middle":Ue-=ot/2;break;case"bottom":Ue-=ot;break}switch(W){case"center":st-=fn/2;break;case"right":st-=fn;break}Re={left:st,top:Ue,width:fn+Ye.width,height:ot+Ye.height,color:oe.backdropColor}}w.push({rotation:T,label:L,font:Y,color:me,strokeColor:Se,strokeWidth:Te,textOffset:j,textAlign:xe,textBaseline:J,translation:[F,R],backdrop:Re})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Xs(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,c=r.widest.width;let d,h;return n==="left"?i?(h=this.right+o,s==="near"?d="left":s==="center"?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-a,s==="near"?d="right":s==="center"?(d="center",h-=c/2):(d="left",h=this.left)):n==="right"?i?(h=this.left+o,s==="near"?d="right":s==="center"?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+a,s==="near"?d="left":s==="center"?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:o,height:r}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,o,r),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(c,d,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(n.display)for(o=0,r=i.length;o<r;++o){const c=i[o];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{grid:s}}=this,i=s.setContext(this.getContext()),o=s.drawBorder?i.borderWidth:0;if(!o)return;const r=s.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,d,h,p;this.isHorizontal()?(c=Sr(t,this.left,o)-o/2,d=Sr(t,this.right,r)+r/2,h=p=a):(h=Sr(t,this.top,o)-o/2,p=Sr(t,this.bottom,r)+r/2,c=d=a),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(c,h),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Lh(s,i);const o=this._labelItems||(this._labelItems=this._computeLabelItems(t));let r,a;for(r=0,a=o.length;r<a;++r){const c=o[r],d=c.font,h=c.label;c.backdrop&&(s.fillStyle=c.backdrop.color,s.fillRect(c.backdrop.left,c.backdrop.top,c.backdrop.width,c.backdrop.height));let p=c.textOffset;Wr(s,h,0,p,d,c)}i&&Rh(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const o=vn(s.font),r=Hn(s.padding),a=s.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||ut(n)?(c+=r.bottom,Wt(s.text)&&(c+=o.lineHeight*(s.text.length-1))):c+=r.top;const{titleX:d,titleY:h,maxWidth:p,rotation:g}=C7(this,c,n,a);Wr(t,s.text,0,0,o,{color:s.color,maxWidth:p,rotation:g,textAlign:T7(a,n,i),textBaseline:"middle",translation:[d,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=tt(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Kr.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s+1,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let o,r;for(o=0,r=n.length;o<r;++o){const a=n[o];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return vn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zu{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;M7(n)&&(s=this.register(n));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,E7(t,r,s),this.override&&ht.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in ht[i]&&(delete ht[i][s],this.override&&delete Hr[s])}}function E7(e,t,n){const s=yc(Object.create(null),[n?ht.get(n):{},ht.get(t),e.defaults]);ht.set(t,s),e.defaultRoutes&&x7(t,e.defaultRoutes),e.descriptors&&ht.describe(t,e.descriptors)}function x7(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),o=[e].concat(s).join("."),r=t[n].split("."),a=r.pop(),c=r.join(".");ht.route(o,i,c,a)})}function M7(e){return"id"in e&&"defaults"in e}class $7{constructor(){this.controllers=new Zu(oi,"datasets",!0),this.elements=new Zu(ri,"elements"),this.plugins=new Zu(Object,"plugins"),this.scales=new Zu(Kr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const o=s||this._getRegistryForType(i);s||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):At(i,r=>{const a=s||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,n,s){const i=ry(t);Yt(s["before"+i],[],s),n[t](s),Yt(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var yi=new $7;class Vh extends oi{update(t){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:o,count:r}=Bk(n,s,i);if(this._drawStart=o,this._drawCount=r,Vk(n)&&(o=0,r=s.length),this.options.showLine){const{dataset:a,_dataset:c}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=s;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:d},t)}this.updateElements(s,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=yi.getElement("line")),super.addElements()}updateElements(t,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(n,i),p=this.getSharedOptions(h),g=this.includeOptions(i,p),y=r.axis,_=a.axis,{spanGaps:T,segment:w}=this.options,k=Ba(T)?T:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||i==="none";let $=n>0&&this.getParsed(n-1);for(let L=n;L<n+s;++L){const F=t[L],R=this.getParsed(L),W=x?F:{},z=bt(R[_]),Y=W[y]=r.getPixelForValue(R[y],L),N=W[_]=o||z?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,R,c):R[_],L);W.skip=isNaN(Y)||isNaN(N)||z,W.stop=L>0&&Math.abs(R[y]-$[y])>k,w&&(W.parsed=R,W.raw=d.data[L]),g&&(W.options=p||this.resolveDataElementOptions(L,F.active?"active":i)),x||this.updateElement(F,L,W,i),$=R}this.updateSharedOptions(p,i,h)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let c=n.length-1;c>=0;--c)a=Math.max(a,n[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,r)/2}}Vh.id="scatter";Vh.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Vh.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var A7=Object.freeze({__proto__:null,BarController:Fh,BubbleController:Ih,DoughnutController:Qa,LineController:Yh,PolarAreaController:Hh,PieController:vy,RadarController:Wh,ScatterController:Vh});function wr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Km{constructor(t){this.options=t||{}}init(t){}formats(){return wr()}parse(t,n){return wr()}format(t,n){return wr()}add(t,n,s){return wr()}diff(t,n,s){return wr()}startOf(t,n,s){return wr()}endOf(t,n){return wr()}}Km.override=function(e){Object.assign(Km.prototype,e)};var fT={_date:Km};function O7(e,t,n,s){const{controller:i,data:o,_sorted:r}=e,a=i._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?bj:eo;if(s){if(i._sharedOptions){const d=o[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){const p=c(o,t,n-h),g=c(o,t,n+h);return{lo:p.lo,hi:g.hi}}}}else return c(o,t,n)}return{lo:0,hi:o.length-1}}function Yc(e,t,n,s,i){const o=e.getSortedVisibleDatasetMetas(),r=n[t];for(let a=0,c=o.length;a<c;++a){const{index:d,data:h}=o[a],{lo:p,hi:g}=O7(o[a],t,r,i);for(let y=p;y<=g;++y){const _=h[y];_.skip||s(_,d,y)}}}function P7(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const o=t?Math.abs(s.x-i.x):0,r=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function tm(e,t,n,s,i){const o=[];return!i&&!e.isPointInArea(t)||Yc(e,n,t,function(a,c,d){!i&&!_c(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&o.push({element:a,datasetIndex:c,index:d})},!0),o}function L7(e,t,n,s){let i=[];function o(r,a,c){const{startAngle:d,endAngle:h}=r.getProps(["startAngle","endAngle"],s),{angle:p}=Fk(r,{x:t.x,y:t.y});vc(p,d,h)&&i.push({element:r,datasetIndex:a,index:c})}return Yc(e,n,t,o),i}function R7(e,t,n,s,i,o){let r=[];const a=P7(n);let c=Number.POSITIVE_INFINITY;function d(h,p,g){const y=h.inRange(t.x,t.y,i);if(s&&!y)return;const _=h.getCenterPoint(i);if(!(!!o||e.isPointInArea(_))&&!y)return;const w=a(t,_);w<c?(r=[{element:h,datasetIndex:p,index:g}],c=w):w===c&&r.push({element:h,datasetIndex:p,index:g})}return Yc(e,n,t,d),r}function nm(e,t,n,s,i,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?L7(e,t,n,i):R7(e,t,n,s,i,o)}function MS(e,t,n,s,i){const o=[],r=n==="x"?"inXRange":"inYRange";let a=!1;return Yc(e,n,t,(c,d,h)=>{c[r](t[n],i)&&(o.push({element:c,datasetIndex:d,index:h}),a=a||c.inRange(t.x,t.y,i))}),s&&!a?[]:o}var N7={evaluateInteractionItems:Yc,modes:{index(e,t,n,s){const i=kr(t,e),o=n.axis||"x",r=n.includeInvisible||!1,a=n.intersect?tm(e,i,o,s,r):nm(e,i,o,!1,s,r),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const h=a[0].index,p=d.data[h];p&&!p.skip&&c.push({element:p,datasetIndex:d.index,index:h})}),c):[]},dataset(e,t,n,s){const i=kr(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;let a=n.intersect?tm(e,i,o,s,r):nm(e,i,o,!1,s,r);if(a.length>0){const c=a[0].datasetIndex,d=e.getDatasetMeta(c).data;a=[];for(let h=0;h<d.length;++h)a.push({element:d[h],datasetIndex:c,index:h})}return a},point(e,t,n,s){const i=kr(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;return tm(e,i,o,s,r)},nearest(e,t,n,s){const i=kr(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;return nm(e,i,o,n.intersect,s,r)},x(e,t,n,s){const i=kr(t,e);return MS(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=kr(t,e);return MS(e,i,"y",n.intersect,s)}}};const pT=["left","top","right","bottom"];function xl(e,t){return e.filter(n=>n.pos===t)}function $S(e,t){return e.filter(n=>pT.indexOf(n.pos)===-1&&n.box.axis===t)}function Ml(e,t){return e.sort((n,s)=>{const i=t?s:n,o=t?n:s;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function F7(e){const t=[];let n,s,i,o,r,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:o,options:{stack:r,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return t}function I7(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:o}=n;if(!s||!pT.includes(i))continue;const r=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function Y7(e,t){const n=I7(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:c}=a.box,d=n[a.stack],h=d&&a.stackWeight/d.weight;a.horizontal?(a.width=h?h*s:c&&t.availableWidth,a.height=i):(a.width=s,a.height=h?h*i:c&&t.availableHeight)}return n}function H7(e){const t=F7(e),n=Ml(t.filter(d=>d.box.fullSize),!0),s=Ml(xl(t,"left"),!0),i=Ml(xl(t,"right")),o=Ml(xl(t,"top"),!0),r=Ml(xl(t,"bottom")),a=$S(t,"x"),c=$S(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:i.concat(c).concat(r).concat(a),chartArea:xl(t,"chartArea"),vertical:s.concat(i).concat(c),horizontal:o.concat(r).concat(a)}}function AS(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function mT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function W7(e,t,n,s){const{pos:i,box:o}=n,r=e.maxPadding;if(!ut(i)){n.size&&(e[i]-=n.size);const p=s[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?o.height:o.width),n.size=p.size/p.count,e[i]+=n.size}o.getPadding&&mT(r,o.getPadding());const a=Math.max(0,t.outerWidth-AS(r,e,"left","right")),c=Math.max(0,t.outerHeight-AS(r,e,"top","bottom")),d=a!==e.w,h=c!==e.h;return e.w=a,e.h=c,n.horizontal?{same:d,other:h}:{same:h,other:d}}function B7(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function V7(e,t){const n=t.maxPadding;function s(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],n[r])}),o}return s(e?["left","right"]:["top","bottom"])}function Rl(e,t,n,s){const i=[];let o,r,a,c,d,h;for(o=0,r=e.length,d=0;o<r;++o){a=e[o],c=a.box,c.update(a.width||t.w,a.height||t.h,V7(a.horizontal,t));const{same:p,other:g}=W7(t,n,a,s);d|=p&&i.length,h=h||g,c.fullSize||i.push(a)}return d&&Rl(i,t,n,s)||h}function Ju(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function OS(e,t,n,s){const i=n.padding;let{x:o,y:r}=t;for(const a of e){const c=a.box,d=s[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/d.weight||1;if(a.horizontal){const p=t.w*h,g=d.size||c.height;Fs(d.start)&&(r=d.start),c.fullSize?Ju(c,i.left,r,n.outerWidth-i.right-i.left,g):Ju(c,t.left+d.placed,r,p,g),d.start=r,d.placed+=p,r=c.bottom}else{const p=t.h*h,g=d.size||c.width;Fs(d.start)&&(o=d.start),c.fullSize?Ju(c,o,i.top,g,n.outerHeight-i.bottom-i.top):Ju(c,o,t.top+d.placed,g,p),d.start=o,d.placed+=p,o=c.right}}t.x=o,t.y=r}ht.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var In={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=Hn(e.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(n-i.height,0),a=H7(e.boxes),c=a.vertical,d=a.horizontal;At(e.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const h=c.reduce((T,w)=>w.box.options&&w.box.options.display===!1?T:T+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/h,hBoxMaxHeight:r/2}),g=Object.assign({},i);mT(g,Hn(s));const y=Object.assign({maxPadding:g,w:o,h:r,x:i.left,y:i.top},i),_=Y7(c.concat(d),p);Rl(a.fullSize,y,p,_),Rl(c,y,p,_),Rl(d,y,p,_)&&Rl(c,y,p,_),B7(y),OS(a.leftAndTop,y,p,_),y.x+=y.w,y.y+=y.h,OS(a.rightAndBottom,y,p,_),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},At(a.chartArea,T=>{const w=T.box;Object.assign(w,e.chartArea),w.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class gT{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class U7 extends gT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _d="$chartjs",z7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PS=e=>e===null||e==="";function j7(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[_d]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",PS(i)){const o=dS(e,"width");o!==void 0&&(e.width=o)}if(PS(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=dS(e,"height");o!==void 0&&(e.height=o)}return e}const yT=E9?{passive:!0}:!1;function G7(e,t,n){e.addEventListener(t,n,yT)}function K7(e,t,n){e.canvas.removeEventListener(t,n,yT)}function q7(e,t){const n=z7[e.type]||e.type,{x:s,y:i}=kr(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Bd(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function X7(e,t,n){const s=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Bd(a.addedNodes,s),r=r&&!Bd(a.removedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Z7(e,t,n){const s=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Bd(a.removedNodes,s),r=r&&!Bd(a.addedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Sc=new Map;let LS=0;function vT(){const e=window.devicePixelRatio;e!==LS&&(LS=e,Sc.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function J7(e,t){Sc.size||window.addEventListener("resize",vT),Sc.set(e,t)}function Q7(e){Sc.delete(e),Sc.size||window.removeEventListener("resize",vT)}function eG(e,t,n){const s=e.canvas,i=s&&yy(s);if(!i)return;const o=Wk((a,c)=>{const d=i.clientWidth;n(a,c),d<i.clientWidth&&n()},window),r=new ResizeObserver(a=>{const c=a[0],d=c.contentRect.width,h=c.contentRect.height;d===0&&h===0||o(d,h)});return r.observe(i),J7(e,o),r}function sm(e,t,n){n&&n.disconnect(),t==="resize"&&Q7(e)}function tG(e,t,n){const s=e.canvas,i=Wk(o=>{e.ctx!==null&&n(q7(o,e))},e,o=>{const r=o[0];return[r,r.offsetX,r.offsetY]});return G7(s,t,i),i}class nG extends gT{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(j7(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[_d])return!1;const s=n[_d].initial;["height","width"].forEach(o=>{const r=s[o];bt(r)?n.removeAttribute(o):n.setAttribute(o,r)});const i=s.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[_d],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),r={attach:X7,detach:Z7,resize:eG}[n]||tG;i[n]=r(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:sm,detach:sm,resize:sm}[n]||K7)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return C9(t,n,s,i)}isAttached(t){const n=yy(t);return!!(n&&n.isConnected)}}function sG(e){return!sT()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?U7:nG}class iG{constructor(){this._init=[]}notify(t,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,n,s,i){i=i||{};for(const o of t){const r=o.plugin,a=r[s],c=[n,i,o.options];if(Yt(a,c,r)===!1&&i.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=tt(s.options&&s.options.plugins,{}),o=oG(s);return i===!1&&!n?[]:aG(t,o,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(o,r)=>o.filter(a=>!r.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function oG(e){const t={},n=[],s=Object.keys(yi.plugins.items);for(let o=0;o<s.length;o++)n.push(yi.getPlugin(s[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];n.indexOf(r)===-1&&(n.push(r),t[r.id]=!0)}return{plugins:n,localIds:t}}function rG(e,t){return!t&&e===!1?null:e===!0?{}:e}function aG(e,{plugins:t,localIds:n},s,i){const o=[],r=e.getContext();for(const a of t){const c=a.id,d=rG(s[c],i);d!==null&&o.push({plugin:a,options:lG(e.config,{plugin:a,local:n[c]},d,r)})}return o}function lG(e,{plugin:t,local:n},s,i){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(s,o);return n&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qm(e,t){const n=ht.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function cG(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function uG(e,t){return e===t?"_index_":"_value_"}function dG(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Xm(e,t){return e==="x"||e==="y"?e:t.axis||dG(t.position)||e.charAt(0).toLowerCase()}function hG(e,t){const n=Hr[e.type]||{scales:{}},s=t.scales||{},i=qm(e.type,t),o=Object.create(null),r=Object.create(null);return Object.keys(s).forEach(a=>{const c=s[a];if(!ut(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const d=Xm(a,c),h=uG(d,i),p=n.scales||{};o[d]=o[d]||a,r[a]=jl(Object.create(null),[{axis:d},c,p[d],p[h]])}),e.data.datasets.forEach(a=>{const c=a.type||e.type,d=a.indexAxis||qm(c,t),p=(Hr[c]||{}).scales||{};Object.keys(p).forEach(g=>{const y=cG(g,d),_=a[y+"AxisID"]||o[y]||y;r[_]=r[_]||Object.create(null),jl(r[_],[{axis:y},s[_],p[g]])})}),Object.keys(r).forEach(a=>{const c=r[a];jl(c,[ht.scales[c.type],ht.scale])}),r}function _T(e){const t=e.options||(e.options={});t.plugins=tt(t.plugins,{}),t.scales=hG(e,t)}function bT(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function fG(e){return e=e||{},e.data=bT(e.data),_T(e),e}const RS=new Map,ST=new Set;function Qu(e,t){let n=RS.get(e);return n||(n=t(),RS.set(e,n),ST.add(n)),n}const $l=(e,t,n)=>{const s=Jo(t,n);s!==void 0&&e.add(s)};class pG{constructor(t){this._config=fG(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),_T(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Qu(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Qu(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Qu(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:o}=this,r=this._cachedScopes(t,s),a=r.get(n);if(a)return a;const c=new Set;n.forEach(h=>{t&&(c.add(t),h.forEach(p=>$l(c,t,p))),h.forEach(p=>$l(c,i,p)),h.forEach(p=>$l(c,Hr[o]||{},p)),h.forEach(p=>$l(c,ht,p)),h.forEach(p=>$l(c,jm,p))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),ST.has(n)&&r.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Hr[n]||{},ht.datasets[n]||{},{type:n},ht,jm]}resolveNamedOptions(t,n,s,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=NS(this._resolverCache,t,i);let c=r;if(gG(r,n)){o.$shared=!1,s=Qo(s)?s():s;const d=this.createResolver(t,s,a);c=Va(r,s,d)}for(const d of n)o[d]=c[d];return o}createResolver(t,n,s=[""],i){const{resolver:o}=NS(this._resolverCache,t,s);return ut(n)?Va(o,n,void 0,i):o}}function NS(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let o=s.get(i);return o||(o={resolver:py(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,o)),o}const mG=e=>ut(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Qo(e[n]),!1);function gG(e,t){const{isScriptable:n,isIndexable:s}=Zk(e);for(const i of t){const o=n(i),r=s(i),a=(r||o)&&e[i];if(o&&(Qo(a)||mG(a))||r&&Wt(a))return!0}return!1}var yG="3.9.1";const vG=["top","bottom","left","right","chartArea"];function FS(e,t){return e==="top"||e==="bottom"||vG.indexOf(e)===-1&&t==="x"}function IS(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function YS(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Yt(n&&n.onComplete,[e],t)}function _G(e){const t=e.chart,n=t.options.animation;Yt(n&&n.onProgress,[e],t)}function wT(e){return sT()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Vd={},DT=e=>{const t=wT(e);return Object.values(Vd).filter(n=>n.canvas===t).pop()};function bG(e,t,n){const s=Object.keys(e);for(const i of s){const o=+i;if(o>=t){const r=e[i];delete e[i],(n>0||o>t)&&(e[o+n]=r)}}}function SG(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class co{constructor(t,n){const s=this.config=new pG(n),i=wT(t),o=DT(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||sG(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,r.aspectRatio),c=a&&a.canvas,d=c&&c.height,h=c&&c.width;if(this.id=aj(),this.ctx=a,this.canvas=c,this.width=h,this.height=d,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new iG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Dj(p=>this.update(p),r.resizeDelay||0),this._dataChanges=[],Vd[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}zi.listen(this,"complete",YS),zi.listen(this,"progress",_G),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:o}=this;return bt(t)?n&&o?o:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():uS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aS(this.canvas,this.ctx),this}stop(){return zi.stop(this),this}resize(t,n){zi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,n,o),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,uS(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),Yt(s.onResize,[this,r],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};At(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((r,a)=>(r[a]=!1,r),{});let o=[];n&&(o=o.concat(Object.keys(n).map(r=>{const a=n[r],c=Xm(r,a),d=c==="r",h=c==="x";return{options:a,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),At(o,r=>{const a=r.options,c=a.id,d=Xm(c,a),h=tt(a.type,r.dtype);(a.position===void 0||FS(a.position,d)!==FS(r.dposition))&&(a.position=r.dposition),i[c]=!0;let p=null;if(c in s&&s[c].type===h)p=s[c];else{const g=yi.getScale(h);p=new g({id:c,type:h,ctx:this.ctx,chart:this}),s[p.id]=p}p.init(a,t)}),At(i,(r,a)=>{r||delete s[a]}),At(s,r=>{In.configure(this,r,r.options),In.addBox(this,r)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,o)=>i.index-o.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(IS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const o=n[s];let r=this.getDatasetMeta(s);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=a,r.indexAxis=o.indexAxis||qm(a,this.options),r.order=o.order||0,r.index=s,r.label=""+o.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{const c=yi.getController(a),{datasetElementType:d,dataElementType:h}=ht.datasets[a];Object.assign(c.prototype,{dataElementType:yi.getElement(h),datasetElementType:d&&yi.getElement(d)}),r.controller=new c(this,s),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){At(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:p}=this.getDatasetMeta(d),g=!i&&o.indexOf(p)===-1;p.buildOrUpdateElements(g),r=Math.max(+p.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),i||At(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(IS("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){At(this.scales,t=>{In.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!q0(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:o}of n){const r=s==="_removeElements"?-o:o;bG(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=s(0);for(let o=1;o<n;o++)if(!q0(i,s(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;In.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],At(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Qo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zi.has(this)?this.attached&&!zi.running(this)&&zi.start(this):(this.draw(),YS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resize(s,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,o;for(i=0,o=n.length;i<o;++i){const r=n[i];(!t||r.visible)&&s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s=t._clip,i=!s.disabled,o=this.chartArea,r={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Lh(n,{left:s.left===!1?0:o.left-s.left,right:s.right===!1?this.width:o.right+s.right,top:s.top===!1?0:o.top-s.top,bottom:s.bottom===!1?this.height:o.bottom+s.bottom}),t.controller.draw(),i&&Rh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return _c(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const o=N7.modes[n];return typeof o=="function"?o(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=or(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);Fs(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),r.update(o,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),zi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),aS(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Vd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,r)=>{n.addEventListener(this,o,r),t[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};At(this.options.events,o=>s(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(c,d)=>{n.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(n.removeEventListener(this,c,d),delete t[c])},o=(c,d)=>{this.canvas&&this.resize(c,d)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",o),s("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():r()}unbindEvents(){At(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},At(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let o,r,a,c;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){r=t[a];const d=r&&this.getDatasetMeta(r.datasetIndex).controller;d&&d[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!Nd(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}_updateHoverStyles(t,n,s){const i=this.options.hover,o=(c,d)=>c.filter(h=>!d.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),r=o(n,t),a=s?t:o(t,n);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:o}=this,r=n,a=this._getActiveElements(t,i,s,r),c=fj(t),d=SG(t,this._lastEvent,s,c);s&&(this._lastEvent=null,Yt(o.onHover,[t,a,this],this),c&&Yt(o.onClick,[t,a,this],this));const h=!Nd(a,i);return(h||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=d,h}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}const HS=()=>At(co.instances,e=>e._plugins.invalidate()),xo=!0;Object.defineProperties(co,{defaults:{enumerable:xo,value:ht},instances:{enumerable:xo,value:Vd},overrides:{enumerable:xo,value:Hr},registry:{enumerable:xo,value:yi},version:{enumerable:xo,value:yG},getChart:{enumerable:xo,value:DT},register:{enumerable:xo,value:(...e)=>{yi.add(...e),HS()}},unregister:{enumerable:xo,value:(...e)=>{yi.remove(...e),HS()}}});function kT(e,t,n){const{startAngle:s,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:c}=t;let d=i/a;e.beginPath(),e.arc(o,r,a,s-d,n+d),c>i?(d=i/c,e.arc(o,r,c,n+d,s-d,!0)):e.arc(o,r,i,n+sn,s-sn),e.closePath(),e.clip()}function wG(e){return fy(e,["outerStart","outerEnd","innerStart","innerEnd"])}function DG(e,t,n,s){const i=wG(e.options.borderRadius),o=(n-t)/2,r=Math.min(o,s*t/2),a=c=>{const d=(n-Math.min(o,c))*s/2;return Dn(c,0,Math.min(o,d))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Dn(i.innerStart,0,r),innerEnd:Dn(i.innerEnd,0,r)}}function _a(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Zm(e,t,n,s,i,o){const{x:r,y:a,startAngle:c,pixelMargin:d,innerRadius:h}=t,p=Math.max(t.outerRadius+s+n-d,0),g=h>0?h+s+n+d:0;let y=0;const _=i-c;if(s){const oe=h>0?h-s:0,le=p>0?p-s:0,me=(oe+le)/2,Se=me!==0?_*me/(me+s):_;y=(_-Se)/2}const T=Math.max(.001,_*p-n/Xt)/p,w=(_-T)/2,k=c+w+y,x=i-w-y,{outerStart:$,outerEnd:L,innerStart:F,innerEnd:R}=DG(t,g,p,x-k),W=p-$,z=p-L,Y=k+$/W,N=x-L/z,G=g+F,j=g+R,J=k+F/G,ue=x-R/j;if(e.beginPath(),o){if(e.arc(r,a,p,Y,N),L>0){const me=_a(z,N,r,a);e.arc(me.x,me.y,L,N,x+sn)}const oe=_a(j,x,r,a);if(e.lineTo(oe.x,oe.y),R>0){const me=_a(j,ue,r,a);e.arc(me.x,me.y,R,x+sn,ue+Math.PI)}if(e.arc(r,a,g,x-R/g,k+F/g,!0),F>0){const me=_a(G,J,r,a);e.arc(me.x,me.y,F,J+Math.PI,k-sn)}const le=_a(W,k,r,a);if(e.lineTo(le.x,le.y),$>0){const me=_a(W,Y,r,a);e.arc(me.x,me.y,$,k-sn,Y)}}else{e.moveTo(r,a);const oe=Math.cos(Y)*p+r,le=Math.sin(Y)*p+a;e.lineTo(oe,le);const me=Math.cos(N)*p+r,Se=Math.sin(N)*p+a;e.lineTo(me,Se)}e.closePath()}function kG(e,t,n,s,i){const{fullCircles:o,startAngle:r,circumference:a}=t;let c=t.endAngle;if(o){Zm(e,t,n,s,r+Lt,i);for(let d=0;d<o;++d)e.fill();isNaN(a)||(c=r+a%Lt,a%Lt===0&&(c+=Lt))}return Zm(e,t,n,s,c,i),e.fill(),c}function TG(e,t,n){const{x:s,y:i,startAngle:o,pixelMargin:r,fullCircles:a}=t,c=Math.max(t.outerRadius-r,0),d=t.innerRadius+r;let h;for(n&&kT(e,t,o+Lt),e.beginPath(),e.arc(s,i,d,o+Lt,o,!0),h=0;h<a;++h)e.stroke();for(e.beginPath(),e.arc(s,i,c,o,o+Lt),h=0;h<a;++h)e.stroke()}function CG(e,t,n,s,i,o){const{options:r}=t,{borderWidth:a,borderJoinStyle:c}=r,d=r.borderAlign==="inner";a&&(d?(e.lineWidth=a*2,e.lineJoin=c||"round"):(e.lineWidth=a,e.lineJoin=c||"bevel"),t.fullCircles&&TG(e,t,d),d&&kT(e,t,i),Zm(e,t,n,s,i,o),e.stroke())}class Uh extends ri{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.getProps(["x","y"],s),{angle:o,distance:r}=Fk(i,{x:t,y:n}),{startAngle:a,endAngle:c,innerRadius:d,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=this.options.spacing/2,_=tt(p,c-a)>=Lt||vc(o,a,c),T=Qi(r,d+g,h+g);return _&&T}getCenterPoint(t){const{x:n,y:s,startAngle:i,endAngle:o,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:c,spacing:d}=this.options,h=(i+o)/2,p=(r+a+d+c)/2;return{x:n+Math.cos(h)*p,y:s+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:s}=this,i=(n.offset||0)/2,o=(n.spacing||0)/2,r=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Lt?Math.floor(s/Lt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(i){a=i/2;const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*a,Math.sin(d)*a),this.circumference>=Xt&&(a=i)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;const c=kG(t,this,a,o,r);CG(t,this,a,o,c,r),t.restore()}}Uh.id="arc";Uh.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Uh.defaultRoutes={backgroundColor:"backgroundColor"};function TT(e,t,n=t){e.lineCap=tt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(tt(n.borderDash,t.borderDash)),e.lineDashOffset=tt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=tt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=tt(n.borderWidth,t.borderWidth),e.strokeStyle=tt(n.borderColor,t.borderColor)}function EG(e,t,n){e.lineTo(n.x,n.y)}function xG(e){return e.stepped?Xj:e.tension||e.cubicInterpolationMode==="monotone"?Zj:EG}function CT(e,t,n={}){const s=e.length,{start:i=0,end:o=s-1}=n,{start:r,end:a}=t,c=Math.max(i,r),d=Math.min(o,a),h=i<r&&o<r||i>a&&o>a;return{count:s,start:c,loop:t.loop,ilen:d<c&&!h?s+d-c:d-c}}function MG(e,t,n,s){const{points:i,options:o}=t,{count:r,start:a,loop:c,ilen:d}=CT(i,n,s),h=xG(o);let{move:p=!0,reverse:g}=s||{},y,_,T;for(y=0;y<=d;++y)_=i[(a+(g?d-y:y))%r],!_.skip&&(p?(e.moveTo(_.x,_.y),p=!1):h(e,T,_,g,o.stepped),T=_);return c&&(_=i[(a+(g?d:0))%r],h(e,T,_,g,o.stepped)),!!c}function $G(e,t,n,s){const i=t.points,{count:o,start:r,ilen:a}=CT(i,n,s),{move:c=!0,reverse:d}=s||{};let h=0,p=0,g,y,_,T,w,k;const x=L=>(r+(d?a-L:L))%o,$=()=>{T!==w&&(e.lineTo(h,w),e.lineTo(h,T),e.lineTo(h,k))};for(c&&(y=i[x(0)],e.moveTo(y.x,y.y)),g=0;g<=a;++g){if(y=i[x(g)],y.skip)continue;const L=y.x,F=y.y,R=L|0;R===_?(F<T?T=F:F>w&&(w=F),h=(p*h+L)/++p):($(),e.lineTo(L,F),_=R,p=0,T=w=F),k=F}$()}function Jm(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?$G:MG}function AG(e){return e.stepped?x9:e.tension||e.cubicInterpolationMode==="monotone"?M9:Tr}function OG(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),TT(e,t.options),e.stroke(i)}function PG(e,t,n,s){const{segments:i,options:o}=t,r=Jm(t);for(const a of i)TT(e,o,a.style),e.beginPath(),r(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const LG=typeof Path2D=="function";function RG(e,t,n,s){LG&&!t.options.segment?OG(e,t,n,s):PG(e,t,n,s)}class rr extends ri{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;b9(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=N9(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],o=this.points,r=lT(this,{property:n,start:i,end:i});if(!r.length)return;const a=[],c=AG(s);let d,h;for(d=0,h=r.length;d<h;++d){const{start:p,end:g}=r[d],y=o[p],_=o[g];if(y===_){a.push(y);continue}const T=Math.abs((i-y[n])/(_[n]-y[n])),w=c(y,_,T,s.stepped);w[n]=t[n],a.push(w)}return a.length===1?a[0]:a}pathSegment(t,n,s){return Jm(this)(t,this,n,s)}path(t,n,s){const i=this.segments,o=Jm(this);let r=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)r&=o(t,this,a,{start:n,end:n+s-1});return!!r}draw(t,n,s,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),RG(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}rr.id="line";rr.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};rr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};rr.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function WS(e,t,n,s){const i=e.options,{[n]:o}=e.getProps([n],s);return Math.abs(t-o)<i.radius+i.hitRadius}class zh extends ri{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.options,{x:o,y:r}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(n-r,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return WS(this,t,"x",n)}inYRange(t,n){return WS(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){const s=this.options;this.skip||s.radius<.1||!_c(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Gm(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}zh.id="point";zh.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};zh.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function ET(e,t){const{x:n,y:s,base:i,width:o,height:r}=e.getProps(["x","y","base","width","height"],t);let a,c,d,h,p;return e.horizontal?(p=r/2,a=Math.min(n,i),c=Math.max(n,i),d=s-p,h=s+p):(p=o/2,a=n-p,c=n+p,d=Math.min(s,i),h=Math.max(s,i)),{left:a,top:d,right:c,bottom:h}}function Ho(e,t,n,s){return e?0:Dn(t,n,s)}function NG(e,t,n){const s=e.options.borderWidth,i=e.borderSkipped,o=Xk(s);return{t:Ho(i.top,o.top,0,n),r:Ho(i.right,o.right,0,t),b:Ho(i.bottom,o.bottom,0,n),l:Ho(i.left,o.left,0,t)}}function FG(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=Rr(i),r=Math.min(t,n),a=e.borderSkipped,c=s||ut(i);return{topLeft:Ho(!c||a.top||a.left,o.topLeft,0,r),topRight:Ho(!c||a.top||a.right,o.topRight,0,r),bottomLeft:Ho(!c||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Ho(!c||a.bottom||a.right,o.bottomRight,0,r)}}function IG(e){const t=ET(e),n=t.right-t.left,s=t.bottom-t.top,i=NG(e,n/2,s/2),o=FG(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function im(e,t,n,s){const i=t===null,o=n===null,a=e&&!(i&&o)&&ET(e,s);return a&&(i||Qi(t,a.left,a.right))&&(o||Qi(n,a.top,a.bottom))}function YG(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function HG(e,t){e.rect(t.x,t.y,t.w,t.h)}function om(e,t,n={}){const s=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-s,r=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+o,h:e.h+r,radius:e.radius}}class jh extends ri{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:o,outer:r}=IG(this),a=YG(r.radius)?bc:HG;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,om(r,n,o)),t.clip(),a(t,om(o,-n,r)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,om(o,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,s){return im(this,t,n,s)}inXRange(t,n){return im(this,t,null,n)}inYRange(t,n){return im(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+i)/2:n,y:o?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}jh.id="bar";jh.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};jh.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var WG=Object.freeze({__proto__:null,ArcElement:Uh,LineElement:rr,PointElement:zh,BarElement:jh});function BG(e,t,n,s,i){const o=i.samples||s;if(o>=n)return e.slice(t,t+n);const r=[],a=(n-2)/(o-2);let c=0;const d=t+n-1;let h=t,p,g,y,_,T;for(r[c++]=e[h],p=0;p<o-2;p++){let w=0,k=0,x;const $=Math.floor((p+1)*a)+1+t,L=Math.min(Math.floor((p+2)*a)+1,n)+t,F=L-$;for(x=$;x<L;x++)w+=e[x].x,k+=e[x].y;w/=F,k/=F;const R=Math.floor(p*a)+1+t,W=Math.min(Math.floor((p+1)*a)+1,n)+t,{x:z,y:Y}=e[h];for(y=_=-1,x=R;x<W;x++)_=.5*Math.abs((z-w)*(e[x].y-Y)-(z-e[x].x)*(k-Y)),_>y&&(y=_,g=e[x],T=x);r[c++]=g,h=T}return r[c++]=e[d],r}function VG(e,t,n,s){let i=0,o=0,r,a,c,d,h,p,g,y,_,T;const w=[],k=t+n-1,x=e[t].x,L=e[k].x-x;for(r=t;r<t+n;++r){a=e[r],c=(a.x-x)/L*s,d=a.y;const F=c|0;if(F===h)d<_?(_=d,p=r):d>T&&(T=d,g=r),i=(o*i+a.x)/++o;else{const R=r-1;if(!bt(p)&&!bt(g)){const W=Math.min(p,g),z=Math.max(p,g);W!==y&&W!==R&&w.push({...e[W],x:i}),z!==y&&z!==R&&w.push({...e[z],x:i})}r>0&&R!==y&&w.push(e[R]),w.push(a),h=F,o=0,_=T=d,p=g=y=r}}return w}function xT(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function BS(e){e.data.datasets.forEach(t=>{xT(t)})}function UG(e,t){const n=t.length;let s=0,i;const{iScale:o}=e,{min:r,max:a,minDefined:c,maxDefined:d}=o.getUserBounds();return c&&(s=Dn(eo(t,o.axis,r).lo,0,n-1)),d?i=Dn(eo(t,o.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var zG={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){BS(e);return}const s=e.width;e.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,c=e.getDatasetMeta(o),d=r||i.data;if(Ll([a,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const h=e.scales[c.xAxisID];if(h.type!=="linear"&&h.type!=="time"||e.options.parsing)return;let{start:p,count:g}=UG(c,d);const y=n.threshold||4*s;if(g<=y){xT(i);return}bt(r)&&(i._data=d,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(T){this._data=T}}));let _;switch(n.algorithm){case"lttb":_=BG(d,p,g,s,n);break;case"min-max":_=VG(d,p,g,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=_})},destroy(e){BS(e)}};function jG(e,t,n){const s=e.segments,i=e.points,o=t.points,r=[];for(const a of s){let{start:c,end:d}=a;d=_y(c,d,i);const h=Qm(n,i[c],i[d],a.loop);if(!t.segments){r.push({source:a,target:h,start:i[c],end:i[d]});continue}const p=lT(t,h);for(const g of p){const y=Qm(n,o[g.start],o[g.end],g.loop),_=aT(a,i,y);for(const T of _)r.push({source:T,target:g,start:{[n]:VS(h,y,"start",Math.max)},end:{[n]:VS(h,y,"end",Math.min)}})}}return r}function Qm(e,t,n,s){if(s)return;let i=t[e],o=n[e];return e==="angle"&&(i=gs(i),o=gs(o)),{property:e,start:i,end:o}}function GG(e,t){const{x:n=null,y:s=null}=e||{},i=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=_y(r,a,i);const c=i[r],d=i[a];s!==null?(o.push({x:c.x,y:s}),o.push({x:d.x,y:s})):n!==null&&(o.push({x:n,y:c.y}),o.push({x:n,y:d.y}))}),o}function _y(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function VS(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function MT(e,t){let n=[],s=!1;return Wt(e)?(s=!0,n=e):n=GG(e,t),n.length?new rr({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function US(e){return e&&e.fill!==!1}function KG(e,t,n){let i=e[t].fill;const o=[t];let r;if(!n)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!cn(i))return i;if(r=e[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function qG(e,t,n){const s=QG(e);if(ut(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return cn(i)&&Math.floor(i)===i?XG(s[0],t,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function XG(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function ZG(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ut(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function JG(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:ut(e)?s=e.value:s=t.getBaseValue(),s}function QG(e){const t=e.options,n=t.fill;let s=tt(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function eK(e){const{scale:t,index:n,line:s}=e,i=[],o=s.segments,r=s.points,a=tK(t,n);a.push(MT({x:null,y:t.bottom},s));for(let c=0;c<o.length;c++){const d=o[c];for(let h=d.start;h<=d.end;h++)nK(i,r[h],a)}return new rr({points:i,options:{}})}function tK(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const o=s[i];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function nK(e,t,n){const s=[];for(let i=0;i<n.length;i++){const o=n[i],{first:r,last:a,point:c}=sK(o,t,"x");if(!(!c||r&&a)){if(r)s.unshift(c);else if(e.push(c),!a)break}}e.push(...s)}function sK(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const i=s[n],o=e.segments,r=e.points;let a=!1,c=!1;for(let d=0;d<o.length;d++){const h=o[d],p=r[h.start][n],g=r[h.end][n];if(Qi(i,p,g)){a=i===p,c=i===g;break}}return{first:a,last:c,point:s}}class $T{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:i,y:o,radius:r}=this;return n=n||{start:0,end:Lt},t.arc(i,o,r,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:i}=this,o=t.angle;return{x:n+Math.cos(o)*i,y:s+Math.sin(o)*i,angle:o}}}function iK(e){const{chart:t,fill:n,line:s}=e;if(cn(n))return oK(t,n);if(n==="stack")return eK(e);if(n==="shape")return!0;const i=rK(e);return i instanceof $T?i:MT(i,s)}function oK(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function rK(e){return(e.scale||{}).getPointPositionForValue?lK(e):aK(e)}function aK(e){const{scale:t={},fill:n}=e,s=ZG(n,t);if(cn(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function lK(e){const{scale:t,fill:n}=e,s=t.options,i=t.getLabels().length,o=s.reverse?t.max:t.min,r=JG(n,t,o),a=[];if(s.grid.circular){const c=t.getPointPositionForValue(0,o);return new $T({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(r)})}for(let c=0;c<i;++c)a.push(t.getPointPositionForValue(c,r));return a}function rm(e,t,n){const s=iK(t),{line:i,scale:o,axis:r}=t,a=i.options,c=a.fill,d=a.backgroundColor,{above:h=d,below:p=d}=c||{};s&&i.points.length&&(Lh(e,n),cK(e,{line:i,target:s,above:h,below:p,area:n,scale:o,axis:r}),Rh(e))}function cK(e,t){const{line:n,target:s,above:i,below:o,area:r,scale:a}=t,c=n._loop?"angle":t.axis;e.save(),c==="x"&&o!==i&&(zS(e,s,r.top),jS(e,{line:n,target:s,color:i,scale:a,property:c}),e.restore(),e.save(),zS(e,s,r.bottom)),jS(e,{line:n,target:s,color:o,scale:a,property:c}),e.restore()}function zS(e,t,n){const{segments:s,points:i}=t;let o=!0,r=!1;e.beginPath();for(const a of s){const{start:c,end:d}=a,h=i[c],p=i[_y(c,d,i)];o?(e.moveTo(h.x,h.y),o=!1):(e.lineTo(h.x,n),e.lineTo(h.x,h.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(p.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function jS(e,t){const{line:n,target:s,property:i,color:o,scale:r}=t,a=jG(n,s,i);for(const{source:c,target:d,start:h,end:p}of a){const{style:{backgroundColor:g=o}={}}=c,y=s!==!0;e.save(),e.fillStyle=g,uK(e,r,y&&Qm(i,h,p)),e.beginPath();const _=!!n.pathSegment(e,c);let T;if(y){_?e.closePath():GS(e,s,p,i);const w=!!s.pathSegment(e,d,{move:_,reverse:!0});T=_&&w,T||GS(e,s,h,i)}e.closePath(),e.fill(T?"evenodd":"nonzero"),e.restore()}}function uK(e,t,n){const{top:s,bottom:i}=t.chart.chartArea,{property:o,start:r,end:a}=n||{};o==="x"&&(e.beginPath(),e.rect(r,s,a-r,i-s),e.clip())}function GS(e,t,n,s){const i=t.interpolate(n,s);i&&e.lineTo(i.x,i.y)}var dK={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,i=[];let o,r,a,c;for(r=0;r<s;++r)o=e.getDatasetMeta(r),a=o.dataset,c=null,a&&a.options&&a instanceof rr&&(c={visible:e.isDatasetVisible(r),index:r,fill:qG(a,r,s),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(r=0;r<s;++r)c=i[r],!(!c||c.fill===!1)&&(c.fill=KG(i,r,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),s&&a.fill&&rm(e.ctx,a,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const o=s[i].$filler;US(o)&&rm(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!US(s)||n.drawTime!=="beforeDatasetDraw"||rm(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const KS=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},hK=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class qS extends ri{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Yt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=vn(s.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=KS(s,o);let d,h;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(r,o,a,c)+10):(h=this.maxHeight,d=this._fitCols(r,o,a,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=i+a;let p=t;o.textAlign="left",o.textBaseline="middle";let g=-1,y=-h;return this.legendItems.forEach((_,T)=>{const w=s+n/2+o.measureText(_.text).width;(T===0||d[d.length-1]+w+2*a>r)&&(p+=h,d[d.length-(T>0?0:1)]=0,y+=h,g++),c[T]={left:0,top:y,row:g,width:w,height:i},d[d.length-1]+=w+a}),p}_fitCols(t,n,s,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=r-t;let p=a,g=0,y=0,_=0,T=0;return this.legendItems.forEach((w,k)=>{const x=s+n/2+o.measureText(w.text).width;k>0&&y+i+2*a>h&&(p+=g+a,d.push({width:g,height:y}),_+=g+a,T++,g=y=0),c[k]={left:_,top:y,col:T,width:x,height:i},g=Math.max(g,x),y+=i+a}),p+=g,d.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:o}}=this,r=La(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=Rn(s,this.left+i,this.right-this.lineWidths[a]);for(const d of n)a!==d.row&&(a=d.row,c=Rn(s,this.left+i,this.right-this.lineWidths[a])),d.top+=this.top+t+i,d.left=r.leftForLtr(r.x(c),d.width),c+=d.width+i}else{let a=0,c=Rn(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const d of n)d.col!==a&&(a=d.col,c=Rn(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),d.top=c,d.left+=this.left+i,d.left=r.leftForLtr(r.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Lh(t,this),this._draw(),Rh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:o,labels:r}=t,a=ht.color,c=La(t.rtl,this.left,this.width),d=vn(r.font),{color:h,padding:p}=r,g=d.size,y=g/2;let _;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:T,boxHeight:w,itemHeight:k}=KS(r,g),x=function(W,z,Y){if(isNaN(T)||T<=0||isNaN(w)||w<0)return;i.save();const N=tt(Y.lineWidth,1);if(i.fillStyle=tt(Y.fillStyle,a),i.lineCap=tt(Y.lineCap,"butt"),i.lineDashOffset=tt(Y.lineDashOffset,0),i.lineJoin=tt(Y.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=tt(Y.strokeStyle,a),i.setLineDash(tt(Y.lineDash,[])),r.usePointStyle){const G={radius:w*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:N},j=c.xPlus(W,T/2),J=z+y;qk(i,G,j,J,r.pointStyleWidth&&T)}else{const G=z+Math.max((g-w)/2,0),j=c.leftForLtr(W,T),J=Rr(Y.borderRadius);i.beginPath(),Object.values(J).some(ue=>ue!==0)?bc(i,{x:j,y:G,w:T,h:w,radius:J}):i.rect(j,G,T,w),i.fill(),N!==0&&i.stroke()}i.restore()},$=function(W,z,Y){Wr(i,Y.text,W,z+k/2,d,{strikethrough:Y.hidden,textAlign:c.textAlign(Y.textAlign)})},L=this.isHorizontal(),F=this._computeTitleHeight();L?_={x:Rn(o,this.left+p,this.right-s[0]),y:this.top+p+F,line:0}:_={x:this.left+p,y:Rn(o,this.top+F+p,this.bottom-n[0].height),line:0},iT(this.ctx,t.textDirection);const R=k+p;this.legendItems.forEach((W,z)=>{i.strokeStyle=W.fontColor||h,i.fillStyle=W.fontColor||h;const Y=i.measureText(W.text).width,N=c.textAlign(W.textAlign||(W.textAlign=r.textAlign)),G=T+y+Y;let j=_.x,J=_.y;c.setWidth(this.width),L?z>0&&j+G+p>this.right&&(J=_.y+=R,_.line++,j=_.x=Rn(o,this.left+p,this.right-s[_.line])):z>0&&J+R>this.bottom&&(j=_.x=j+n[_.line].width+p,_.line++,J=_.y=Rn(o,this.top+F+p,this.bottom-n[_.line].height));const ue=c.x(j);x(ue,J,W),j=kj(N,j+T+y,L?j+G:this.right,t.rtl),$(c.x(j),J,W),L?_.x+=G+p:_.y+=R}),oT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=vn(n.font),i=Hn(n.padding);if(!n.display)return;const o=La(t.rtl,this.left,this.width),r=this.ctx,a=n.position,c=s.size/2,d=i.top+c;let h,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+d,p=Rn(t.align,p,this.right-g);else{const _=this.columnSizes.reduce((T,w)=>Math.max(T,w.height),0);h=d+Rn(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const y=Rn(a,p,p+g);r.textAlign=o.textAlign(cy(a)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=s.string,Wr(r,n.text,y,h,s)}_computeTitleHeight(){const t=this.options.title,n=vn(t.font),s=Hn(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,o;if(Qi(t,this.left,this.right)&&Qi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(i=o[s],Qi(t,i.left,i.left+i.width)&&Qi(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!fK(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=hK(i,s);i&&!o&&Yt(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!o&&Yt(n.onHover,[t,s,this],this)}else s&&Yt(n.onClick,[t,s,this],this)}}function fK(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var pK={id:"legend",_element:qS,start(e,t,n){const s=e.legend=new qS({ctx:e.ctx,options:n,chart:e});In.configure(e,s,n),In.addBox(e,s)},stop(e){In.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;In.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:o}}=e.legend.options;return e._getSortedDatasetMetas().map(r=>{const a=r.controller.getStyle(n?0:void 0),c=Hn(a.borderWidth);return{text:t[r.index].label,fillStyle:a.backgroundColor,fontColor:o,hidden:!r.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:a.borderColor,pointStyle:s||a.pointStyle,rotation:a.rotation,textAlign:i||a.textAlign,borderRadius:0,datasetIndex:r.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class by extends ri{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Wt(s.text)?s.text.length:1;this._padding=Hn(s.padding);const o=i*vn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:o,options:r}=this,a=r.align;let c=0,d,h,p;return this.isHorizontal()?(h=Rn(a,s,o),p=n+t,d=o-s):(r.position==="left"?(h=s+t,p=Rn(a,i,n),c=Xt*-.5):(h=o-t,p=Rn(a,n,i),c=Xt*.5),d=i-n),{titleX:h,titleY:p,maxWidth:d,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=vn(n.font),o=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:c,rotation:d}=this._drawArgs(o);Wr(t,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:d,textAlign:cy(n.align),textBaseline:"middle",translation:[r,a]})}}function mK(e,t){const n=new by({ctx:e.ctx,options:t,chart:e});In.configure(e,n,t),In.addBox(e,n),e.titleBlock=n}var gK={id:"title",_element:by,start(e,t,n){mK(e,n)},stop(e){const t=e.titleBlock;In.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;In.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ed=new WeakMap;var yK={id:"subtitle",start(e,t,n){const s=new by({ctx:e.ctx,options:n,chart:e});In.configure(e,s,n),In.addBox(e,s),ed.set(e,s)},stop(e){In.removeBox(e,ed.get(e)),ed.delete(e)},beforeUpdate(e,t,n){const s=ed.get(e);In.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xl={average(e){if(!e.length)return!1;let t,n,s=0,i=0,o=0;for(t=0,n=e.length;t<n;++t){const r=e[t].element;if(r&&r.hasValue()){const a=r.tooltipPosition();s+=a.x,i+=a.y,++o}}return{x:s/o,y:i/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const c=e[o].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),h=Um(t,d);h<i&&(i=h,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function fi(e,t){return t&&(Wt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ji(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function vK(e,t){const{element:n,datasetIndex:s,index:i}=t,o=e.getDatasetMeta(s).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:e,label:r,parsed:o.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function XS(e,t){const n=e.chart.ctx,{body:s,footer:i,title:o}=e,{boxWidth:r,boxHeight:a}=t,c=vn(t.bodyFont),d=vn(t.titleFont),h=vn(t.footerFont),p=o.length,g=i.length,y=s.length,_=Hn(t.padding);let T=_.height,w=0,k=s.reduce((L,F)=>L+F.before.length+F.lines.length+F.after.length,0);if(k+=e.beforeBody.length+e.afterBody.length,p&&(T+=p*d.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),k){const L=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;T+=y*L+(k-y)*c.lineHeight+(k-1)*t.bodySpacing}g&&(T+=t.footerMarginTop+g*h.lineHeight+(g-1)*t.footerSpacing);let x=0;const $=function(L){w=Math.max(w,n.measureText(L).width+x)};return n.save(),n.font=d.string,At(e.title,$),n.font=c.string,At(e.beforeBody.concat(e.afterBody),$),x=t.displayColors?r+2+t.boxPadding:0,At(s,L=>{At(L.before,$),At(L.lines,$),At(L.after,$)}),x=0,n.font=h.string,At(e.footer,$),n.restore(),w+=_.width,{width:w,height:T}}function _K(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function bK(e,t,n,s){const{x:i,width:o}=s,r=n.caretSize+n.caretPadding;if(e==="left"&&i+o+r>t.width||e==="right"&&i-o-r<0)return!0}function SK(e,t,n,s){const{x:i,width:o}=n,{width:r,chartArea:{left:a,right:c}}=e;let d="center";return s==="center"?d=i<=(a+c)/2?"left":"right":i<=o/2?d="left":i>=r-o/2&&(d="right"),bK(d,e,t,n)&&(d="center"),d}function ZS(e,t,n){const s=n.yAlign||t.yAlign||_K(e,n);return{xAlign:n.xAlign||t.xAlign||SK(e,t,n,s),yAlign:s}}function wK(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function DK(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function JS(e,t,n,s){const{caretSize:i,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:c}=n,d=i+o,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:y}=Rr(r);let _=wK(t,a);const T=DK(t,c,d);return c==="center"?a==="left"?_+=d:a==="right"&&(_-=d):a==="left"?_-=Math.max(h,g)+i:a==="right"&&(_+=Math.max(p,y)+i),{x:Dn(_,0,s.width-t.width),y:Dn(T,0,s.height-t.height)}}function td(e,t,n){const s=Hn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function QS(e){return fi([],ji(e))}function kK(e,t,n){return or(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function ew(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class eg extends ri{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,o=new cT(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=kK(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=s.beforeTitle.apply(this,[t]),o=s.title.apply(this,[t]),r=s.afterTitle.apply(this,[t]);let a=[];return a=fi(a,ji(i)),a=fi(a,ji(o)),a=fi(a,ji(r)),a}getBeforeBody(t,n){return QS(n.callbacks.beforeBody.apply(this,[t]))}getBody(t,n){const{callbacks:s}=n,i=[];return At(t,o=>{const r={before:[],lines:[],after:[]},a=ew(s,o);fi(r.before,ji(a.beforeLabel.call(this,o))),fi(r.lines,a.label.call(this,o)),fi(r.after,ji(a.afterLabel.call(this,o))),i.push(r)}),i}getAfterBody(t,n){return QS(n.callbacks.afterBody.apply(this,[t]))}getFooter(t,n){const{callbacks:s}=n,i=s.beforeFooter.apply(this,[t]),o=s.footer.apply(this,[t]),r=s.afterFooter.apply(this,[t]);let a=[];return a=fi(a,ji(i)),a=fi(a,ji(o)),a=fi(a,ji(r)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],o=[],r=[];let a=[],c,d;for(c=0,d=n.length;c<d;++c)a.push(vK(this.chart,n[c]));return t.filter&&(a=a.filter((h,p,g)=>t.filter(h,p,g,s))),t.itemSort&&(a=a.sort((h,p)=>t.itemSort(h,p,s))),At(a,h=>{const p=ew(t.callbacks,h);i.push(p.labelColor.call(this,h)),o.push(p.labelPointStyle.call(this,h)),r.push(p.labelTextColor.call(this,h))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=Xl[s.position].call(this,i,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const c=this._size=XS(this,s),d=Object.assign({},a,c),h=ZS(this.chart,s,d),p=JS(s,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const o=this.getCaretPosition(t,s,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=s,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:p}=Rr(a),{x:g,y}=t,{width:_,height:T}=n;let w,k,x,$,L,F;return o==="center"?(L=y+T/2,i==="left"?(w=g,k=w-r,$=L+r,F=L-r):(w=g+_,k=w+r,$=L-r,F=L+r),x=w):(i==="left"?k=g+Math.max(c,h)+r:i==="right"?k=g+_-Math.max(d,p)-r:k=this.caretX,o==="top"?($=y,L=$-r,w=k-r,x=k+r):($=y+T,L=$+r,w=k+r,x=k-r),F=$),{x1:w,x2:k,x3:x,y1:$,y2:L,y3:F}}drawTitle(t,n,s){const i=this.title,o=i.length;let r,a,c;if(o){const d=La(s.rtl,this.x,this.width);for(t.x=td(this,s.titleAlign,s),n.textAlign=d.textAlign(s.titleAlign),n.textBaseline="middle",r=vn(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=r.string,c=0;c<o;++c)n.fillText(i[c],d.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,c+1===o&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,o){const r=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:d,boxPadding:h}=o,p=vn(o.bodyFont),g=td(this,"left",o),y=i.x(g),_=c<p.lineHeight?(p.lineHeight-c)/2:0,T=n.y+_;if(o.usePointStyle){const w={radius:Math.min(d,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},k=i.leftForLtr(y,d)+d/2,x=T+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Gm(t,w,k,x),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Gm(t,w,k,x)}else{t.lineWidth=ut(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const w=i.leftForLtr(y,d-h),k=i.leftForLtr(i.xPlus(y,1),d-h-2),x=Rr(r.borderRadius);Object.values(x).some($=>$!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,bc(t,{x:w,y:T,w:d,h:c,radius:x}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),bc(t,{x:k,y:T+1,w:d-2,h:c-2,radius:x}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(w,T,d,c),t.strokeRect(w,T,d,c),t.fillStyle=r.backgroundColor,t.fillRect(k,T+1,d-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:c,boxWidth:d,boxPadding:h}=s,p=vn(s.bodyFont);let g=p.lineHeight,y=0;const _=La(s.rtl,this.x,this.width),T=function(z){n.fillText(z,_.x(t.x+y),t.y+g/2),t.y+=g+o},w=_.textAlign(r);let k,x,$,L,F,R,W;for(n.textAlign=r,n.textBaseline="middle",n.font=p.string,t.x=td(this,w,s),n.fillStyle=s.bodyColor,At(this.beforeBody,T),y=a&&w!=="right"?r==="center"?d/2+h:d+2+h:0,L=0,R=i.length;L<R;++L){for(k=i[L],x=this.labelTextColors[L],n.fillStyle=x,At(k.before,T),$=k.lines,a&&$.length&&(this._drawColorBox(n,t,L,_,s),g=Math.max(p.lineHeight,c)),F=0,W=$.length;F<W;++F)T($[F]),g=p.lineHeight;At(k.after,T)}y=0,g=p.lineHeight,At(this.afterBody,T),t.y-=o}drawFooter(t,n,s){const i=this.footer,o=i.length;let r,a;if(o){const c=La(s.rtl,this.x,this.width);for(t.x=td(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",r=vn(s.footerFont),n.fillStyle=s.footerColor,n.font=r.string,a=0;a<o;++a)n.fillText(i[a],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:o,yAlign:r}=this,{x:a,y:c}=t,{width:d,height:h}=s,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:_}=Rr(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+p,c),r==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+d-g,c),n.quadraticCurveTo(a+d,c,a+d,c+g),r==="center"&&o==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+d,c+h-_),n.quadraticCurveTo(a+d,c+h,a+d-_,c+h),r==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+y,c+h),n.quadraticCurveTo(a,c+h,a,c+h-y),r==="center"&&o==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,c+p),n.quadraticCurveTo(a,c,a+p,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,o=s&&s.y;if(i||o){const r=Xl[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=XS(this,t),c=Object.assign({},r,this._size),d=ZS(n,t,c),h=JS(t,c,d,n);(i._to!==h.x||o._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=Hn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,i,n),iT(t,n.textDirection),o.y+=r.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),oT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:c})=>{const d=this.chart.getDatasetMeta(a);if(!d)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:d.data[c],index:c}}),o=!Nd(s,i),r=this._positionChanged(i,n);(o||r)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,n,s),a=this._positionChanged(r,t),c=n||!Nd(r,o)||a;return c&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,s,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return n;const r=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&r.reverse(),r}_positionChanged(t,n){const{caretX:s,caretY:i,options:o}=this,r=Xl[o.position].call(this,t,n);return r!==!1&&(s!==r.x||i!==r.y)}}eg.positioners=Xl;var TK={id:"tooltip",_element:eg,positioners:Xl,afterInit(e,t,n){n&&(e.tooltip=new eg({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",n)===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Bi,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Bi,beforeBody:Bi,beforeLabel:Bi,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return bt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bi,afterBody:Bi,beforeFooter:Bi,footer:Bi,afterFooter:Bi}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},CK=Object.freeze({__proto__:null,Decimation:zG,Filler:dK,Legend:pK,SubTitle:yK,Title:gK,Tooltip:TK});const EK=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function xK(e,t,n,s){const i=e.indexOf(t);if(i===-1)return EK(e,t,n,s);const o=e.lastIndexOf(t);return i!==o?n:i}const MK=(e,t)=>e===null?null:Dn(Math.round(e),0,t);class Ud extends Kr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:o}of n)s[i]===o&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(bt(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:xK(s,t,tt(n,t),this._addedLabels),MK(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=t;r<=n;r++)i.push({value:r});return i}getLabelForValue(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ud.id="category";Ud.defaults={ticks:{callback:Ud.prototype.getLabelForValue}};function $K(e,t){const n=[],{bounds:i,step:o,min:r,max:a,precision:c,count:d,maxTicks:h,maxDigits:p,includeBounds:g}=e,y=o||1,_=h-1,{min:T,max:w}=t,k=!bt(r),x=!bt(a),$=!bt(d),L=(w-T)/(p+1);let F=Z0((w-T)/_/y)*y,R,W,z,Y;if(F<1e-14&&!k&&!x)return[{value:T},{value:w}];Y=Math.ceil(w/F)-Math.floor(T/F),Y>_&&(F=Z0(Y*F/_/y)*y),bt(c)||(R=Math.pow(10,c),F=Math.ceil(F*R)/R),i==="ticks"?(W=Math.floor(T/F)*F,z=Math.ceil(w/F)*F):(W=T,z=w),k&&x&&o&&yj((a-r)/o,F/1e3)?(Y=Math.round(Math.min((a-r)/F,h)),F=(a-r)/Y,W=r,z=a):$?(W=k?r:W,z=x?a:z,Y=d-1,F=(z-W)/Y):(Y=(z-W)/F,Gl(Y,Math.round(Y),F/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const N=Math.max(J0(F),J0(W));R=Math.pow(10,bt(c)?N:c),W=Math.round(W*R)/R,z=Math.round(z*R)/R;let G=0;for(k&&(g&&W!==r?(n.push({value:r}),W<r&&G++,Gl(Math.round((W+G*F)*R)/R,r,tw(r,L,e))&&G++):W<r&&G++);G<Y;++G)n.push({value:Math.round((W+G*F)*R)/R});return x&&g&&z!==a?n.length&&Gl(n[n.length-1].value,a,tw(a,L,e))?n[n.length-1].value=a:n.push({value:a}):(!x||z===a)&&n.push({value:z}),n}function tw(e,t,{horizontal:n,minRotation:s}){const i=Xs(s),o=(n?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class zd extends Kr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this;const r=c=>i=n?i:c,a=c=>o=s?o:c;if(t){const c=_i(i),d=_i(o);c<0&&d<0?a(0):c>0&&d>0&&r(0)}if(i===o){let c=1;(o>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(c=Math.abs(o*.05)),a(o+c),t||r(i-c)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,r=$K(i,o);return t.bounds==="ticks"&&Nk(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return Ic(t,this.chart.options.locale,this.options.ticks.format)}}class Sy extends zd{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=cn(t)?t:0,this.max=cn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Xs(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Sy.id="linear";Sy.defaults={ticks:{callback:Bh.formatters.numeric}};function nw(e){return e/Math.pow(10,Math.floor(Ps(e)))===1}function AK(e,t){const n=Math.floor(Ps(t.max)),s=Math.ceil(t.max/Math.pow(10,n)),i=[];let o=As(e.min,Math.pow(10,Math.floor(Ps(t.min)))),r=Math.floor(Ps(o)),a=Math.floor(o/Math.pow(10,r)),c=r<0?Math.pow(10,Math.abs(r)):1;do i.push({value:o,major:nw(o)}),++a,a===10&&(a=1,++r,c=r>=0?1:c),o=Math.round(a*Math.pow(10,r)*c)/c;while(r<n||r===n&&a<s);const d=As(e.max,o);return i.push({value:d,major:nw(o)}),i}class wy extends Kr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const s=zd.prototype.parse.apply(this,[t,n]);if(s===0){this._zero=!0;return}return cn(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=cn(t)?Math.max(0,t):null,this.max=cn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const o=c=>s=t?s:c,r=c=>i=n?i:c,a=(c,d)=>Math.pow(10,Math.floor(Ps(c))+d);s===i&&(s<=0?(o(1),r(10)):(o(a(s,-1)),r(a(i,1)))),s<=0&&o(a(i,-1)),i<=0&&r(a(s,1)),this._zero&&this.min!==this._suggestedMin&&s===a(this.min,0)&&o(a(s,-1)),this.min=s,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},s=AK(n,this);return t.bounds==="ticks"&&Nk(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":Ic(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ps(t),this._valueRange=Ps(this.max)-Ps(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ps(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}wy.id="logarithmic";wy.defaults={ticks:{callback:Bh.formatters.logarithmic,major:{enabled:!0}}};function tg(e){const t=e.ticks;if(t.display&&e.display){const n=Hn(t.backdropPadding);return tt(t.font&&t.font.size,ht.font.size)+n.height}return 0}function OK(e,t,n){return n=Wt(n)?n:[n],{w:qj(e,t.string,n),h:n.length*t.lineHeight}}function sw(e,t,n,s,i){return e===s||e===i?{start:t-n/2,end:t+n/2}:e<s||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function PK(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),s=[],i=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?Xt/o:0;for(let c=0;c<o;c++){const d=r.setContext(e.getPointLabelContext(c));i[c]=d.padding;const h=e.getPointPosition(c,e.drawingArea+i[c],a),p=vn(d.font),g=OK(e.ctx,p,e._pointLabels[c]);s[c]=g;const y=gs(e.getIndexAngle(c)+a),_=Math.round(ay(y)),T=sw(_,h.x,g.w,0,180),w=sw(_,h.y,g.h,90,270);LK(n,t,y,T,w)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=RK(e,s,i)}function LK(e,t,n,s,i){const o=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let a=0,c=0;s.start<t.l?(a=(t.l-s.start)/o,e.l=Math.min(e.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(c=(t.t-i.start)/r,e.t=Math.min(e.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/r,e.b=Math.max(e.b,t.b+c))}function RK(e,t,n){const s=[],i=e._pointLabels.length,o=e.options,r=tg(o)/2,a=e.drawingArea,c=o.pointLabels.centerPointLabels?Xt/i:0;for(let d=0;d<i;d++){const h=e.getPointPosition(d,a+r+n[d],c),p=Math.round(ay(gs(h.angle+sn))),g=t[d],y=IK(h.y,g.h,p),_=NK(p),T=FK(h.x,g.w,_);s.push({x:h.x,y,textAlign:_,left:T,top:y,right:T+g.w,bottom:y+g.h})}return s}function NK(e){return e===0||e===180?"center":e<180?"left":"right"}function FK(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function IK(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function YK(e,t){const{ctx:n,options:{pointLabels:s}}=e;for(let i=t-1;i>=0;i--){const o=s.setContext(e.getPointLabelContext(i)),r=vn(o.font),{x:a,y:c,textAlign:d,left:h,top:p,right:g,bottom:y}=e._pointLabelItems[i],{backdropColor:_}=o;if(!bt(_)){const T=Rr(o.borderRadius),w=Hn(o.backdropPadding);n.fillStyle=_;const k=h-w.left,x=p-w.top,$=g-h+w.width,L=y-p+w.height;Object.values(T).some(F=>F!==0)?(n.beginPath(),bc(n,{x:k,y:x,w:$,h:L,radius:T}),n.fill()):n.fillRect(k,x,$,L)}Wr(n,e._pointLabels[i],a,c+r.lineHeight/2,r,{color:o.color,textAlign:d,textBaseline:"middle"})}}function AT(e,t,n,s){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Lt);else{let o=e.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let r=1;r<s;r++)o=e.getPointPosition(r,t),i.lineTo(o.x,o.y)}}function HK(e,t,n,s){const i=e.ctx,o=t.circular,{color:r,lineWidth:a}=t;!o&&!s||!r||!a||n<0||(i.save(),i.strokeStyle=r,i.lineWidth=a,i.setLineDash(t.borderDash),i.lineDashOffset=t.borderDashOffset,i.beginPath(),AT(e,n,o,s),i.closePath(),i.stroke(),i.restore())}function WK(e,t,n){return or(e,{label:n,index:t,type:"pointLabel"})}class Hc extends zd{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Hn(tg(this.options)/2),n=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=cn(t)&&!isNaN(t)?t:0,this.max=cn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/tg(this.options))}generateTickLabels(t){zd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,s)=>{const i=Yt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?PK(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,s,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,s,i))}getIndexAngle(t){const n=Lt/(this._pointLabels.length||1),s=this.options.startAngle||0;return gs(t*n+Xs(s))}getDistanceFromCenterForValue(t){if(bt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(bt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const s=n[t];return WK(this.getContext(),t,s)}}getPointPosition(t,n,s=0){const i=this.getIndexAngle(t)-sn+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:s,right:i,bottom:o}=this._pointLabelItems[t];return{left:n,top:s,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),AT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:s,grid:i}=n,o=this._pointLabels.length;let r,a,c;if(n.pointLabels.display&&YK(this,o),i.display&&this.ticks.forEach((d,h)=>{if(h!==0){a=this.getDistanceFromCenterForValue(d.value);const p=i.setContext(this.getContext(h-1));HK(this,p,a,o)}}),s.display){for(t.save(),r=o-1;r>=0;r--){const d=s.setContext(this.getPointLabelContext(r)),{color:h,lineWidth:p}=d;!p||!h||(t.lineWidth=p,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(r,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&!n.reverse)return;const d=s.setContext(this.getContext(c)),h=vn(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=h.string,r=t.measureText(a.label).width,t.fillStyle=d.backdropColor;const p=Hn(d.backdropPadding);t.fillRect(-r/2-p.left,-o-h.size/2-p.top,r+p.width,h.size+p.height)}Wr(t,a.label,0,-o,h,{color:d.color})}),t.restore()}drawTitle(){}}Hc.id="radialLinear";Hc.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};Hc.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Hc.descriptors={angleLines:{_fallback:"grid"}};const Gh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ss=Object.keys(Gh);function BK(e,t){return e-t}function iw(e,t){if(bt(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:o}=e._parseOpts;let r=t;return typeof s=="function"&&(r=s(r)),cn(r)||(r=typeof s=="string"?n.parse(r,s):n.parse(r)),r===null?null:(i&&(r=i==="week"&&(Ba(o)||o===!0)?n.startOf(r,"isoWeek",o):n.startOf(r,i)),+r)}function ow(e,t,n,s){const i=ss.length;for(let o=ss.indexOf(e);o<i-1;++o){const r=Gh[ss[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-t)/(a*r.size))<=s)return ss[o]}return ss[i-1]}function VK(e,t,n,s,i){for(let o=ss.length-1;o>=ss.indexOf(n);o--){const r=ss[o];if(Gh[r].common&&e._adapter.diff(i,s,r)>=t-1)return r}return ss[n?ss.indexOf(n):0]}function UK(e){for(let t=ss.indexOf(e)+1,n=ss.length;t<n;++t)if(Gh[ss[t]].common)return ss[t]}function rw(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=ly(n,t),o=n[s]>=t?n[s]:n[i];e[o]=!0}}function zK(e,t,n,s){const i=e._adapter,o=+i.startOf(t[0].value,s),r=t[t.length-1].value;let a,c;for(a=o;a<=r;a=+i.add(a,1,s))c=n[a],c>=0&&(t[c].major=!0);return t}function aw(e,t,n){const s=[],i={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],i[a]=r,s.push({value:a,major:!1});return o===0||!n?s:zK(e,s,i,n)}class Wc extends Kr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n){const s=t.time||(t.time={}),i=this._adapter=new fT._date(t.adapters.date);i.init(n),jl(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:iw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function c(d){!r&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!a&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!r||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=cn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),o=cn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=Sj(i,o,r);return this._unit=n.unit||(s.autoSkip?ow(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):VK(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:UK(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),aw(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let n=0,s=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;n=Dn(n,0,r),s=Dn(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,o=i.time,r=o.unit||ow(o.minUnit,n,s,this._getLabelCapacity(n)),a=tt(o.stepSize,1),c=r==="week"?o.isoWeekday:!1,d=Ba(c)||c===!0,h={};let p=n,g,y;if(d&&(p=+t.startOf(p,"isoWeek",c)),p=+t.startOf(p,d?"day":r),t.diff(s,n,r)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+r);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<s;g=+t.add(g,a,r),y++)rw(h,g,_);return(g===s||i.bounds==="ticks"||y===1)&&rw(h,g,_),Object.keys(h).sort((T,w)=>T-w).map(T=>+T)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}_tickFormatFunction(t,n,s,i){const o=this.options,r=o.time.displayFormats,a=this._unit,c=this._majorUnit,d=a&&r[a],h=c&&r[c],p=s[n],g=c&&h&&p&&p.major,y=this._adapter.format(t,i||(g?h:d)),_=o.ticks.callback;return _?Yt(_,[y,n,s],this):y}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=Xs(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*o+a*r,h:s*r+a*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,aw(this,[t],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(iw(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Yk(t.sort(BK))}}Wc.id="time";Wc.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function nd(e,t,n){let s=0,i=e.length-1,o,r,a,c;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=eo(e,"pos",t)),{pos:o,time:a}=e[s],{pos:r,time:c}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=eo(e,"time",t)),{time:o,pos:a}=e[s],{time:r,pos:c}=e[i]);const d=r-o;return d?a+(c-a)*(t-o)/d:a}class Dy extends Wc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=nd(n,this.min),this._tableRange=nd(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],o=[];let r,a,c,d,h;for(r=0,a=t.length;r<a;++r)d=t[r],d>=n&&d<=s&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(r=0,a=i.length;r<a;++r)h=i[r+1],c=i[r-1],d=i[r],Math.round((h+c)/2)!==d&&o.push({time:d,pos:r/(a-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(nd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return nd(this._table,s*this._tableRange+this._minPos,!0)}}Dy.id="timeseries";Dy.defaults=Wc.defaults;var jK=Object.freeze({__proto__:null,CategoryScale:Ud,LinearScale:Sy,LogarithmicScale:wy,RadialLinearScale:Hc,TimeScale:Wc,TimeSeriesScale:Dy});const GK=[A7,WG,CK,jK];/*!
  * chartjs-adapter-moment v1.0.1
  * https://www.chartjs.org
  * (c) 2022 chartjs-adapter-moment Contributors
  * Released under the MIT license
  */const KK={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};fT._date.override(typeof M=="function"?{_id:"moment",formats:function(){return KK},parse:function(e,t){return typeof e=="string"&&typeof t=="string"?e=M(e,t):e instanceof M||(e=M(e)),e.isValid()?e.valueOf():null},format:function(e,t){return M(e).format(t)},add:function(e,t,n){return M(e).add(t,n).valueOf()},diff:function(e,t,n){return M(e).diff(M(t),n)},startOf:function(e,t,n){return e=M(e),t==="isoWeek"?(n=Math.trunc(Math.min(Math.max(0,n),6)),e.isoWeekday(n).startOf("day").valueOf()):e.startOf(t).valueOf()},endOf:function(e,t){return M(e).endOf(t).valueOf()}}:{});co.register(...GK);let nn=null;const qK=Ve({name:"AnalysisChart",components:{Modal:cs,DatePicker:bs},props:{modalIndex:{type:Number}},data(){return{selectedDate:null,dateModal:!1,dateModalTop:0,dateModalLeft:0,datePickerTargetDay:M(),chartLabels:[],chartDatasets:[],min:0,max:100,canvasHeight:1,myChartHeader:null}},setup(){const e=V(),t=V();return{myChartRef:e,myChartHeaderRef:t}},methods:{toggleShow(){this.$refs.ModalRef.toggleShow()},updateDateText(e,t){this.selectedDate=M(e.target.value,"DD/MM/YYYY"),this.dateModal=!1},updateDateTime(e,t){let n=e.target.getClientRects()[0];this.dateModalTop=n.bottom,this.dateModalLeft=n.left,this.datePickerTargetDay=this.selectedDate,this.dateModal=!0,this.openDatePicker().then(s=>{this.prepareChartData()}).catch(s=>{console.log("err",s)})},async openDatePicker(){let e=await this.$refs.DatePickerRef.toggleShow(this.datePickerTargetDay);return this.selectedDate=e,e},getData(e){return this.getDateData(e.clone().add(-1,"day"),e)},async getDateData(e,t){let n={};return e&&t&&(n={employeeNo:Affinity.user.EmployeeNo,startDate:e.format("YYYY-MM-DD"),endDate:t.format("YYYY-MM-DD"),forManagedEmployees:!0}),Pe.GetFlexSchedules(n).then(s=>s.FlexSchedules.filter(i=>!!this.$store.state.EmployeeModule.filteredEmployees.find(o=>o.employeeNo===i.EmployeeNo)))},staticWorkersPerHour(e){let t=e.map(s=>[M(s[0]),M(s[1])]),n=Array(24).fill(0);for(let s of t){let i=s[0],o=s[1],r=i.hour(),a=o.diff(i,"hour");for(let c=0;c<r+a;c++)c>=r&&(n[c]=n[c]+1)}return n},prepareChartData(){let e=M(this.selectedDate);K.loading(),this.getData(e).then(t=>{K.clear();let n=t,s=new Map,i=new Map,o=n.filter(w=>{var k;return M(w.StartTime).day()===((k=this.selectedDate)==null?void 0:k.day())});for(const w of o)if(w&&w.StartTime&&w.EndTime){let k=w.EmployeeName,x=M(w.StartTime),$=M(w.EndTime),L=e.clone();L.hour(x.hour()),L.minutes(x.minutes());let F=e.clone();F.hour($.hours()),F.minutes($.minutes());let R;F<L?R=[L.toISOString(),F.clone().add(1,"day").toISOString()]:R=[L.toISOString(),F.toISOString()],s.set(k,R)}n.filter(w=>{var k;return M(w.Date).day()===((k=this.selectedDate)==null?void 0:k.clone().add(-1,"day").day())}).map(w=>{if(M(w.EndTime).hour()<M(w.StartTime).hour()){let k=[M(w.EndTime).clone().startOf("day").toISOString(),M(w.EndTime).toISOString()];return i.set(w.EmployeeName,k),k}return null}),console.log("chart data",s),console.log("nightshift",i);const r=Array.from(s).sort(),a=new Map;r.forEach(w=>a.set(w[0],w[1]));const c=Array.from(a.keys()).map(w=>i.has(w)?i.get(w):null),d=[];i.forEach((w,k)=>{console.log("value",w),a.has(k)||(d.push(k),c.push(w))});let h=[...a.keys(),...d],p=[...a.values()];p.length===0&&h.length>0&&(p=[[null,null]]);let g=c;this.chartDatasets=p;let y=this.staticWorkersPerHour(p),_=M(e).startOf("day").valueOf(),T=M(e).endOf("day").valueOf();if(this.canvasHeight=h.length*30+100,nn)h.length<=0?(this.myChartHeaderRef.getContext("2d").clearRect(0,0,this.myChartHeaderRef.width,this.myChartHeaderRef.height),console.info("destroy chart"),nn.destroy(),nn=null):(console.info("update chart"),nn.options.scales.x.min=_,nn.options.scales.x.max=T,nn.options.scales.x1.ticks={callback:(w,k,x)=>y[k]},nn.data.labels=h,nn.data.datasets[0].data=p,nn.data.datasets[1].data=g,h.length<=0&&(nn.data.labels=[],nn.data.datasets=[],nn.options.scales.x.min=0,nn.options.scales.x.max=1),console.log("my chart",nn),nn.update());else if(!(h.length<=0)){console.info("create new chart");let w=document.getElementById("myChart").getContext("2d"),k=this,x={type:"bar",data:{labels:h,datasets:[{label:"Work Hours",data:p,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:2,borderSkipped:!1},{label:"nightShift",data:g,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:2,borderSkipped:!1}]},grouped:!1,options:{responsive:!0,maintainAspectRatio:!1,devicePixelRatio:window.devicePixelRatio,indexAxis:"y",scales:{y:{stacked:!0},x:{id:"xAxis2",backgroundColor:"#ffffff",position:"top",type:"time",time:{unit:"hour",displayFormats:{hour:"HH:mm"}},title:{display:!0,text:"Time"},min:_,max:T,ticks:{stepSize:5e5}},x1:{id:"xAxis1",type:"time",position:"bottom",gridLines:{drawOnChartArea:!1},time:{unit:"hour",displayFormats:{hour:"HH:mm:ss"}},min:_,max:T,title:{display:!0,text:"Working Employees / Hour"},ticks:{callback:($,L,F)=>y[L]}}},plugins:{title:{display:!1},legend:{display:!1},tooltip:{usePointStyle:!0,callbacks:{label:function($){let L=$.raw;return` ${M(L[0]).format("HH:mm")} - ${M(L[1]).format("HH:mm")}`},labelPointStyle:function($){return{pointStyle:"triangle",rotation:0}}}}},animation:{onComplete:function($){let L=this.ctx.canvas,F=window.devicePixelRatio,R=this.canvas.width,W=this.scales.x.height*F,z=k.myChartHeaderRef.getContext("2d"),Y=document.getElementById("myChartHeader");Y.style.width=this.canvas.width/F+"px",Y.style.height=W/F+"px",Y.width=Math.floor(this.canvas.width),Y.height=Math.floor(W),z.scale(F,F),z.drawImage(L,0,0,R,W,0,0,R/F,W/F)}}}};nn=new co(w,x)}}).catch(()=>{K.clear(),K.alert("Something Wrong. Please try again later")})},cancelModal(){nn&&(nn.destroy(),nn=null,this.selectedDate=null,this.canvasHeight=1,this.chartDatasets=[])}},beforeUnmount(){nn&&(nn.destroy(),nn=null,this.selectedDate=null,this.canvasHeight=1,this.chartDatasets=[])}}),OT=e=>(ft("data-v-51c2dd6a"),e=e(),pt(),e),XK=OT(()=>m("div",{class:"shift-coverage-header"},[m("h3",null,"Shift Coverage")],-1)),ZK={class:"shift-coverage-wrapper"},JK=OT(()=>m("label",{class:"mr-2"},"Select Date:",-1)),QK=["value"],eq={key:0,class:"d-flex justify-center mt-4"},tq={key:0,class:"choose-date-info"},nq={class:"analysisChart"},sq={class:"axis-canvas",id:"myChartHeader",height:"39",ref:"myChartHeaderRef"},iq={class:"main-canvas-wrapper"},oq={class:"main-canvas",ref:"myChartRef",id:"myChart",colours:"[ { fillColor: '#ffff00' }, { fillColor: '#0066ff' } ]"};function rq(e,t,n,s,i,o){const r=ye("Modal"),a=ye("date-picker");return S(),D(de,null,[ce(r,{ref:"ModalRef",onCancel:e.cancelModal,modalIndex:e.modalIndex},{header:Ze(()=>[XK]),body:Ze(()=>[m("div",ZK,[m("div",null,[JK,m("input",{value:e.$filters.reformatDate(e.selectedDate),class:"d-inline-flex ma-0 pa-0 mr-2 ml-2 caption analysis-date-input",style:{"max-width":"120px"},onChange:t[0]||(t[0]=c=>e.updateDateText(c,e.selectedDate)),onClick:t[1]||(t[1]=c=>e.updateDateTime(c,e.selectedDate)),"onClick:clear":t[2]||(t[2]=c=>e.toDate=null)},null,40,QK)]),e.chartDatasets.length===0?(S(),D("div",eq,[e.selectedDate!==null&&e.chartDatasets.length===0?(S(),D("h3",tq,"There's no one scheduled on this day. Please choose another day.")):X("",!0)])):X("",!0),ge(m("div",nq,[m("canvas",sq,null,512),m("div",iq,[m("div",{class:"myChart-wrapper",style:wt({height:e.canvasHeight+"px"})},[m("canvas",oq,null,512)],4)])],512),[[rs,e.chartDatasets.length>0]])])]),_:1},8,["onCancel","modalIndex"]),ce(a,{ref:"DatePickerRef",top:e.dateModalTop,leftInput:e.dateModalLeft,date:e.datePickerTargetDay},null,8,["top","leftInput","date"])],64)}const PT=Ne(qK,[["render",rq],["__scopeId","data-v-51c2dd6a"]]),aq=Ve({name:"CustomSelect",props:{selectOptionInput:{type:Array},targetString:{type:String},allowAll:{type:Boolean},fixedLeft:{type:Boolean}},data(){return{options:[],left:0,selected:[]}},mounted(){this.$refs.selectRef.getClientRects()[0]&&(this.left=this.$refs.selectRef.getClientRects()[0].left),this.options=this.selectOptionInput;let e=!1;if(this.options.find(t=>t.isSelected)&&(e=!0),this.allowAll){const t={commonName:"All",isAll:!0,isSelected:!e};this.options.unshift(t)}this.options.find((t,n)=>{if(n>0&&!t.isSelected)return!0})?this.options[0].isSelected=!1:this.options[0].isSelected=!0},methods:{getSelectedOptions(){let e=this.options.filter(n=>n.isSelected),t="";return e.map((n,s)=>{s>0?t=t+", "+n[this.targetString]:t=n[this.targetString]}),t},getLeft(){return this.fixedLeft?{left:this.left+"px"}:{position:"absolute"}},selectOptionAction(e){e.isSelected=!e.isSelected,e.isAll&&e.isSelected==!0?this.options.forEach((t,n)=>{n>0&&(t.isSelected=!0)}):e.isAll&&e.isSelected===!1?this.options.forEach((t,n)=>{n>0&&(t.isSelected=!1)}):!e.isAll&&this.options[0].isAll&&(this.options.find((t,n)=>{if(n>0&&!t.isSelected)return!0})?this.options[0].isSelected=!1:this.options[0].isSelected=!0)}}}),lq={class:"custom-select",tabindex:"1",ref:"selectRef"},cq={class:"custom-select-selected"},uq=["onClick"],dq={class:"cell-config"},hq=["onUpdate:modelValue"],fq={class:"ml-2"};function pq(e,t,n,s,i,o){return S(),D("div",null,[m("span",null,[m("div",lq,[m("div",cq,[m("span",null,H(e.getSelectedOptions()),1)]),m("div",{class:"custom-select-items",style:wt(e.getLeft())},[(S(!0),D(de,null,$e(e.options,(r,a)=>(S(),D("div",{class:"custom-select-item",key:a,onClick:c=>e.selectOptionAction(r)},[m("div",dq,[ge(m("input",{type:"checkbox","onUpdate:modelValue":c=>r.isSelected=c},null,8,hq),[[Ur,r.isSelected]]),m("label",fq,H(r[e.targetString]),1)])],8,uq))),128))],4)],512)])])}const el=Ne(aq,[["render",pq],["__scopeId","data-v-b9022c34"]]);/*!
 * currency.js - v2.0.4
 * http://scurker.github.io/currency.js
 *
 * Copyright (c) 2021 Jason Wilson
 * Released under MIT license
 */var mq={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:_q,fromCents:!1},LT=function(t){return Math.round(t)},ky=function(t){return Math.pow(10,t)},gq=function(t,n){return LT(t/n)*n},yq=/(\d)(?=(\d{3})+\b)/g,vq=/(\d)(?=(\d\d)+\d\b)/g;function je(e,t){var n=this;if(!(n instanceof je))return new je(e,t);var s=Object.assign({},mq,t),i=ky(s.precision),o=bd(e,s);n.intValue=o,n.value=o/i,s.increment=s.increment||1/i,s.useVedic?s.groups=vq:s.groups=yq,this.s=s,this.p=i}function bd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=0,i=t.decimal,o=t.errorOnInvalid,r=t.precision,a=t.fromCents,c=ky(r),d=typeof e=="number",h=e instanceof je;if(h&&a)return e.intValue;if(d||h)s=h?e.value:e;else if(typeof e=="string"){var p=new RegExp("[^-\\d"+i+"]","g"),g=new RegExp("\\"+i,"g");s=e.replace(/\((.*)\)/,"-$1").replace(p,"").replace(g,"."),s=s||0}else{if(o)throw Error("Invalid Input");s=0}return a||(s*=c,s=s.toFixed(4)),n?LT(s):s}function _q(e,t){var n=t.pattern,s=t.negativePattern,i=t.symbol,o=t.separator,r=t.decimal,a=t.groups,c=(""+e).replace(/^-/,"").split("."),d=c[0],h=c[1];return(e.value>=0?n:s).replace("!",i).replace("#",d.replace(a,"$1"+o)+(h?r+h:""))}je.prototype={add:function(t){var n=this.intValue,s=this.s,i=this.p;return je((n+=bd(t,s))/(s.fromCents?1:i),s)},subtract:function(t){var n=this.intValue,s=this.s,i=this.p;return je((n-=bd(t,s))/(s.fromCents?1:i),s)},multiply:function(t){var n=this.intValue,s=this.s;return je((n*=t)/(s.fromCents?1:ky(s.precision)),s)},divide:function(t){var n=this.intValue,s=this.s;return je(n/=bd(t,s,!1),s)},distribute:function(t){for(var n=this.intValue,s=this.p,i=this.s,o=[],r=Math[n>=0?"floor":"ceil"](n/t),a=Math.abs(n-r*t),c=i.fromCents?1:s;t!==0;t--){var d=je(r/c,i);a-- >0&&(d=d[n>=0?"add":"subtract"](1/c)),o.push(d)}return o},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,n=this.p;return~~(t%n)},format:function(t){var n=this.s;return typeof t=="function"?t(this,n):n.format(this,Object.assign({},n,t))},toString:function(){var t=this.intValue,n=this.p,s=this.s;return gq(t/n,s.increment).toFixed(s.precision)},toJSON:function(){return this.value}};const bq=Ve({name:"CostAnalysisDialog",components:{Modal:cs,MultiSelect:el},props:{dayFocus:{type:Object},modalIndex:{type:Number}},data(){return{selectedDate:null,data:[],calculatedData:[],total:{},totalInNumber:{},displayN:6,displayList:{},sourceDisplayList:{scheduled:{heading:"Schedule",isDisplay:!0,isCalculated:!1},actual:{heading:"Actual",isDisplay:!1,isCalculated:!1},budgeted:{heading:"Budget",isDisplay:!1,isCalculated:!1},sales:{heading:"Sales",isDisplay:!1,isCalculated:!1},scheduledVSBudgeted:{heading:"Schedule vs Budget",isDisplay:!1,isCalculated:!0},actualsVSBudgeted:{heading:"Actual vs Budget",isDisplay:!1,isCalculated:!0},actualsVSScheduled:{heading:"Actual vs Schedule",isDisplay:!1,isCalculated:!0},scheduledVSSales:{heading:"Schedule vs Sales",isDisplay:!1,isCalculated:!0},actualsVSSales:{heading:"Actual vs Sales",isDisplay:!1,isCalculated:!0}},weekStart:"",weekEnd:"",displayOptions:[{key:"scheduled",description:"Schedule",isSelected:!0},{key:"actual",description:"Actual",isSelected:!1},{key:"budgeted",description:"Budget",isSelected:!0},{key:"sales",description:"Sales",isSelected:!0},{key:"scheduledVSBudgeted",description:"Schedule vs Budget",isSelected:!1},{key:"actualsVSBudgeted",description:"Actual vs Budget",isSelected:!1},{key:"actualsVSScheduled",description:"Actual vs Schedule",isSelected:!1},{key:"scheduledVSSales",description:"Schedule vs Sales",isSelected:!1},{key:"actualsVSSales",description:"Actual vs Sales",isSelected:!1}],manageCompanyConfig:null}},setup(){},computed:{comparedValue(){let e=[];for(let[t,n]of Object.entries(this.displayList))n.isDisplay&&e.push(n);return e}},mounted(){const e=JSON.parse(localStorage.getItem("costAnalysisSetting_v1.3"));this.manageCompanyConfig=kn("MANAGE_COMPANY_CONFIG"),e&&(this.displayOptions=e)},watch:{displayOptions:{handler(e,t){this.displayList={};for(const[n,s]of Object.entries(this.sourceDisplayList)){const i=e.find(o=>o.key===n);i&&i.isSelected?(this.displayList[n]=s,this.displayList[n].isDisplay=i.isSelected):console.error("key not found",n)}localStorage.setItem("costAnalysisSetting_v1.3",JSON.stringify(e))},deep:!0}},methods:{getDataStyle(e,t,n){if(n.isCalculated&&(t==="scheduledVSBudgeted"||t==="actualsVSBudgeted"))return e[t]>0?"positive-cell":"negative-cell"},getGridTemplateStyle(){return this.calculateDisplayRow(),this.displayN>1?`grid-template-columns: 100px repeat( ${this.displayN} , 100px)`:`grid-template-columns: 100px repeat( ${this.displayN} , auto)`},open(){if(!this.dayFocus)throw new Error("dayFocus is not set");Object.keys(this.displayList).forEach(i=>{this.displayList[i].isDisplay=!1});let e,t;this.manageCompanyConfig.getAllowSundayFirst()?(e=this.dayFocus.clone().startOf("week").format("DD/MMM/YYYY"),this.weekStart=e,t=this.dayFocus.clone().endOf("week").format("DD/MMM/YYYY"),this.weekEnd=t):(e=this.dayFocus.clone().startOf("isoWeek").format("DD/MMM/YYYY"),t=this.dayFocus.clone().endOf("isoWeek").format("DD/MMM/YYYY"));let s={employeeNumbers:this.$store.getters[Yr.getFilteredEmployees].map(i=>i.employeeNo),dateFrom:e,dateTo:t};K.loading();for(const[i,o]of Object.entries(this.sourceDisplayList)){const r=this.displayOptions.find(a=>a.key===i);r&&r.isSelected===!0?(this.displayList[i]=o,this.displayList[i].isDisplay=r.isSelected):console.error("key not found",i)}Pe.GetCostAnalysis(s).then(i=>{if(!i[0]){this.data=[],this.total=[],this.$refs.ModalRef.toggleShow(),K.clear();return}let o=i.map(r=>Object.fromEntries(Object.entries(r).map(([a,c])=>[a.charAt(0).toLowerCase()+a.slice(1),c])));this.calculatedData=[],this.data=o.map(r=>{let a={...r},c={};a.weekDay=M(r.date).format("dddd"),this.sourceDisplayList.scheduledVSBudgeted&&(a.scheduledVSBudgeted=this.calculateRatioPercentage(r.scheduled,r.budgeted)),this.sourceDisplayList.actualsVSBudgeted&&(a.actualsVSBudgeted=this.calculateRatioPercentage(r.actual,r.budgeted)),this.sourceDisplayList.actualsVSScheduled&&(a.actualsVSScheduled=this.calculateDiffPercentage(r.actual,r.scheduled)),this.sourceDisplayList.actualsVSSales&&(a.actualsVSSales=this.calculateRatioPercentage(r.actual,r.sales)),this.sourceDisplayList.scheduledVSSales&&(a.scheduledVSSales=this.calculateRatioPercentage(r.scheduled,r.sales));for(let[d,h]of Object.entries(a))Number.isNaN(h)&&(a[d]=0),d==="day"||d==="dayNumber"?c[d]=h:c[d]=je(a[d]).format({symbol:""});return this.calculatedData.push(a),c}),this.calculateTotal(),K.clear(),this.$refs.ModalRef.toggleShow()}).catch(i=>{this.data=[],this.total=[]})},calculateTotal(){const e=[];this.totalInNumber={};for(const[t,n]of Object.entries(this.sourceDisplayList))e.push(t);if(e.length===1){this.totalInNumber[e[0]]=Math.round(this.calculatedData[0][e[0]]*100)/100;return}for(let t of e){this.totalInNumber[t]=0;for(let n of this.calculatedData)n[t]||(n[t]=0),this.totalInNumber[t]=this.totalInNumber[t]+n[t]}this.sourceDisplayList.scheduledVSBudgeted&&(this.totalInNumber.scheduledVSBudgeted=this.calculateRatioPercentage(this.totalInNumber.scheduled,this.totalInNumber.budgeted)),this.sourceDisplayList.actualsVSBudgeted&&(this.totalInNumber.actualsVSBudgeted=this.calculateRatioPercentage(this.totalInNumber.actual,this.totalInNumber.budgeted)),this.sourceDisplayList.actualsVSScheduled&&(this.totalInNumber.actualsVSScheduled=this.calculateDiffPercentage(this.totalInNumber.actual,this.totalInNumber.scheduled)),this.sourceDisplayList.actualsVSSales&&(this.totalInNumber.actualsVSSales=this.calculateRatioPercentage(this.totalInNumber.actual,this.totalInNumber.sales)),this.sourceDisplayList.scheduledVSSales&&(this.totalInNumber.scheduledVSSales=this.calculateRatioPercentage(this.totalInNumber.scheduled,this.totalInNumber.sales));for(let[t,n]of Object.entries(this.totalInNumber))Number.isNaN(n)&&(this.totalInNumber[t]=0),this.total[t]=je(this.totalInNumber[t]).format({symbol:""})},calculateDiffPercentage(e,t){return t?(e-t)/t*100:0},calculateRatioPercentage(e,t){return t?e/t*100:0},calculateDisplayRow(){this.displayN=this.displayOptions.filter(e=>e.isSelected).length},toggleShow(){this.data=[],this.total=[],this.calculatedData=[],this.$refs.ModalRef.toggleShow()},cancelModal(){this.data=[],this.total=[],this.calculatedData=[]}}}),Kh=e=>(ft("data-v-dd9b3277"),e=e(),pt(),e),Sq=Kh(()=>m("div",{class:"d-flex justify-center"},[m("h2",null,[m("b",null,"Period Analysis")])],-1)),wq={class:"d-flex justify-center mt-2"},Dq={key:0,class:"mt-4"},kq=Kh(()=>m("h3",null,"No Period Analysis Data",-1)),Tq=[kq],Cq={key:1,class:"mt-4 full-width costAnalaysisBody"},Eq={class:"display-option"},xq={class:"cost-grid mt-4"},Mq=Kh(()=>m("div",{class:"table-cell"},null,-1)),$q={class:"table-cell"},Aq={key:0,class:"table-cell"},Oq={key:0},Pq={key:1},Lq=Kh(()=>m("div",{class:"table-cell bold"}," Total ",-1)),Rq={key:0},Nq={key:1},Fq={class:"mt-4"};function Iq(e,t,n,s,i,o){const r=ye("multi-select"),a=ye("Modal");return S(),qt(a,{ref:"ModalRef",onCancel:e.cancelModal,modalIndex:e.modalIndex},{header:Ze(()=>[Sq,m("div",wq,[m("h3",null,H(e.weekStart)+" - "+H(e.weekEnd),1)])]),body:Ze(()=>[e.data[0]?(S(),D("div",Cq,[m("div",Eq,[ce(r,{class:"mt-4",selectOptionInput:e.displayOptions,targetString:"description","fixed-left":!1},null,8,["selectOptionInput"])]),m("div",xq,[m("div",{class:"day-arr cost-grid-heading",style:wt(e.getGridTemplateStyle())},[Mq,(S(!0),D(de,null,$e(e.displayList,c=>(S(),D("div",$q,H(c.heading),1))),256))],4),(S(!0),D(de,null,$e(e.data,(c,d)=>(S(),D("div",{class:"day-arr",style:wt(e.getGridTemplateStyle())},[c.day?(S(),D("div",Aq,H(c.day),1)):X("",!0),(S(!0),D(de,null,$e(Object.entries(e.displayList),([h,p])=>(S(),D("div",{class:nt(["table-cell",e.getDataStyle(e.calculatedData[d],h,p)])},[p.isCalculated?X("",!0):(S(),D("span",Oq,"$")),m("span",null,H(c[h]),1),p.isCalculated?(S(),D("span",Pq,"%")):X("",!0)],2))),256))],4))),256)),m("div",{class:"day-arr",style:wt(e.getGridTemplateStyle())},[Lq,(S(!0),D(de,null,$e(Object.entries(e.displayList),([c,d])=>(S(),D("div",{class:nt(["table-cell bold",e.getDataStyle(e.totalInNumber,c,d)])},[d.isCalculated?X("",!0):(S(),D("span",Rq,"$")),m("span",null,H(e.total[c]),1),d.isCalculated?(S(),D("span",Nq,"%")):X("",!0)],2))),256))],4)])])):(S(),D("div",Dq,Tq))]),footer:Ze(()=>[m("div",Fq,[m("button",{class:"orange small white--text",onClick:t[0]||(t[0]=(...c)=>e.toggleShow&&e.toggleShow(...c))},"Close")])]),_:1},8,["onCancel","modalIndex"])}const RT=Ne(bq,[["render",Iq],["__scopeId","data-v-dd9b3277"]]);var Kt=(e=>(e.getPositions="GET_POSITIONS",e.getShifts="GET_SHIFTS",e.getCostElement="GET_COST_ELEMENT",e.getWorkTypes="GET_WORK_TYPES",e.getCostCenters="GET_COST_CENTER",e))(Kt||{});const Yq={SET_SHIFTS(e,t){e.shifts=t},SET_POSITION(e,t){e.positions=t},SET_COST_ELEMENTS(e,t){e.costElements=t},SET_WORK_TYPES(e,t){e.workTypes=t},SET_COST_CENTER(e,t){e.costCenters=t}},Hq={GET_POSITIONS({commit:e},t){Pe.GetPosition(t).then(n=>{let s=n.map(i=>Object.fromEntries(Object.entries(i).map(([o,r])=>[o.charAt(0).toLowerCase()+o.slice(1),r])));e("SET_POSITION",s)})},GET_SHIFTS({commit:e}){Pe.ShiftTypes().then(t=>{let n=t.map(s=>Object.fromEntries(Object.entries(s).map(([i,o])=>[i.charAt(0).toLowerCase()+i.slice(1),o])));e("SET_SHIFTS",n)})},GET_COST_ELEMENT({commit:e}){Pe.GetCostelements().then(t=>{let n=t.map(s=>Object.fromEntries(Object.entries(s).map(([i,o])=>[i.charAt(0).toLowerCase()+i.slice(1),o])));e("SET_COST_ELEMENTS",n)})},async GET_WORK_TYPES({commit:e}){return Pe.GetWorkTypes().then(t=>{let n=t.map(s=>Object.fromEntries(Object.entries(s).map(([i,o])=>[i.charAt(0).toLowerCase()+i.slice(1),o])));n.map(s=>{s.isSelected=!1}),e("SET_WORK_TYPES",n)})},GET_COST_CENTER({commit:e},t){return Pe.GetEmployeesCostCentres(t).then(n=>{let s=n.data.map(i=>Object.fromEntries(Object.entries(i).map(([o,r])=>[o.charAt(0).toLowerCase()+o.slice(1),r])));return e("SET_COST_CENTER",s),s})}},Wq={state:{shifts:[],positions:[],costElements:[],workTypes:[],costCenters:[]},mutations:Yq,actions:Hq},Bq=Ve({name:"DayCell",props:{scheDay:{type:Object},employeeNo:{type:Number},employeeName:{type:String},allowEdit:{type:Boolean},allowCreate:{type:Boolean},isEmployee:{type:Boolean}},data(){return{mobileShowCreate:!1,mobileShowEdit:!1}},setup(){const e=_n(),t=e.state.FlexSchedule.flexScheduleCellSetting,n=An(()=>e.state.LookUp.shifts),s=An(()=>e.state.LookUp.positions);return{cellSettings:t,shiftOptions:n,positionOptions:s}},methods:{moreDetail(e){this.$store.dispatch(Kt.getPositions,this.employeeNo);const t=this.$store.state.FlexSchedule.flexScheduleRemoteData.find(n=>n.date===e.date&&n.employeeNo===this.employeeNo);if(!t){console.error("can not find selected schedule");return}this.$store.commit(Fn.setScheduleDay,t),this.$emit("openEditDialog",!0)},createSche(e){this.$store.dispatch(Kt.getPositions,this.employeeNo);let t=is.clone(e);t.employeeNo=this.employeeNo,t.employeeName=this.employeeName,this.$store.commit(Fn.createNewScheduleDay,t),this.$emit("openEditDialog",!1)},shouldDisplayHours(e){return this.cellSettings.showHours.value?(e.startTime||e.endTime)&&e.hours===0?!0:!!e.hours:!1},isMobileG(){return Vl()},clickDayCell(){this.mobileShowCreate=!this.mobileShowCreate,this.mobileShowEdit=!this.mobileShowEdit},checkMobileShowEdit(){return Vl()?this.mobileShowEdit:!0},checkMobileShowCreate(){return Vl()?this.mobileShowCreate:!0}}}),Bc=e=>(ft("data-v-acc48ce4"),e=e(),pt(),e),Vq={class:"day-cell-wrapper"},Uq={key:0,class:"day-info"},zq=Bc(()=>m("span",{class:"white"},"Create",-1)),jq=[zq],Gq={key:1,class:"full-width"},Kq={class:"full-width"},qq={key:0},Xq={key:1},Zq={key:2},Jq={key:3},Qq={key:4,class:"notes-ellips full-width"},eX=Bc(()=>m("span",{class:"white caption"},"Edit",-1)),tX=[eX],nX={key:2,class:"leave-unit mt-2"},sX={key:0},iX={key:1},oX={key:3,class:"leave-unit mt-2"},rX=Bc(()=>m("span",null,"Leave",-1)),aX=[rX],lX={key:4,class:"leave-unit mt-2"},cX=Bc(()=>m("div",null,"Unavailable",-1)),uX={key:1,class:"day-info full-width"},dX={key:0,class:"full-width"},hX={class:"full-width"},fX={key:0},pX={key:1},mX={key:2,class:"notes-ellips full-width"},gX={key:1,class:"leave-unit mt-2"},yX=Bc(()=>m("span",null,"Leave",-1)),vX=[yX];function _X(e,t,n,s,i,o){const r=Ci("tooltip");return S(),D("div",Vq,[e.isEmployee?X("",!0):(S(),D("div",Uq,[m("div",{class:nt(["display-day",{"team-color-bg":e.scheDay.scheduleType==="Team","flexi-color-bg":e.scheDay.scheduleType==="Flex","personal-color-bg":e.scheDay.scheduleType==="Personal"}]),onClick:t[2]||(t[2]=io((...a)=>e.clickDayCell&&e.clickDayCell(...a),["prevent"]))},[!e.scheDay.startTime&&!e.scheDay.endTime&&!e.scheDay.hours&&e.scheDay.allowCreateOrEdit&&e.checkMobileShowCreate()&&e.allowCreate?(S(),D("div",{key:0,class:nt(["create-day",{"create-day-show":!e.isMobileG()}])},[m("button",{class:"blue small",onClick:t[0]||(t[0]=a=>e.createSche(e.scheDay))},jq)],2)):e.scheDay.startTime||e.scheDay.endTime||e.scheDay.hours?(S(),D("div",Gq,[m("div",Kq,[e.scheDay.startTime||e.scheDay.endTime?(S(),D("div",qq,[m("div",null,H(e.scheDay.startTime)+" - "+H(e.scheDay.endTime),1)])):X("",!0),e.shouldDisplayHours(e.scheDay)?(S(),D("div",Xq,[m("div",null,"Net Hours: "+H(Math.round(e.scheDay.hours*100)/100),1)])):X("",!0),e.cellSettings.showBreakLength.value&&e.scheDay.breakLength&&!e.isEmployee?(S(),D("div",Zq,[m("div",null,"Break Length: "+H(Math.round(e.scheDay.breakLength*100)/100),1)])):X("",!0),e.cellSettings.showShiftId.value&&e.scheDay.shiftId&&!e.isEmployee?(S(),D("div",Jq,[m("div",null,"Shift ID: "+H(e.scheDay.shiftId),1)])):X("",!0),e.cellSettings.showNotes.value&&e.scheDay.notes?(S(),D("div",Qq,[ge((S(),D("div",null,[Ot("Notes: "+H(e.scheDay.notes),1)])),[[r,{content:e.scheDay.notes,placement:"top",triggers:["click"],autoHide:!0},void 0,{right:!0}]])])):X("",!0)]),e.scheDay.allowCreateOrEdit&&!e.scheDay.isPaid&&e.checkMobileShowEdit()&&e.allowEdit?(S(),D("button",{key:0,class:nt(["detail-button blue small mt-2",{"detail-button-auto-hide":!e.isMobileG()}]),onClick:t[1]||(t[1]=a=>e.moreDetail(e.scheDay))},tX,2)):X("",!0)])):X("",!0),e.scheDay.leaveUnit&&!e.isEmployee?(S(),D("div",nX,[e.scheDay.leaveUnit.calcUnit==="D"?(S(),D("span",sX,"Leave: "+H(e.scheDay.leaveUnit.daysAppliedFor)+" day",1)):(S(),D("span",iX,"Leave: "+H(e.scheDay.leaveUnit.hoursAppliedFor)+" hours",1))])):e.scheDay.leaveUnit?(S(),D("div",oX,aX)):X("",!0),e.scheDay.unAvailability&&!e.isEmployee?(S(),D("div",lX,[cX,m("span",null,H(e.scheDay.unAvailability.startTime)+" - "+H(e.scheDay.unAvailability.endTime),1),m("div",null,H(e.scheDay.unAvailability.reason),1)])):X("",!0)],2)])),e.isEmployee?(S(),D("div",uX,[e.scheDay.publishStatus==="published"?(S(),D("div",{key:0,class:nt(["display-day",{"team-color-bg":e.scheDay.scheduleType==="Team","flexi-color-bg":e.scheDay.scheduleType==="Flex","personal-color-bg":e.scheDay.scheduleType==="Personal"}]),onClick:t[3]||(t[3]=io((...a)=>e.clickDayCell&&e.clickDayCell(...a),["prevent"]))},[e.scheDay.startTime||e.scheDay.endTime||e.scheDay.hours?(S(),D("div",dX,[m("div",hX,[e.scheDay.startTime||e.scheDay.endTime?(S(),D("div",fX,[m("div",null,H(e.scheDay.startTime)+" - "+H(e.scheDay.endTime),1)])):X("",!0),e.shouldDisplayHours(e.scheDay)?(S(),D("div",pX,[m("div",null,"Net Hours: "+H(Math.round(e.scheDay.hours*100)/100),1)])):X("",!0),e.scheDay.notes?(S(),D("div",mX,[ge((S(),D("div",null,[Ot("Notes: "+H(e.scheDay.notes),1)])),[[r,{content:e.scheDay.notes,placement:"top",triggers:["click"],autoHide:!0},void 0,{right:!0}]])])):X("",!0)])])):X("",!0)],2)):X("",!0),e.scheDay.leaveUnit?(S(),D("div",gX,vX)):X("",!0)])):X("",!0)])}const qh=Ne(Bq,[["render",_X],["__scopeId","data-v-acc48ce4"]]),bX=Ve({name:"DraftCreationDialog",components:{Modal:cs,DatePicker:bs,MultiSelect:el},data(){return{datePickerTop:0,datePickerLeft:0,sourceMode:"copy",copyOption:"replace",overrideTeam:!1,scheduleStartDateText:"",copyFromDateText:"",targetDateText:"",scheduleStartDate:M(),copyFromDate:M(),copyToDateDuration:0,targetDate:M(),datePickerMax:null,datePickerMin:null,dateTarget:"",copyPersonalDuration:0,workTypeOptions:[],selected:{},options:[],left:0,showNoDaysError:!1}},mounted(){},methods:{selectOption(){},resetData(){this.datePickerTop=0,this.datePickerLeft=0,this.sourceMode="copy",this.copyOption="replace",this.scheduleStartDateText="",this.copyFromDateText="",this.targetDateText="",this.scheduleStartDate=M(),this.copyFromDate=M(),this.copyToDateDuration=0,this.targetDate=M(),this.dateTarget="",this.copyPersonalDuration=0,this.datePickerMax=null,this.datePickerMin=null,this.showNoDaysError=!1,this.workTypeOptions=this.$store.state.LookUp.workTypes},toggleShow(){this.resetData(),this.$refs.ModalRef.toggleShow()},actionByMode(){this.sourceMode==="copy"?this.createDraft():this.importFromPersonal()},importFromPersonal(){K.loading();let e=[];for(const n of this.$store.state.FlexSchedule.scheduleWeek.values())this.$store.state.EmployeeModule.filteredEmployees.find(s=>s.employeeNo===n.employeeNo)&&e.push(n.employeeNo);let t={CopyFromPersonalSchedule:!0,EmployeeNumbers:e,PersonalSchedCopyDurationInDays:this.copyPersonalDuration,TargetDate:this.scheduleStartDate.format("DD/MMM/YYYY"),CopyOption:this.copyOption,ExcludedworkTypes:this.getExcludedWorkTypes()};Pe.CopyFlexSchedule(t).then(n=>{this.$refs.ModalRef.toggleShow(),this.$emit("reload")}).finally(()=>{})},validForm(){return this.validNoDays()},validNoDays(){return this.copyToDateDuration>14?(this.showNoDaysError=!0,!1):(this.showNoDaysError=!1,!0)},createDraft(){if(!this.validForm())return;K.loading();let e=[];if(this.overrideTeam)for(const n of this.$store.state.FlexSchedule.scheduleWeek.values())(n.includeTeamOrPersonal||n.empSchePublishState!=="published")&&e.push(n.employeeNo);else for(const n of this.$store.state.FlexSchedule.scheduleWeek.values())n.empSchePublishState!=="published"&&e.push(n.employeeNo);e=e.filter(n=>!!this.$store.state.EmployeeModule.filteredEmployees.find(s=>s.employeeNo===n));let t={CopyFromPersonalSchedule:!1,EmployeeNumbers:e,CopyFromDate:this.copyFromDate.format("DD/MMM/YYYY"),CopyToDate:this.copyFromDate.add(this.copyToDateDuration-1,"days").format("DD/MMM/YYYY"),TargetDate:this.targetDate.format("DD/MMM/YYYY"),CopyOption:this.copyOption,ExcludedworkTypes:this.getExcludedWorkTypes(),OverrideTeam:this.overrideTeam};Pe.CopyFlexSchedule(t).then(n=>{K.clear(),this.$refs.ModalRef.toggleShow(),K.alert("Your schedules are being copied. This process can take a few minutes. You will need to refresh your screen to see the updated schedules.")}).finally(()=>{})},getExcludedWorkTypes(){let e=this.workTypeOptions.filter(t=>t.isSelected);return e.length<1&&(e=this.$store.state.FlexSchedule.defaultWorkTypes),e.map(t=>t.code)},async updateDateTime(e,t){let n=e.target.getClientRects()[0];this.datePickerTop=n.bottom,this.datePickerLeft=n.left;try{switch(t){case"ScheduleStartDate":this.scheduleStartDate=await this.$refs.DatePickerRef.toggleShow(this.scheduleStartDate),this.scheduleStartDateText=this.scheduleStartDate.format("DD/MM/YYYY");return;case"copyFromDate":this.datePickerMax=null,this.datePickerMin=null,this.copyFromDate=await this.$refs.DatePickerRef.toggleShow(this.copyFromDate),this.copyFromDateText=this.copyFromDate.format("DD/MM/YYYY");return;case"targetDate":this.datePickerMax=null,this.datePickerMin=M().add(-2,"day"),this.targetDate=await this.$refs.DatePickerRef.toggleShow(this.targetDate),this.targetDateText=this.targetDate.format("DD/MM/YYYY");return}}catch{return}},cancel(){this.toggleShow()}}}),qr=e=>(ft("data-v-9ce10de1"),e=e(),pt(),e),SX=qr(()=>m("div",null,[m("h2",null,[m("b",null,"Create Draft Schedule")])],-1)),wX=qr(()=>m("div",{class:"line-break my-4"},null,-1)),DX={class:"d-flex align-center"},kX={class:"mt-2 draft-option pa-2"},TX={key:0,class:"grey-wrapper"},CX={class:"input-label"},EX={class:"mt-2"},xX={class:"input-label"},MX={key:0,class:"mt-1"},$X=qr(()=>m("span",{class:"red"},"Number of days cannot be greater than 14",-1)),AX=[$X],OX={class:"mt-2"},PX={class:"input-label"},LX=qr(()=>m("div",{class:"line-break my-4"},null,-1)),RX={class:"d-flex"},NX={class:"container-half"},FX=qr(()=>m("div",null," Paste Options ",-1)),IX={class:"px-2 mt-4"},YX={class:"d-flex align-center"},HX={class:"d-flex align-center mt-2"},WX={class:"container-half"},BX=qr(()=>m("label",null,"Exclude Worker Type",-1)),VX=qr(()=>m("div",{class:"line-break my-4"},null,-1)),UX={class:"d-flex"},zX={class:"d-flex justify-end full-width mt-4"};function jX(e,t,n,s,i,o){const r=ye("multi-select"),a=ye("date-picker"),c=ye("Modal"),d=Ci("tooltip");return S(),qt(c,{ref:"ModalRef"},{header:Ze(()=>[SX]),body:Ze(()=>[m("div",null,[m("form",null,[wX,m("div",null,[m("div",DX,[ge((S(),D("span",null,[Ot("Copy from Flexi Schedules")])),[[d,{content:"Copies information from a previous flexi schedule and pastes it into a current or future flexi schedule.",classes:"tool-tip-width"},void 0,{top:!0}]])]),m("div",kX,[e.sourceMode!=="copy"?(S(),D("div",TX)):X("",!0),m("div",null,[ge((S(),D("span",CX,[Ot("From Date")])),[[d,{content:"The date to copy from."},void 0,{top:!0}]]),ge(m("input",{class:"input-box",type:"text","onUpdate:modelValue":t[0]||(t[0]=h=>e.copyFromDateText=h),onClick:t[1]||(t[1]=h=>e.updateDateTime(h,"copyFromDate"))},null,512),[[xt,e.copyFromDateText]])]),m("div",EX,[ge((S(),D("span",xX,[Ot("Number of Days")])),[[d,{content:"The number of days to copy."},void 0,{top:!0}]]),ge(m("input",{class:"input-box",type:"number",max:"14","onUpdate:modelValue":t[2]||(t[2]=h=>e.copyToDateDuration=h),onChange:t[3]||(t[3]=(...h)=>e.validNoDays&&e.validNoDays(...h))},null,544),[[xt,e.copyToDateDuration,void 0,{number:!0}]]),e.showNoDaysError?(S(),D("div",MX,AX)):X("",!0)]),m("div",OX,[ge((S(),D("span",PX,[Ot("Start On")])),[[d,{content:"The date in the flexi schedule when copied information will start. For example, if you copy a 5-day block from 1 April and start it on 11 July, it will run from 11- 15 July."},void 0,{top:!0}]]),ge(m("input",{class:"input-box",type:"text","onUpdate:modelValue":t[4]||(t[4]=h=>e.targetDateText=h),onClick:t[5]||(t[5]=h=>e.updateDateTime(h,"targetDate"))},null,512),[[xt,e.targetDateText]])])])])]),LX,m("div",RX,[m("div",NX,[FX,m("div",IX,[m("div",YX,[ge(m("input",{type:"radio",name:"copyOption",value:"replace",class:"mt-0 ml-0","onUpdate:modelValue":t[6]||(t[6]=h=>e.copyOption=h)},null,512),[[Ya,e.copyOption]]),ge((S(),D("span",null,[Ot("Replace All")])),[[d,{content:"When copied information is pasted in, it will replace all information on the days specified.",classes:"tool-tip-width"},void 0,{top:!0}]])]),m("div",HX,[ge(m("input",{type:"radio",name:"copyOption",value:"merge",class:"mt-0 ml-0","onUpdate:modelValue":t[7]||(t[7]=h=>e.copyOption=h)},null,512),[[Ya,e.copyOption]]),ge((S(),D("span",null,[Ot("Merge")])),[[d,{content:"When copied information is pasted in, it will replace information on the days specified only if there is a conflict."},void 0,{top:!0}]])])])]),m("div",WX,[BX,ce(r,{class:"mt-4",selectOptionInput:e.workTypeOptions,targetString:"description","fixed-left":!0},null,8,["selectOptionInput"])])]),VX,m("div",UX,[m("div",null,[ge(m("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=h=>e.overrideTeam=h)},null,512),[[Ur,e.overrideTeam]]),ge((S(),D("span",null,[Ot("Override Team and Personal Schedules")])),[[d,{content:"Selecting this option will copy Flexi Schedules for all non-published employees as well as those employees who are already on a Team or a Personal Schedule."},void 0,{top:!0}]])])]),ce(a,{ref:"DatePickerRef",top:e.datePickerTop,left:e.datePickerLeft,"min-date":e.datePickerMin,"max-date":e.datePickerMax},null,8,["top","left","min-date","max-date"])])]),footer:Ze(()=>[m("div",zX,[m("button",{class:"blue xsmall white--text mr-2",onClick:t[9]||(t[9]=(...h)=>e.actionByMode&&e.actionByMode(...h))},"Create"),m("button",{class:"orange xsmall white--text",onClick:t[10]||(t[10]=(...h)=>e.cancel&&e.cancel(...h))},"Cancel")])]),_:1},512)}const NT=Ne(bX,[["render",jX],["__scopeId","data-v-9ce10de1"]]),am="DD/MM/YYYY",Go="MM/DD/YYYY";function GX(e,t,n){return window.innerWidth<768?e.format(am):t===0&&!n?e.clone().day(t).add(7,"day").format(am):e.clone().day(t).format(am)}function lm(e,t,n){return window.innerWidth<768?e.format(Go):t===0&&!n?e.clone().day(t).add(7,"day").format(Go):e.clone().day(t).format(Go)}function Zl(e,t,n){if(console.log("start time",t),!t&&n){const s=M(e,Go),i=M(n,"HH:mm");return[null,s.clone().hours(i.hour()).minutes(i.minutes())]}else if(t&&!n){const s=M(e,Go),i=M(t,"HH:mm");return[s.clone().hours(i.hour()).minutes(i.minutes()),null]}else{if(!t&&!n)return[null,null];{const s=M(e,Go),i=M(t,"HH:mm"),o=M(n,"HH:mm"),r=s.clone().hours(i.hour()).minutes(i.minutes()),a=s.clone().hours(o.hour()).minutes(o.minutes());return a.diff(r,"hours",!0)<=0&&a.add(1,"day"),[r.format("YYYY-MM-DDTHH:mm:ss"),a.format("YYYY-MM-DDTHH:mm:ss")]}}}const KX=Ve({name:"EditFlexSchedule",components:{Modal:cs,CustomSelect:ir},props:{isEdit:{type:Boolean},weekStatus:{type:String}},data(){return{day:{},unAvailability:null,selectedPosition:{},selectedShift:{},selectedCostElement1:{},selectedCostElement2:{},employeeDetail:{},dialogDate:"",showUnAvaError:!1,showTimeHourError:!1,showTimeMinuteError:!1,breakHours:null,breakMinutes:null,manageCompanyConfig:null,dayInWeek:null}},setup(){const e=_n();return{shiftOptions:An(()=>{let t={shiftType:"",description:"",isDefault:null,archive:"F"},n=e.state.LookUp.shifts.slice();return n.unshift(t),n}),costElementOptions:An(()=>e.state.LookUp.costElements)}},computed:{positionOptions(){let e=this.$store.state.LookUp.positions;return e.length===1&&(this.selectedPosition=e[0]),e},fixedHours:{get(){return this.day.hours?this.day.hours.toFixed(2):""},set(e){this.day.hours=Number(e)}},fixedBreakLength:{get(){return this.day.breakLength?this.day.breakLength.toFixed(2):""},set(e){this.day.breakLength=Number(e)}}},mounted(){this.manageCompanyConfig=kn("MANAGE_COMPANY_CONFIG"),this.$store,this.day=this.$store.state.FlexSchedule.flexScheduleDay,console.log("this day",this.day)},methods:{selectCostElement1(e){this.selectedCostElement1=e},selectCostElement2(e){this.selectedCostElement2=e},selectShift(e){this.selectedShift=e},selectPositionCustom(e){this.selectedPosition=e},selectPosition(e,t){this.selectedPosition=t,e.target.blur(),this.$refs.selectRef.blur()},updateStartTime(e){if(!e.startTime)return;let t;e.startTime.includes(":")?t=M(e.startTime,"HH:mm"):t=M(e.startTime,"Hmm"),t.isValid()?(e.startTime=t.format("HH:mm"),this.calcNetHour()):e.startTime="Invalid Time"},updateEndTime(e){if(!e.endTime)return;let t;e.endTime.includes(":")?t=M(e.endTime,"HH:mm"):t=M(e.endTime,"Hmm"),t.isValid()?(e.endTime=t.format("HH:mm"),this.calcNetHour()):e.endTime="Invalid Time"},breakValidation(e){e.key.match(/[-]/)&&e.preventDefault()},checkBreakHours(){if(this.day.breakLength){let e=this.day.breakLength,t=Math.floor(e),n=e-t;t!==0&&(this.breakHours=t),n>0&&(this.breakMinutes=Math.round(n*60))}},calcBreakHour(){this.breakHours&&this.breakMinutes?this.day.breakLength=Number(this.breakHours)+Math.round(Number(this.breakMinutes)/60*1e3)/1e3:this.breakHours?this.day.breakLength=Number(this.breakHours):this.breakMinutes?this.day.breakLength=Math.round(Number(this.breakMinutes)/60*1e3)/1e3:this.breakHours===0&&this.breakMinutes===0?this.day.breakLength=0:this.day.breakLength=0,this.calcNetHour()},calcNetHour(){if(this.day.startTime==="Invalid Time"||this.day.endTime==="Invalid Time"||!this.day.startTime||!this.day.endTime)return;let e=M(this.day.startTime,"H:mm"),t=M(this.day.endTime,"H:mm"),n=t.diff(e,"hours",!0);n<=0&&(n=t.add(1,"day").diff(e,"hours",!0));let s=Math.round(n*100)/100;this.day.breakLength?this.day.hours=s-this.day.breakLength:this.day.hours=s,this.checkUnavailability()},checkUnavailability(){if(this.showUnAvaError=!1,!this.day.startTime||!this.day.endTime||!this.unAvailability||!this.unAvailability.endTime||!this.unAvailability.startTime)return;const e=M(this.day.startTime,"HH:mm"),t=M(this.day.endTime,"HH:mm"),n=M(this.unAvailability.startTime,"HH:mm"),s=M(this.unAvailability.endTime,"HH:mm");e<=s&&t>=n&&(console.log("show error for Fine time overlap"),this.showUnAvaError=!0)},clearForm(){this.$store.commit(Fn.clearForm),this.showUnAvaError=!1,this.showTimeHourError=!1,this.showTimeMinuteError=!1},cancel(){this.$store.commit(Fn.clearForm),this.showUnAvaError=!1,this.showTimeHourError=!1,this.showTimeMinuteError=!1,this.toggleShow()},getPublishStateBaseOnEmp(){if(Vl())return"draft";const e=this.$store.state.FlexSchedule.selectedFlexDay.employeeNo;return this.$store.state.FlexSchedule.scheduleWeek.get(e).empSchePublishState==="published"?"published":"draft"},validateForm(){return this.showTimeHourError=!1,this.showTimeMinuteError=!1,this.breakHours&&this.breakHours.toString().indexOf(".")>-1?(this.showTimeHourError=!0,!1):this.breakMinutes&&this.breakMinutes.toString().indexOf(".")>-1?(this.showTimeMinuteError=!0,!1):!0},updateSche(){if(!this.validateForm())return;const e=lm(this.$store.state.FlexSchedule.calendarFocusDate,this.dayInWeek,this.manageCompanyConfig.getAllowSundayFirst()),[t,n]=Zl(e,this.day.startTime,this.day.endTime);K.loading();let s={Id:this.$store.state.FlexSchedule.selectedFlexDay.id,EmployeeNo:this.$store.state.FlexSchedule.selectedFlexDay.employeeNo,Date:e,StartTime:t,EndTime:n,Hours:this.day.hours,PublishStatus:this.$store.state.FlexSchedule.selectedFlexDay.publishStatus?this.$store.state.FlexSchedule.selectedFlexDay.publishStatus:this.getPublishStateBaseOnEmp(),ScheduleType:"Flex",ScheduleData:{ShiftId:this.selectedShift.shiftType,BreakLength:this.day.breakLength,Position:this.selectedPosition.positionCode,CostElement1:this.selectedCostElement1?this.selectedCostElement1.id:void 0,CostElement2:this.selectedCostElement1?this.selectedCostElement2.id:void 0},Notes:this.day.notes};Pe.PatchFlexSchedule([s]).then(i=>{this.$emit("reload"),K.clear()},()=>{K.clear(),K.alert("Something went wrong. Update Schedule failed")}),this.$store.commit(Fn.saveScheduleDayToWeek),this.toggleShow()},createSche(){if(!this.validateForm())return;const e=lm(this.$store.state.FlexSchedule.calendarFocusDate,this.dayInWeek,this.manageCompanyConfig.getAllowSundayFirst()),[t,n]=Zl(e,this.day.startTime,this.day.endTime);K.loading();let s=[{EmployeeNo:this.$store.state.FlexSchedule.selectedFlexDay.employeeNo,Date:e,StartTime:t,EndTime:n,Hours:this.day.hours,PublishStatus:this.$store.state.FlexSchedule.selectedFlexDay.publishStatus?this.$store.state.FlexSchedule.selectedFlexDay.publishStatus:this.getPublishStateBaseOnEmp(),ScheduleType:"Flex",ScheduleData:{ShiftId:this.selectedShift.shiftType?this.selectedShift.shiftType:"",BreakLength:this.day.breakLength,Position:this.selectedPosition.positionCode,CostElement1:this.selectedCostElement1?this.selectedCostElement1.id:"",CostElement2:this.selectedCostElement2?this.selectedCostElement2.id:""},Notes:this.day.notes}];Pe.CreateFlexSchedule(s).then(i=>{if(i.Error)throw i;this.$store.commit(Fn.saveScheduleDayToWeek),K.clear(),this.toggleShow(),this.$emit("reload")}).catch(i=>{K.clear(),i.Error?K.alert(i.Error):K.alert("Something went wrong. Create Schedule failed")})},allowDelete(){return this.$store.state.FlexSchedule.selectedFlexDay.id!==0},allowSwap(){return M(this.dialogDate,"DD/MM/YYYY").diff(M().startOf("day"))<0?!1:this.$store.state.FlexSchedule.selectedFlexDay.publishStatus==="published"},confirmIfDeleteSche(){if(!this.$store.state.FlexSchedule.selectedFlexDay.id){K.alert("This record cannot be deleted yet, as it is too far away from today's date.");return}K.confirmOrCancel({message:"Are you sure you want to delete this schedule?"}).then(()=>{this.deleteSche(this.$store.state.FlexSchedule.selectedFlexDay.id)})},deleteSche(e){K.loading();const t=lm(this.$store.state.FlexSchedule.calendarFocusDate,this.dayInWeek,this.manageCompanyConfig.getAllowSundayFirst()),[n,s]=Zl(t,this.day.startTime,this.day.endTime);let i={Id:this.$store.state.FlexSchedule.selectedFlexDay.id,EmployeeNo:this.$store.state.FlexSchedule.selectedFlexDay.employeeNo,Date:t,StartTime:n,EndTime:s,Hours:this.day.hours,PublishStatus:this.$store.state.FlexSchedule.selectedFlexDay.publishStatus?this.$store.state.FlexSchedule.selectedFlexDay.publishStatus:"draft",ScheduleData:{ShiftId:this.selectedShift.shiftType,BreakLength:this.day.breakLength,Position:this.selectedPosition.positionCode,CostElement1:this.selectedCostElement1?this.selectedCostElement1.id:void 0,CostElement2:this.selectedCostElement1?this.selectedCostElement2.id:void 0}};Pe.DeleteFlexSchedule(i).then(o=>{this.$emit("reload"),this.toggleShow()},o=>{K.alert("Something went wrong. Delete Schedule failed")}).finally(()=>{})},updateNotes(e){const t=e.target;this.day.notes=t.value},confirmIfSwapSche(){this.$emit("swapSche",this.$store.state.FlexSchedule.selectedFlexDay),this.$refs.ModalRef.toggleShow()},openEdit(){var t;this.breakMinutes=null,this.breakHours=null;let e;this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData&&(e=this.shiftOptions.find(n=>n.shiftType===this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.ShiftId)),e&&(this.selectedShift=e),this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData&&(this.selectedCostElement1=this.costElementOptions.find(n=>n.id===this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.CostElement1),this.selectedCostElement2=this.costElementOptions.find(n=>n.id===this.$store.state.FlexSchedule.selectedFlexDay.ScheduleData.CostElement2)),this.employeeDetail={employeeName:this.$store.state.FlexSchedule.selectedFlexDay.employeeName,employeeNo:this.$store.state.FlexSchedule.selectedFlexDay.employeeNo},this.dayInWeek=this.$store.state.FlexSchedule.selectedFlexDay.dayInWeek,this.dialogDate=GX(this.$store.state.FlexSchedule.calendarFocusDate,this.dayInWeek,this.manageCompanyConfig.getAllowSundayFirst()),this.day=this.$store.state.FlexSchedule.flexScheduleDay,this.unAvailability=(t=this.$store.state.FlexSchedule.selectedFlexDay)==null?void 0:t.unAvailability,this.checkUnavailability(),this.checkBreakHours(),this.$refs.ModalRef.toggleShow()},toggleShow(){this.$refs.ModalRef.toggleShow()}}}),Qt=e=>(ft("data-v-bc583b18"),e=e(),pt(),e),qX={class:"bold"},XX={key:0},ZX={key:1},JX={key:0},QX={key:1},eZ={key:0,class:"mt-2"},tZ={key:1,class:"error-area red"},nZ={key:2,class:"error-area red"},sZ={class:"edit-form mt-4 copy2"},iZ=Qt(()=>m("label",null,"Date",-1)),oZ=Qt(()=>m("label",null,"Employee Name",-1)),rZ=Qt(()=>m("label",null,"Employee No",-1)),aZ=Qt(()=>m("label",null,"Position",-1)),lZ={key:0},cZ=Qt(()=>m("div",{class:"mt-4"},null,-1)),uZ=Qt(()=>m("div",null,null,-1)),dZ=Qt(()=>m("label",null,"Start Time",-1)),hZ=Qt(()=>m("label",null,"Finish Time",-1)),fZ={key:0,class:"two-column orange"},pZ=Qt(()=>m("div",{class:"mt-4"},null,-1)),mZ=Qt(()=>m("div",null,null,-1)),gZ=Qt(()=>m("label",null,"Unpaid Break",-1)),yZ={class:"d-flex"},vZ={class:"break-parts"},_Z=Qt(()=>m("span",{class:"font-small"},"Hours",-1)),bZ=Qt(()=>m("div",{class:"break-parts mobile-column ml-2 mr-2"},[m("span",null,":")],-1)),SZ={class:"break-parts"},wZ=Qt(()=>m("span",{class:"font-small"},"Minutes",-1)),DZ=Qt(()=>m("label",null,"Net Hours",-1)),kZ=Qt(()=>m("label",null,"Shift ID",-1)),TZ=Qt(()=>m("div",{class:"copy2 mt-2"},"Notes",-1)),CZ=["value"],EZ={class:"mt-8 full-width d-flex justify-space-between"},xZ=Qt(()=>m("div",null,null,-1)),MZ=Qt(()=>m("span",{class:"white"},"Save",-1)),$Z=[MZ],AZ=Qt(()=>m("span",{class:"white"},"Delete",-1)),OZ=[AZ],PZ=Qt(()=>m("span",{class:"white"},"Swap",-1)),LZ=[PZ],RZ=Qt(()=>m("span",{class:"white"},"Create",-1)),NZ=[RZ],FZ=Qt(()=>m("span",{class:"white"},"Cancel",-1)),IZ=[FZ];function YZ(e,t,n,s,i,o){const r=ye("custom-select"),a=ye("Modal");return S(),qt(a,{ref:"ModalRef"},{header:Ze(()=>[m("div",null,[m("h2",qX,[e.isEdit?(S(),D("span",XX,"Edit Schedule")):(S(),D("span",ZX,[e.weekStatus==="published"?(S(),D("span",JX,"Create Schedule")):(S(),D("span",QX,"Create Schedule"))]))])])]),body:Ze(()=>[m("div",null,[e.day.scheduleType==="Team"?(S(),D("div",eZ," This schedule is generated from team schedule. ")):X("",!0),e.showTimeHourError?(S(),D("div",tZ," The value for Hours Unpaid Break field must be a whole number. Use Minutes field for breaks that last partial hours. ")):X("",!0),e.showTimeMinuteError?(S(),D("div",nZ," The value for Minutes Unpaid Break field must be a whole number. ")):X("",!0),m("div",sZ,[iZ,Ot(),m("span",null,H(e.dialogDate),1),oZ,m("span",null,H(e.employeeDetail.employeeName),1),rZ,m("span",null,H(e.employeeDetail.employeeNo),1),aZ,m("div",null,[e.positionOptions&&e.positionOptions.length===1?(S(),D("span",lZ,H(e.positionOptions[0].positionTitle),1)):e.positionOptions&&e.positionOptions.length>1?(S(),qt(r,{key:1,options:e.positionOptions,displayKey:"positionTitle",selected:e.selectedPosition,onSelectOption:e.selectPositionCustom},null,8,["options","selected","onSelectOption"])):ge((S(),D("input",{key:2,"onUpdate:modelValue":t[0]||(t[0]=c=>e.day.position=c)},null,512)),[[xt,e.day.position]])]),cZ,uZ,dZ,ge(m("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.day.startTime=c),onChange:t[2]||(t[2]=c=>e.updateStartTime(e.day))},null,544),[[xt,e.day.startTime]]),hZ,ge(m("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>e.day.endTime=c),onChange:t[4]||(t[4]=c=>e.updateEndTime(e.day))},null,544),[[xt,e.day.endTime]]),e.showUnAvaError?(S(),D("span",fZ,"Note: This schedule's time overlaps with this person's unavailability time.")):X("",!0),pZ,mZ,gZ,m("div",yZ,[m("div",vZ,[ge(m("input",{type:"number",step:"any","onUpdate:modelValue":t[5]||(t[5]=c=>e.breakHours=c),onChange:t[6]||(t[6]=(...c)=>e.calcBreakHour&&e.calcBreakHour(...c)),onKeydown:t[7]||(t[7]=c=>e.breakValidation(c))},null,544),[[xt,e.breakHours,void 0,{lazy:!0}]]),_Z]),bZ,m("div",SZ,[ge(m("input",{type:"number",step:"any","onUpdate:modelValue":t[8]||(t[8]=c=>e.breakMinutes=c),onChange:t[9]||(t[9]=(...c)=>e.calcBreakHour&&e.calcBreakHour(...c)),onKeydown:t[10]||(t[10]=c=>e.breakValidation(c))},null,544),[[xt,e.breakMinutes,void 0,{lazy:!0}]]),wZ])]),DZ,ge(m("input",{"onUpdate:modelValue":t[11]||(t[11]=c=>e.fixedHours=c)},null,512),[[xt,e.fixedHours,void 0,{lazy:!0}]]),kZ,m("div",null,[e.shiftOptions&&e.shiftOptions.length>0?(S(),qt(r,{key:0,options:e.shiftOptions,displayKey:"description",selected:e.selectedShift,onSelectOption:e.selectShift},null,8,["options","selected","onSelectOption"])):X("",!0)])]),TZ,m("div",null,[m("textarea",{class:"note-textarea",value:e.day.notes,onChange:t[12]||(t[12]=(...c)=>e.updateNotes&&e.updateNotes(...c))},null,40,CZ)])])]),footer:Ze(()=>[m("div",EZ,[xZ,m("div",null,[e.isEdit?(S(),D("button",{key:0,class:"blue small copy2",onClick:t[13]||(t[13]=c=>e.updateSche())},$Z)):X("",!0),e.isEdit&&e.allowDelete()?(S(),D("button",{key:1,class:"grey small copy2 ml-2",onClick:t[14]||(t[14]=c=>e.confirmIfDeleteSche())},OZ)):X("",!0),e.isEdit&&e.allowSwap()?(S(),D("button",{key:2,class:"grey small copy2 ml-2",onClick:t[15]||(t[15]=c=>e.confirmIfSwapSche())},LZ)):X("",!0),e.isEdit?X("",!0):(S(),D("button",{key:3,class:"blue small copy2",onClick:t[16]||(t[16]=c=>e.createSche())},NZ)),m("button",{class:"ml-2 small orange copy2",onClick:t[17]||(t[17]=c=>e.cancel())},IZ)])])]),_:1},512)}const Ty=Ne(KX,[["render",YZ],["__scopeId","data-v-bc583b18"]]),HZ={props:["data"],computed:{tel(){return typeof this.data.Key=="string"&&(this.data.Key.includes("Phone")||this.data.Key.includes("Mobile"))?`tel:${this.data.Value}`:null},email(){return typeof this.data.Value=="string"&&this.data.Value.includes("@")?`mailto:${this.data.Value}`:null}}},WZ={class:"field-display"},BZ={class:"label"},VZ=["href"],UZ=["href"],zZ={key:2,class:"value"};function jZ(e,t,n,s,i,o){return S(),D("div",WZ,[m("div",BZ,H(n.data.Label),1),o.email?(S(),D("a",{key:0,href:o.email,class:"value"},H(n.data.Value),9,VZ)):X("",!0),!o.email&&o.tel?(S(),D("a",{key:1,href:o.tel,class:"value"},H(n.data.Value),9,UZ)):X("",!0),!o.email&&!o.tel?(S(),D("div",zZ,H(n.data.Value),1)):X("",!0)])}const GZ=Ne(HZ,[["render",jZ]]),KZ={},qZ={class:"separator"};function XZ(e,t,n,s,i,o){return S(),D("div",qZ)}const ZZ=Ne(KZ,[["render",XZ]]),JZ={props:["data"]},QZ={class:"youtube-input"},eJ=["src"];function tJ(e,t,n,s,i,o){return S(),D("div",QZ,[m("iframe",{class:"video-frame",src:"//www.youtube.com/embed/"+n.data.Value+"?autoplay=0&controls=1&rel=0&showinfo=0&theme=light&modestbranding=1"},null,8,eJ)])}const nJ=Ne(JZ,[["render",tJ]]),sJ={props:["data"]};function iJ(e,t,n,s,i,o){return S(),D("p",null,H(n.data.Label),1)}const oJ=Ne(sJ,[["render",iJ]]),rJ={props:["data"]},aJ={class:"explanation"};function lJ(e,t,n,s,i,o){return S(),D("p",aJ,H(n.data.Label),1)}const cJ=Ne(rJ,[["render",lJ]]),uJ={props:["data"]},dJ={class:"attachment"},hJ={class:"label"},fJ={class:"value"},pJ={href:"#"};function mJ(e,t,n,s,i,o){return S(),D("div",dJ,[m("div",hJ,H(n.data.Label),1),m("div",fJ,[m("a",pJ,H(n.data.Value.Display),1)])])}const gJ=Ne(uJ,[["render",mJ]]),yJ={props:["data"]},vJ={class:"subheading"},_J={class:"label"};function bJ(e,t,n,s,i,o){return S(),D("div",vJ,[m("div",_J,H(n.data.Label),1)])}const SJ=Ne(yJ,[["render",bJ]]),wJ={props:["data"]},DJ=["href"];function kJ(e,t,n,s,i,o){return S(),D("a",{href:n.data.Value},H(n.data.Label),9,DJ)}const TJ=Ne(wJ,[["render",kJ]]),CJ={props:["title","icon","data","loading","error"],components:{FieldDisplay:GZ,Separator:ZZ,YoutubeInput:nJ,Paragraph:oJ,Explanation:cJ,AttachFile:gJ,Subheading:SJ,Link:TJ},computed:{items(){if(this.data)return this.data.filter(e=>e.Type==="Separator"||e.Type==="Subheading"||e.Type==="Explanation"||e.Type==="Paragraph"||e.Type==="YoutubeInput"||e.Type==="Link"||e.Value)}}},EJ={class:"cf-widget"};function xJ(e,t,n,s,i,o){return S(),D("div",EJ,[(S(!0),D(de,null,$e(o.items,(r,a)=>(S(),qt(h2(r.Type),{data:r,class:"item",key:a},null,8,["data"]))),128))])}const MJ=Ne(CJ,[["render",xJ]]),$J=Ve({name:"TestEmployeeList",components:{Modal:cs,CfWidget:MJ},props:{externalDetail:{type:Array}},data(){return{title:"data title",loading:!1,error:null}},mounted(){},methods:{toggleShow(){this.$refs.ModalRef.toggleShow()}}}),AJ=e=>(ft("data-v-6b2a4ec9"),e=e(),pt(),e),OJ=AJ(()=>m("h2",{class:"bold"},"Employee Details",-1)),PJ={class:"mt-4"},LJ={class:"mt-4"};function RJ(e,t,n,s,i,o){const r=ye("cf-widget"),a=ye("Modal");return S(),qt(a,{ref:"ModalRef"},{header:Ze(()=>[OJ]),body:Ze(()=>[m("div",PJ,[ce(r,{title:e.title,icon:"",class:"my-pay-widget",data:e.externalDetail,loading:e.loading,error:e.error},null,8,["title","data","loading","error"])])]),footer:Ze(()=>[m("div",LJ,[m("button",{class:"grey small white--text",onClick:t[0]||(t[0]=(...c)=>e.toggleShow&&e.toggleShow(...c))}," Close ")])]),_:1},512)}const FT=Ne($J,[["render",RJ],["__scopeId","data-v-6b2a4ec9"]]),NJ=Ve({name:"FlexScheduleCellControl",setup(){const e=_n(),t=V(!1),n=V([]),s=e.state.FlexSchedule.flexScheduleCellSetting;return{open:t,cellSettings:s,optionSelected:n}},methods:{optionChanged(){localStorage.setItem("flexScheduleCellSetting",JSON.stringify(this.cellSettings))},checkOptions(e){this.$emit("checkOptions",e)}}}),FJ=e=>(ft("data-v-3b838469"),e=e(),pt(),e),IJ={class:"cell-config-list"},YJ={class:"custom-select",tabindex:"1"},HJ=FJ(()=>m("div",{class:"custom-select-selected"},"Show/Hide Details",-1)),WJ={class:"custom-select-items"},BJ=["onClick"],VJ={class:"cell-config"},UJ=["onUpdate:modelValue"];function zJ(e,t,n,s,i,o){return S(),D("div",IJ,[m("div",null,[m("div",YJ,[HJ,m("div",WJ,[(S(!0),D(de,null,$e(e.cellSettings,(r,a)=>(S(),D("div",{class:"custom-select-item",key:a,onClick:c=>e.checkOptions(r)},[m("div",VJ,[m("label",null,H(r.name),1),ge(m("input",{type:"checkbox","onUpdate:modelValue":c=>r.value=c,onChange:t[0]||(t[0]=(...c)=>e.optionChanged&&e.optionChanged(...c))},null,40,UJ),[[Ur,r.value]])])],8,BJ))),128))])])])])}const Xh=Ne(NJ,[["render",zJ],["__scopeId","data-v-3b838469"]]),jJ=Ve({name:"FlexScheduleCostCenter",props:{costCenterOptions:{type:Array}},setup(){const e=_n(),t=V(!1),n=V([]),s=e.state.LookUp.costCenters;return{open:t,costCenters:s,optionSelected:n}},methods:{checkOptions(e){if(e.selected=!e.selected,e.costCentreId===-1&&this.costCenterOptions){for(const t of this.costCenterOptions)t.selected=!1;this.costCenterOptions[0].selected=!0}else this.costCenterOptions[0].selected=!1;this.$emit("selectOption",this.costCenterOptions)}}}),GJ=e=>(ft("data-v-ca4031b8"),e=e(),pt(),e),KJ={class:"cell-config-list costCenter-wrapper"},qJ={class:"custom-select",tabindex:"1"},XJ=GJ(()=>m("div",{class:"custom-select-selected"}," Select Cost Centre ",-1)),ZJ={class:"custom-select-items"},JJ=["onClick"],QJ={class:"cell-config"},eQ=["onUpdate:modelValue"];function tQ(e,t,n,s,i,o){const r=Ci("tooltip");return S(),D("div",KJ,[m("div",null,[m("div",qJ,[XJ,m("div",ZJ,[(S(!0),D(de,null,$e(e.costCenterOptions,(a,c)=>(S(),D("div",{class:"custom-select-item",key:c,onClick:d=>{e.checkOptions(a)}},[m("div",QJ,[ge((S(),D("label",null,[Ot(H(a.description),1)])),[[r,{content:a.description},void 0,{top:!0}]]),ge(m("input",{type:"checkbox","onUpdate:modelValue":d=>a.selected=d},null,8,eQ),[[Ur,a.selected]])])],8,JJ))),128))])])])])}const IT=Ne(jJ,[["render",tQ],["__scopeId","data-v-ca4031b8"]]),nQ=Ve({name:"PublishDialog",components:{Modal:cs,MultiSelect:el},data(){return{selectOptions:[],selectedDate:"",showPublishByEmployee:!1}},mounted(){this.showPublishByEmployee=!1,this.selectOptions=this.$store.getters[Yr.getFilteredEmployees].slice()},methods:{selectOption(){},resetData(){this.showPublishByEmployee=!1},publish(){if(!this.showPublishByEmployee){const t=this.selectOptions.map(n=>n.employeeNo);this.$emit("publish",t),this.$refs.ModalRef.toggleShow();return}if(this.selectOptions[0].isAll&&this.selectOptions[0].isSelected){this.publishAllEmployee();return}let e=this.selectOptions.filter(t=>t.isSelected).map(t=>t.employeeNo);this.$emit("publish",e),this.$refs.ModalRef.toggleShow()},publishAllEmployee(){let e=this.selectOptions.slice();e.shift();const t=e.map(n=>n.employeeNo);this.$emit("publish",t),this.$refs.ModalRef.toggleShow()},cancel(){this.toggleShow()},setSelectedDate(e){this.selectedDate=e},toggleShow(){console.log("toggle show"),this.resetData(),this.selectOptions=this.$store.getters[Yr.getFilteredEmployees].slice(),this.$refs.ModalRef.toggleShow()}}}),Vc=e=>(ft("data-v-ead8b1fa"),e=e(),pt(),e),sQ=Vc(()=>m("div",null,[m("h2",null,[m("b",null,"Publish Flexi Schedule")])],-1)),iQ={class:"full-width mt-4"},oQ={key:0},rQ=Vc(()=>m("br",null,null,-1)),aQ={key:1},lQ={key:0},cQ=Vc(()=>m("span",null,"Publish by individual employee(s)",-1)),uQ=[cQ],dQ={key:1},hQ={class:"container-half mt-4"},fQ=Vc(()=>m("label",null,"Select Employees",-1)),pQ=Vc(()=>m("div",{class:"line-break mt-4"},null,-1)),mQ={class:"d-flex justify-end full-width mt-4"};function gQ(e,t,n,s,i,o){const r=ye("multi-select"),a=ye("Modal");return S(),qt(a,{ref:"ModalRef","no-overflow-auto-body":!0},{header:Ze(()=>[sQ]),body:Ze(()=>[m("div",iQ,[m("div",null,[e.showPublishByEmployee===!1?(S(),D("span",oQ,[Ot("Are you sure you want to publish the schedule for week "+H(e.selectedDate)+"? ",1),rQ,Ot(" This will publish the schedule for all employees.")])):X("",!0),e.showPublishByEmployee===!0?(S(),D("span",aQ,"Are you sure you want to publish the schedule for week "+H(e.selectedDate)+"?",1)):X("",!0)]),e.showPublishByEmployee===!1?(S(),D("div",lQ,[m("button",{class:"text-button mt-4",onClick:t[0]||(t[0]=c=>e.showPublishByEmployee=!0)},uQ)])):X("",!0),e.showPublishByEmployee===!0?(S(),D("div",dQ,[m("div",hQ,[fQ,ce(r,{class:"mt-2",targetString:"commonName",allowAll:!0,selectOptionInput:e.selectOptions},null,8,["selectOptionInput"])])])):X("",!0),pQ])]),footer:Ze(()=>[m("div",mQ,[m("button",{class:"blue xsmall white--text mr-2",onClick:t[1]||(t[1]=(...c)=>e.publish&&e.publish(...c))},"Publish"),m("button",{class:"orange xsmall white--text",onClick:t[2]||(t[2]=(...c)=>e.cancel&&e.cancel(...c))},"Cancel")])]),_:1},512)}const YT=Ne(nQ,[["render",gQ],["__scopeId","data-v-ead8b1fa"]]);function ng(e){return{id:e.id,startTime:e.startTime,endTime:e.endTime,hours:e.hours,date:e.date,isPaid:e.isPaid,scheduleType:e.scheduleType,dayInWeek:e.dayInWeek,publishStatus:e.publishStatus,breakLength:e.scheduleDetail.breakLength,position:e.scheduleDetail.position,positionTitle:e.scheduleDetail.positionTitle,shiftId:e.scheduleDetail.shiftId,notes:e.notes}}function yQ(e,t,n){let s=n.flexSchedules;const i=new Map;for(let o of t){const r={...o};r.show=!0,i.set(o.employeeNo,r)}for(let o of s){const r=i.get(o.EmployeeNo);if(r&&!r.sche)r.sche=[ng(o)];else if(r){const a=ng(o);r.sche.push(a)}}return i}function vQ(e,t,n){let s=n.flexSchedules;const i=new Map;for(let o of t){const r={...o};r.show=!0,i.set(o.employeeNo,r)}for(let o of s){const r=i.get(o.EmployeeNo);r&&(r.sche=ng(o))}for(let o of i.values())o.sche||(o.sche={},o.sche.dayInWeek=0,o.sche.employeeName=o.employeeName,o.sche.employeeNo=o.employeeNo),o.sche.allowCreateOrEdit=!0,o.sche.editing=!1;return i}function _Q(e,t,n){var s;for(let i of t)if(i.leaveUnits)for(let o of i.leaveUnits){let r=M(o.leaveDate).diff(e,"days");r<0||(o.calcUnit=i.calcUnit,o.leaveCode=i.leaveCode,o.leaveName=i.leaveName,(s=n.get(i.employeeNo))!=null&&s.sche[r]&&(n.get(i.employeeNo).sche[r].leaveUnit=o))}}function bQ(e,t){var n;for(let s of e)if(s.leaveUnits)for(let i of s.leaveUnits)i.calcUnit=s.calcUnit,i.leaveCode=s.leaveCode,i.leaveName=s.leaveName,(n=t.get(s.employeeNo))!=null&&n.sche&&(t.get(s.employeeNo).sche.leaveUnit=i)}function SQ(e,t){for(let n of e.unAvailabilities){let s=M(n.unavailabilityDate).day();t.get(n.employeeNo)&&t.get(n.employeeNo).sche&&t.get(n.employeeNo).sche[s]&&(t.get(n.employeeNo).sche[s].unAvailability=n)}}function wQ(e,t){for(let n of e.unAvailabilities)t.get(n.employeeNo)&&t.get(n.employeeNo).sche&&(t.get(n.employeeNo).sche.unAvailability=n)}function DQ(e,t,n){var s;console.log("gridDataset",t),M();for(let i of t.values()){let o=i.employeeName||i.EmployeeName,r=i.employeeNo||i.EmployeeNo,a=0;for(let c=0;c<=6;c++){let d;if(i.sche?d=i.sche.find(h=>{let p;return n?p=c:(p=c+1,p>6&&(p=0)),h.dayInWeek===p}):i.sche=[],(s=i.sche[c])!=null&&s.hours&&(a=a+i.sche[c].hours),!d)if(c===0&&(!i.sche[0]||i.sche[0].dayInWeek===null||i.sche[0].dayInWeek===void 0))i.sche[0]={},n?i.sche[0].dayInWeek=0:i.sche[0].dayInWeek=1,i.sche[0].employeeName=o,i.sche[0].employeeNo=r;else{let h;n?h=c:(h=c+1,h>6&&(h=0)),i.sche.push({dayInWeek:h,employeeName:o,employeeNo:r})}}if(i.sche.sort((c,d)=>c.dayInWeek-d.dayInWeek),!n){const c=i.sche.shift();i.sche.push(c)}for(let[c,d]of i.sche.entries())d.allowCreateOrEdit=!0,d.editing=!1;i.netHours=a}}const Xi={prepareGridData:yQ,prepareGridDataMobile:vQ,scheDaysToColumn:DQ,addLeaveToGrid:_Q,addUnAvaToGrid:SQ,addUnAvaToGridMobile:wQ,addLeaveToGridMobile:bQ};function Mi(e,t,n){return n={path:t,exports:{},require:function(s,i){return kQ(s,i??n.path)}},e(n,n.exports),n.exports}function kQ(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var za=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;function n(s,i,o){for(var r=Object.create(null),a=[s,i,o],c=0;c<3;c++){var d=a[c];if(typeof d=="object"&&d)for(var h in d)r[h]=d[h]}return r}t.merge=n}),lw=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fullCustomisations=t.defaults=void 0,t.defaults=Object.freeze({inline:!1,width:null,height:null,hAlign:"center",vAlign:"middle",slice:!1,hFlip:!1,vFlip:!1,rotate:0});function n(s){return za.merge(t.defaults,s)}t.fullCustomisations=n}),cw=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.alignmentFromString=t.flipFromString=void 0;var n=/[\s,]+/;function s(o,r){r.split(n).forEach(function(a){var c=a.trim();switch(c){case"horizontal":o.hFlip=!0;break;case"vertical":o.vFlip=!0;break}})}t.flipFromString=s;function i(o,r){r.split(n).forEach(function(a){var c=a.trim();switch(c){case"left":case"center":case"right":o.hAlign=c;break;case"top":case"middle":case"bottom":o.vAlign=c;break;case"slice":case"crop":o.slice=!0;break;case"meet":o.slice=!1}})}t.alignmentFromString=i}),TQ=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.rotateFromString=void 0;function n(s){var i=s.replace(/^-?[0-9.]*/,"");function o(d){for(;d<0;)d+=4;return d%4}if(i===""){var r=parseInt(s);return isNaN(r)?0:o(r)}else if(i!==s){var a=0;switch(i){case"%":a=25;break;case"deg":a=90}if(a){var c=parseFloat(s.slice(0,s.length-i.length));return isNaN(c)?0:(c=c/a,c%1===0?o(c):0)}}return 0}t.rotateFromString=n}),Jl=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fullIcon=t.iconDefaults=void 0,t.iconDefaults=Object.freeze({body:"",left:0,top:0,width:16,height:16,rotate:0,vFlip:!1,hFlip:!1});function n(s){return za.merge(t.iconDefaults,s)}t.fullIcon=n}),cm=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateSize=void 0;var n=/(-?[0-9.]*[0-9]+[0-9.]*)/g,s=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function i(o,r,a){if(r===1)return o;if(a=a===void 0?100:a,typeof o=="number")return Math.ceil(o*r*a)/a;if(typeof o!="string")return o;var c=o.split(n);if(c===null||!c.length)return o;for(var d=[],h=c.shift(),p=s.test(h);;){if(p){var g=parseFloat(h);isNaN(g)?d.push(h):d.push(Math.ceil(g*r*a)/a)}else d.push(h);if(h=c.shift(),h===void 0)return d.join("");p=!p}}t.calculateSize=i}),CQ=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.iconToSVG=void 0;function n(i){var o="";switch(i.hAlign){case"left":o+="xMin";break;case"right":o+="xMax";break;default:o+="xMid"}switch(i.vAlign){case"top":o+="YMin";break;case"bottom":o+="YMax";break;default:o+="YMid"}return o+=i.slice?" slice":" meet",o}function s(i,o){var r={left:i.left,top:i.top,width:i.width,height:i.height},a=[],c=o.hFlip!==i.hFlip,d=o.vFlip!==i.vFlip,h=o.rotate+i.rotate;c?d?h+=2:(a.push("translate("+(r.width+r.left)+" "+(0-r.top)+")"),a.push("scale(-1 1)"),r.top=r.left=0):d&&(a.push("translate("+(0-r.left)+" "+(r.height+r.top)+")"),a.push("scale(1 -1)"),r.top=r.left=0);var p;switch(h=h%4,h){case 1:p=r.height/2+r.top,a.unshift("rotate(90 "+p+" "+p+")");break;case 2:a.unshift("rotate(180 "+(r.width/2+r.left)+" "+(r.height/2+r.top)+")");break;case 3:p=r.width/2+r.left,a.unshift("rotate(-90 "+p+" "+p+")");break}h%2===1&&((r.left!==0||r.top!==0)&&(p=r.left,r.left=r.top,r.top=p),r.width!==r.height&&(p=r.width,r.width=r.height,r.height=p));var g,y;o.width===null&&o.height===null?(y="1em",g=cm.calculateSize(y,r.width/r.height)):o.width!==null&&o.height!==null?(g=o.width,y=o.height):o.height!==null?(y=o.height,g=cm.calculateSize(y,r.width/r.height)):(g=o.width,y=cm.calculateSize(g,r.height/r.width)),g==="auto"&&(g=r.width),y==="auto"&&(y=r.height),g=typeof g=="string"?g:g+"",y=typeof y=="string"?y:y+"";var _=i.body;a.length&&(_='<g transform="'+a.join(" ")+'">'+_+"</g>");var T={attributes:{width:g,height:y,preserveAspectRatio:n(o),viewBox:r.left+" "+r.top+" "+r.width+" "+r.height},body:_};return o.inline&&(T.inline=!0),T}t.iconToSVG=s}),EQ=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.replaceIDs=void 0;var n=/\sid="(\S+)"/g,s="IconifyId-"+Date.now().toString(16)+"-"+(Math.random()*16777216|0).toString(16)+"-",i=0;function o(a,c,d){for(var h=0;(h=d.indexOf(a,h))!==-1;)d=d.slice(0,h)+c+d.slice(h+a.length),h+=c.length;return d}function r(a,c){c===void 0&&(c=s);for(var d=[],h;h=n.exec(a);)d.push(h[1]);return d.length&&d.forEach(function(p){var g=typeof c=="function"?c():c+i++;a=o('="'+p+'"','="'+g+'"',a),a=o('="#'+p+'"','="#'+g+'"',a),a=o("(#"+p+")","(#"+g+")",a)}),a}t.replaceIDs=r}),uw=Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeIcons=void 0;var n=Object.keys(Jl.iconDefaults);function s(i,o){var r=Object.create(null);return n.forEach(function(a){if(i[a]===void 0){o[a]!==void 0&&(r[a]=o[a]);return}if(o[a]===void 0){r[a]=i[a];return}switch(a){case"rotate":r[a]=(i[a]+o[a])%4;return;case"hFlip":case"vFlip":r[a]=i[a]!==o[a];return;default:r[a]=o[a]}}),r}t.mergeIcons=s});Mi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseIconSet=void 0;var n=Object.keys(Jl.iconDefaults);function s(o,r,a,c){c===void 0&&(c=0);var d=o.parent;if(r[d]!==void 0)return uw.mergeIcons(r[d],o);if(a[d]!==void 0){if(c>2)return null;var h=s(a[d],r,a,c+1);if(h)return uw.mergeIcons(h,o)}return null}function i(o,r,a){a===void 0&&(a="none");var c=[];if(typeof o!="object"||(o.not_found instanceof Array&&o.not_found.forEach(function(g){r(g,null),a==="all"&&c.push(g)}),typeof o.icons!="object"))return a==="none"?!1:c;var d=Object.create(null);n.forEach(function(g){o[g]!==void 0&&typeof o[g]!="object"&&(d[g]=o[g])});var h=o.icons;if(Object.keys(h).forEach(function(g){var y=h[g];typeof y.body=="string"&&(r(g,Object.freeze(za.merge(Jl.iconDefaults,d,y))),c.push(g))}),typeof o.aliases=="object"){var p=o.aliases;Object.keys(p).forEach(function(g){var y=s(p[g],h,p,1);y&&(r(g,Object.freeze(za.merge(Jl.iconDefaults,d,y))),c.push(g))})}return a==="none"?c.length>0:c}t.parseIconSet=i});var xQ={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Ql={};["horizontal","vertical"].forEach(function(e){["Align","Flip"].forEach(function(t){var n=e.slice(0,1)+t;Ql[e+"-"+t.toLowerCase()]=n,Ql[e.slice(0,1)+"-"+t.toLowerCase()]=n,Ql[e+t]=n})});var MQ=Object.create(null),HT=function(e,t,n){var s=t,i=typeof s.icon=="string"?MQ[s.icon]:Jl.fullIcon(s.icon);if(!i)return null;var o=za.merge(lw.defaults,{inline:e},t),r=za.merge(xQ),a,c=!0;typeof t.style=="string"?a={type:"string",style:t.style}:typeof t.style=="object"&&t.style instanceof Array?a={type:"array",style:t.style.slice(0)}:typeof t.style=="object"&&t.style!==null?a={type:"array",style:[t.style]}:(a={type:"string",style:""},c=!1);var d;for(var h in t){var p=t[h];switch(h){case"icon":case"style":break;case"flip":typeof p=="string"&&cw.flipFromString(o,p);break;case"align":typeof p=="string"&&cw.alignmentFromString(o,p);break;case"color":switch(d=a.type,d){case"string":a.style="color: "+p+"; "+a.style,c=!0;break;case"array":a.style.unshift({color:p});break}break;case"rotate":typeof p=="string"?o[h]=TQ.rotateFromString(p):typeof p=="number"&&(r[h]=p);break;case"ariaHidden":case"aria-hidden":p!==!0&&p!=="true"&&delete r["aria-hidden"];break;default:Ql[h]!==void 0?o[Ql[h]]=p:lw.defaults[h]===void 0&&(r[h]=p)}}var g=CQ.iconToSVG(i,o);for(var y in g.attributes)r[y]=g.attributes[y];if(g.inline)switch(d=a.type,d){case"string":a.style="vertical-align: -0.125em; "+a.style,c=!0;break;case"array":a.style.unshift({verticalAlign:"-0.125em"});break}var _=0,T=t.id;return r.innerHTML=EQ.replaceIDs(g.body,T?function(){return T+"-"+_++}:"iconify-vue-"),c&&(r.style=a.style),Ga("svg",r)},to=HT.bind(null,!1);HT.bind(null,!0);const $Q=Ve({name:"FlexScheduleMultiColumn",components:{Icon:to},props:{isEmployee:{type:Boolean,default:!1}},setup(e){const t=_n(),n=V(!1),s=V([]),i=V([]);return e.isEmployee?i.value=t.state.FlexSchedule.employeeSelectableColumn:i.value=t.state.FlexSchedule.selectableColumn,{open:n,optionSelected:s,selectionOption:i}},methods:{checkOptions(e){e.selected=!e.selected,e.selected||(e.sort=""),this.$emit("optionChanged"),localStorage.setItem("flexScheduleSelectableColumn",JSON.stringify(this.selectionOption))},selectSort(e){switch(this.selectionOption.forEach(t=>{t.optionName!==e.optionName&&(t.sort="")}),e.sort){case"Ascend":e.sort="Descend";break;case"Descend":e.sort="";break;case"":e.sort="Ascend";break;default:console.error("select sort error state")}localStorage.setItem("flexScheduleSelectableColumn",JSON.stringify(this.selectionOption)),this.$emit("sortChanged")}}}),AQ=e=>(ft("data-v-78fd1bd3"),e=e(),pt(),e),OQ={class:"cell-config-list multi-column-wrapper"},PQ={class:"custom-select",tabindex:"1"},LQ=AQ(()=>m("div",{class:"custom-select-selected"}," Add Extra Columns ",-1)),RQ={class:"custom-select-items"},NQ={class:"cell-config"},FQ=["onUpdate:modelValue","onClick"];function IQ(e,t,n,s,i,o){const r=ye("Icon");return S(),D("div",OQ,[m("div",null,[m("div",PQ,[LQ,m("div",RQ,[(S(!0),D(de,null,$e(e.selectionOption,(a,c)=>(S(),D("div",{class:"custom-select-item",key:c},[m("div",NQ,[m("label",null,H(a.optionName),1),ge(m("input",{type:"checkbox","onUpdate:modelValue":d=>a.selected=d,onClick:d=>{e.checkOptions(a)}},null,8,FQ),[[Ur,a.selected]]),a.selected?(S(),D(de,{key:0},[a.sort==="Ascend"||a.sort===""?(S(),qt(r,{key:0,icon:e.$icons.chevronUp,height:"15",class:nt({"sort-selected":a.sort==="Ascend"}),onClick:d=>e.selectSort(a)},null,8,["icon","class","onClick"])):X("",!0),a.sort==="Descend"?(S(),qt(r,{key:1,icon:e.$icons.chevronDown,height:"15",class:nt({"sort-selected":a.sort==="Descend"}),onClick:d=>e.selectSort(a)},null,8,["icon","class","onClick"])):X("",!0)],64)):X("",!0)])]))),128))])])])])}const Cy=Ne($Q,[["render",IQ],["__scopeId","data-v-78fd1bd3"]]),YQ=Ve({name:"PrintableView",props:{scheduleWeek:{type:Object},weekDays:{type:Array},selectableColumns:{type:Array}},setup(){return{cellSettings:_n().state.FlexSchedule.flexScheduleCellSetting}},methods:{getTotalHour(e){let t=0;for(let n of e)n.hours&&(t+=n.hours);return t.toFixed(2)},printFlexSchedule(){var e="left=5,top=5,resizable=yes,height=600,width=700,scrollbars=yes,status=1",t=document.getElementById("FlexSchedules").outerHTML,n=window.open("","Print",e);const s=require("!!css-loader!sass-loader!./PrintableView.scss").toString();n.document.write("<html>"),n.document.write("<head>"),n.document.write('<style type="text/css">table {border-collapse: collapse;}</style>'),n.document.write('<style type="text/css">table, th, td {border: 1px solid #cbcbcb;text-align: center;}</style>'),n.document.write(`<style type="text/css">${s}</style>`),n.document.write("</head>"),n.document.write("<body>"),n.document.write(t),n.document.write("</body></html>"),n.document.close(),n.focus(),n.print(),n.close()}}}),HQ=e=>(ft("data-v-5c3234b6"),e=e(),pt(),e),WQ={class:"flex-sche-table",id:"FlexSchedules"},BQ={class:"table-head"},VQ=HQ(()=>m("th",{class:"table-cell"},null,-1)),UQ={key:0,class:"table-cell"},zQ={class:"table-cell"},jQ={class:"table-body"},GQ={key:0,class:"schedules-arr"},KQ={class:"content-cell content-employee-name"},qQ={key:0},XQ={key:0,class:"content-cell"},ZQ={key:1,class:"content-cell"},JQ={key:2,class:"content-cell"},QQ={key:3,class:"content-cell"},eee={key:4,class:"content-cell"},tee={key:0,class:"leave-unit mt-2"},nee={key:0},see={key:1};function iee(e,t,n,s,i,o){return S(),D("table",WQ,[m("thead",null,[m("tr",BQ,[VQ,(S(!0),D(de,null,$e(e.selectableColumns,r=>(S(),D(de,null,[r&&r.selected?(S(),D("th",UQ,H(r.optionName),1)):X("",!0)],64))),256)),(S(!0),D(de,null,$e(e.weekDays,r=>(S(),D("th",zQ,H(r.day),1))),256))])]),m("tbody",jQ,[(S(!0),D(de,null,$e(e.scheduleWeek.keys(),r=>(S(),D(de,null,[e.scheduleWeek.get(r)&&e.scheduleWeek.get(r).show?(S(),D("tr",GQ,[m("td",KQ,[m("div",null,H(e.scheduleWeek.get(r).employeeName),1),e.cellSettings.showPosition.value?(S(),D("div",qQ,[m("span",null,H(e.scheduleWeek.get(r).positionTitle),1)])):X("",!0)]),(S(!0),D(de,null,$e(e.selectableColumns,a=>{var c;return S(),D(de,null,[a&&a.selected&&a.optionName==="Std Hours"?(S(),D("td",XQ,H((c=e.scheduleWeek.get(r).stdHoursPerWeek)==null?void 0:c.toFixed(2)),1)):X("",!0),a&&a.selected&&a.optionName==="Net Hours"?(S(),D("td",ZQ,H(e.scheduleWeek.get(r).netHours),1)):X("",!0),a&&a.selected&&a.optionName==="Ta Role"?(S(),D("td",JQ,H(e.scheduleWeek.get(r).taRole),1)):X("",!0),a&&a.selected&&a.optionName==="Worker Type"?(S(),D("td",QQ,H(e.scheduleWeek.get(r).workTypeName),1)):X("",!0),a&&a.selected&&a.optionName==="Roster Group"?(S(),D("td",eee,H(e.scheduleWeek.get(r).defaultRosterGroup),1)):X("",!0)],64)}),256)),(S(!0),D(de,null,$e(e.scheduleWeek.get(r).sche,a=>(S(),D("td",{class:"content-cell",style:wt(a.column)},[m("div",null,H(a.startTime)+" - "+H(a.endTime),1),a.leaveUnit?(S(),D("div",tee,[a.leaveUnit.calcUnit==="D"?(S(),D("span",nee,"Leave: "+H(a.leaveUnit.daysAppliedFor)+" day",1)):(S(),D("span",see,"Leave: "+H(a.leaveUnit.hoursAppliedFor)+" hours",1))])):X("",!0)],4))),256))])):X("",!0)],64))),256))])])}const WT=Ne(YQ,[["render",iee],["__scopeId","data-v-5c3234b6"]]),oee=Ve({name:"FlexScheduleCalendar",components:{DayCell:qh,Icon:to,FlexScheduleMultiColumn:Cy,PrintableView:WT},props:{dayFocus:{type:Object,default:M()},weekStart:{type:Object,default:null},weekEnd:{type:Object,default:null},isEmployee:{type:Boolean,default:!1}},data(){return{weekDays:[],datePickerTop:0,datePickerLeft:0,employeeList:[],employeeHeightArr:[],scheduleWeekMap:new Map,weekStatus:"",showControl:!1,extraEmpDetail:[],isAdmin:!1,hasFuturePaidDate:!1,costCenterOptions:[],selectableColumns:[],gridColumnsStyle:{},tableMinWidthStyle:{},manageCompanyConfig:null}},setup(e){const t=V(!1),n=V([]),s=V([]),i=V({}),o=V(),r=_n(),a=r.state.FlexSchedule.flexScheduleCellSetting;let c=V(Affinity.user.EmployeeNo);r.commit(Ok.resetEmployees),e.isEmployee&&(c.value=r.state.EmployeeModule.managerNo);function d(){o.value.printFlexSchedule()}return{TableContentsRef:s,TableNameRef:i,PrintableViewRef:o,isEditingDialog:t,externalDetail:n,cellSettings:a,printFlexSchedule:d,scheEmployeeNo:c}},computed:{selectedColumn(){return this.isEmployee?this.$store.state.FlexSchedule.employeeSelectableColumn:this.$store.state.FlexSchedule.selectableColumn}},watch:{weekStart(e,t){console.log("old val",t),console.log("newval",e),e.format()!==t.format()&&t!==null&&this.refreshScheduleData(e,this.weekEnd)},selectedColumn:{deep:!0,handler(e,t){this.multiColumnSelected()}}},async mounted(){console.log("mounted in calendar"),this.manageCompanyConfig=kn("MANAGE_COMPANY_CONFIG"),this.$store.dispatch(Kt.getPositions,this.scheEmployeeNo),this.$store.dispatch(Kt.getShifts),this.$store.dispatch(Kt.getCostElement),await this.$store.dispatch(Kt.getWorkTypes),this.loadDate(this.weekStart,this.weekEnd),Pe.GetDefaultWorkTypes().then(e=>{this.$store.state.FlexSchedule.defaultWorkTypes=e}),this.scheEmployeeNo>=5e6&&(this.isAdmin=!0),this.isEmployee?this.selectableColumns=this.$store.state.FlexSchedule.employeeSelectableColumn:this.selectableColumns=this.$store.state.FlexSchedule.selectableColumn,this.multiColumnSelected()},methods:{multiColumnSelected(){let e="120px ";for(const t of this.selectableColumns)t.selected&&(e=e+" "+t.width+"px");e=e+" repeat(7, 1fr)",this.gridColumnsStyle={"grid-template-columns":e},this.calculateTableMinWidth(),this.sortWeekScheduleData()},calculateTableMinWidth(){let e=120;for(const n of this.selectableColumns)n.selected&&(e=e+n.width);e=e+110*7;const t=e+"px";this.tableMinWidthStyle={"min-width":t}},sortWeekScheduleData(){const e=this.$store.state.FlexSchedule.selectableColumn,t=Array.from(this.scheduleWeekMap.values());let n;const s=e.filter(o=>o.selected&&!!o.sort);if(s&&s.length>0){const o=this.getOptionNameKey(s[0].optionName),r=t.filter(h=>h[o]!==null&&h[o]!==void 0),a=t.filter(h=>h[o]===null||h[o]===void 0);let c=[],d=[];for(let h of e)h.selected&&h.sort!==""&&(c.push(this.getOptionNameKey(h.optionName)),h.sort==="Ascend"?d.push("asc"):h.sort==="Descend"&&d.push("desc"));c.length===0?n=is.orderBy(t,h=>h.employeeName.toLowerCase(),["asc"]):(n=is.orderBy(r,c,d),a&&a.length>0&&(n=[...n,...a]))}else n=is.orderBy(t,o=>o.employeeName.toLowerCase(),["asc"]);const i=new Map;n.map(o=>{i.set(o.employeeNo,o)}),this.scheduleWeekMap=this.$store.state.FlexSchedule.scheduleWeek=i,this.$nextTick(()=>{this.resetEmployeeHeight()})},getOptionNameKey(e){switch(e){case"Std Hours":return"stdHoursPerWeek";case"Net Hours":return"netHours";case"Worker Type":return"workTypeName";case"Ta Role":return"taRole";case"Roster Group":return"defaultRosterGroup";default:return""}},showCopy(){return this.hasFuturePaidDate?!1:M().diff(this.dayFocus.clone().endOf("week"),"day")<=0},async reloadAfterEdit(){await this.refreshScheduleData(this.weekStart,this.weekEnd),this.multiColumnSelected()},async loadDate(e,t){console.log("load date in calendar"),this.weekStatus="",this.showControl=!1,this.hasFuturePaidDate=!1;let n={managerEmployeeNo:this.scheEmployeeNo,dateFrom:e.format("YYYY-MM-DD"),dateTo:t.format("YYYY-MM-DD")};K.loading();let[s,i,o]=await Promise.all([this.$store.dispatch(pc.loadFlexiSchedules,{startDate:e,endDate:t,employeeNo:this.scheEmployeeNo}),Pe.GetManagedLeaves(n),this.$store.dispatch(Ja.getEmployees,this.scheEmployeeNo)]).finally(()=>{K.clear()});K.clear(),this.setupGridData(s,i,o,e),this.$store.state.FlexSchedule.leaveList=i,this.setupDate(e),console.log("week start",e),this.checkStatus(this.scheduleWeekMap),this.setupCostCenterList(o),this.sortWeekScheduleData(),console.log("this.scheduleWeekMap",this.scheduleWeekMap),this.$nextTick(()=>{this.resetEmployeeHeight()})},setupCostCenterList(e){const t=e.map(s=>s.cost1),n=[...new Set(t)];this.$store.dispatch(Kt.getCostCenters,n)},resetEmployeeHeight(){let e=0;for(const t of this.TableContentsRef.children)this.employeeHeightArr[e]=Math.round(t.getBoundingClientRect().height*100)/100,e++},async refreshScheduleData(e,t){console.log("refresh get called"),this.weekStatus="",this.showControl=!1,this.hasFuturePaidDate=!1,K.loading();let n={managerEmployeeNo:this.scheEmployeeNo,dateFrom:e.format("YYYY-MM-DD"),dateTo:t.format("YYYY-MM-DD")};const[s,i]=await Promise.all([this.$store.dispatch(pc.loadFlexiSchedules,{startDate:e,endDate:t,employeeNo:this.scheEmployeeNo}),Pe.GetManagedLeaves(n)]);this.$store.state.FlexSchedule.leaveList=i,K.clear(),this.setupGridData(s,i,this.$store.getters[Yr.getEmployees],e),this.checkStatus(this.scheduleWeekMap),this.setupDate(e);for(const[o,r]of this.scheduleWeekMap.entries())r.show=!1;for(const o of this.$store.state.EmployeeModule.filteredEmployees){const r=this.scheduleWeekMap.get(o.employeeNo);r.show=!0}this.$nextTick(()=>{console.log(" refreshScheduleData For loop is all done rendering everything!"),this.resetEmployeeHeight()})},setupGridData(e,t,n,s){let i=Xi.prepareGridData(s,n,e);this.manageCompanyConfig.getAllowSundayFirst()?Xi.scheDaysToColumn(s,i,!0):Xi.scheDaysToColumn(s,i,!1),Xi.addLeaveToGrid(s,t,i),Xi.addUnAvaToGrid(e,i),this.scheduleWeekMap=this.$store.state.FlexSchedule.scheduleWeek=i,console.log("week map",this.scheduleWeekMap)},setupDate(e){this.$store.state.FlexSchedule.calendarFocusDate=this.dayFocus,this.weekDays=this.getSelectedWeek(e)},checkStatus(e){let t=new Set;for(const n of e.values()){n.empSchePublishState="";for(const i of n.sche)i.publishStatus&&(i.publishStatus==="draft"?n.empSchePublishState="draft":i.publishStatus==="published"&&(n.empSchePublishState="published")),!this.hasFuturePaidDate&&i.isPaid&&M(0,"HH").diff(M(i.date),"days")<=-1&&(this.hasFuturePaidDate=!0);n.empSchePublishState===""?t.add(""):t.add(n.empSchePublishState),n.sche.find(i=>i.scheduleType==="Personal"||i.scheduleType==="Team")&&(n.includeTeamOrPersonal=!0)}t.has("published")?t.has("draft")&&t.has("published")?(this.weekStatus="partial",this.$store.commit(Fn.setWeekStatus,"partial")):t.has("")&&t.has("published")?(this.weekStatus="partial",this.$store.commit(Fn.setWeekStatus,"partial")):(this.weekStatus="published",this.$store.commit(Fn.setWeekStatus,"published")):(this.weekStatus="draft",this.$store.commit(Fn.setWeekStatus,"draft"))},getSelectedWeek(e){let t=[];for(let n=0;n<=6;n++){let s=M(this.weekStart).add(n,"days");t.push({momentDay:s,day:s.format("ddd, MMM Do")})}return t},openEmployeeDetail(e){this.isEmployee||this.$emit("openEmployeeDetail",e)},openEditDialog(e){this.$emit("openEditDialog",e)}}}),BT=e=>(ft("data-v-4343ffa6"),e=e(),pt(),e),ree={class:"schedules-data-medium mt-4"},aee={class:"flex-sche-table-wrap"},lee={class:"flex-sche-table"},cee=BT(()=>m("div",{class:"table-cell table-head-corner"},null,-1)),uee={key:0,class:"table-cell"},dee={key:0,class:"schedules-arr-name sticky-left"},hee=["onClick"],fee={key:0},pee={key:1,class:"published-icon"},mee=BT(()=>m("span",null,"P",-1)),gee=[mee],yee={key:0,class:"content-cell"},vee={key:1,class:"content-cell"},_ee={key:2,class:"content-cell"},bee={key:3,class:"content-cell"},See={key:4,class:"content-cell"},wee={key:0,class:""};function Dee(e,t,n,s,i,o){const r=ye("day-cell"),a=ye("perfect-scrollbar"),c=ye("printable-view"),d=Ci("tooltip");return S(),D("div",ree,[m("div",aee,[m("div",lee,[ce(a,null,{default:Ze(()=>[m("div",{class:"table-head",style:wt(e.tableMinWidthStyle)},[m("div",{class:"schedule-head-grid",style:wt(e.gridColumnsStyle)},[cee,(S(!0),D(de,null,$e(e.selectableColumns,(h,p)=>(S(),D(de,{key:p},[h&&h.selected?(S(),D("div",uee,H(h.optionName),1)):X("",!0)],64))),128)),(S(!0),D(de,null,$e(e.weekDays,(h,p)=>(S(),D("div",{class:"table-cell-flex",key:p},H(h.day),1))),128))],4)],4),m("div",{class:"table-contents",ref:"TableContentsRef",style:wt(e.tableMinWidthStyle)},[(S(!0),D(de,null,$e(e.scheduleWeekMap.keys(),(h,p)=>(S(),D(de,{key:p},[e.scheduleWeekMap.get(h)&&e.scheduleWeekMap.get(h).show?(S(),D("div",{key:0,class:"schedules-arr-body",style:wt(e.gridColumnsStyle)},[e.scheduleWeekMap.get(h)&&e.scheduleWeekMap.get(h).show?(S(),D("div",dee,[m("div",{class:nt(["content-cell content-employee-name",{"content-employee-name-hover":!e.isEmployee}]),onClick:g=>e.openEmployeeDetail(h)},[m("span",null,H(e.scheduleWeekMap.get(h).employeeName),1),e.cellSettings.showPosition.value&&!e.isEmployee?(S(),D("div",fee,[m("span",null,H(e.scheduleWeekMap.get(h).positionTitle),1)])):X("",!0),e.scheduleWeekMap.get(h).empSchePublishState==="published"&&!e.isEmployee?ge((S(),D("span",pee,gee)),[[d,{content:"Schedule for the week is published. "},void 0,{top:!0}]]):X("",!0)],10,hee)])):X("",!0),(S(!0),D(de,null,$e(e.selectableColumns,(g,y)=>{var _;return S(),D(de,{key:y},[g&&g.selected&&g.optionName==="Std Hours"?(S(),D("div",yee,H((_=e.scheduleWeekMap.get(h).stdHoursPerWeek)==null?void 0:_.toFixed(2)),1)):X("",!0),g&&g.selected&&g.optionName==="Net Hours"?(S(),D("div",vee,H(e.scheduleWeekMap.get(h).netHours%1!==0?e.scheduleWeekMap.get(h).netHours.toFixed(2):Math.floor(e.scheduleWeekMap.get(h).netHours)),1)):X("",!0),g&&g.selected&&g.optionName==="Ta Role"?(S(),D("div",_ee,H(e.scheduleWeekMap.get(h).taRole),1)):X("",!0),g&&g.selected&&g.optionName==="Worker Type"?(S(),D("div",bee,H(e.scheduleWeekMap.get(h).workTypeName),1)):X("",!0),g&&g.selected&&g.optionName==="Roster Group"?(S(),D("div",See,H(e.scheduleWeekMap.get(h).defaultRosterGroup),1)):X("",!0)],64)}),128)),(S(!0),D(de,null,$e(e.scheduleWeekMap.get(h).sche,(g,y)=>(S(),D("div",{class:"content-cell-flex",key:y,style:wt(g.column)},[ce(r,{scheDay:g,employeeNo:h,employeeName:e.scheduleWeekMap.get(h).employeeName,allowEdit:!e.isEmployee,allowCreate:!e.isEmployee,isEmployee:e.isEmployee,onOpenEditDialog:e.openEditDialog},null,8,["scheDay","employeeNo","employeeName","allowEdit","allowCreate","isEmployee","onOpenEditDialog"])],4))),128))],4)):X("",!0)],64))),128))],4)]),_:1})])]),e.weekDays&&e.weekDays.length>0?(S(),D("div",wee,[ce(c,{scheduleWeek:e.scheduleWeekMap,weekDays:e.weekDays,selectableColumns:e.selectableColumns,ref:"PrintableViewRef"},null,8,["scheduleWeek","weekDays","selectableColumns"])])):X("",!0)])}const VT=Ne(oee,[["render",Dee],["__scopeId","data-v-4343ffa6"]]),UT=e=>(ft("data-v-33e8c723"),e=e(),pt(),e),kee={class:"filters-legends"},Tee=ja('<div class="left-box" data-v-33e8c723><div class="background-legend" data-v-33e8c723><div data-v-33e8c723><div class="flexi-legend mr-2" data-v-33e8c723></div><div class="legend-label" data-v-33e8c723>Flexi Schedule</div></div><div class="ml-8" data-v-33e8c723><div class="team-legend mr-2" data-v-33e8c723></div><div class="legend-label" data-v-33e8c723>Team Schedule</div></div><div class="ml-8" data-v-33e8c723><div class="personal-legend mr-2" data-v-33e8c723></div><div class="legend-label" data-v-33e8c723>Personal Schedule</div></div></div></div>',1),Cee={class:"weekDetail"},Eee={class:"status-section right-box"},xee={key:0,class:"copy2 ml-2 text-capitalize"},Mee={key:0,class:"flex-sched-filter"},$ee={class:"d-flex align-center"},Aee={key:0},Oee={class:"custom-select",tabindex:"1",ref:"selectRef"},Pee=UT(()=>m("span",{class:"inline-block-middle white"},"Actions",-1)),Lee={class:"inline-block-middle ml-1",style:{height:"15px"}},Ree={key:0,class:"custom-select-items"},Nee={key:1},Fee={key:0},Iee={class:"custom-select",tabindex:"1",ref:"selectRef"},Yee=UT(()=>m("span",{class:"inline-block-middle"},"Actions",-1)),Hee={class:"inline-block-middle ml-1",style:{height:"15px"}},Wee={class:"custom-select-items"},Bee={class:"action-buttons"},Vee=Ve({__name:"TopFilters",props:{isEmployee:{type:Boolean,required:!0}},emits:[Sn.OPEN_DRAFT_DIALOG,Sn.SELECT_EMPLOYEE_AND_PUBLISH,Sn.OPEN_ANALYSIS_CHART,Sn.OPEN_COST_ANALYSIS,Sn.PRINT_FLEX_SCHEDULE,Sn.CHANGE_CELL_CONTROL,Sn.SELECT_COST_CENTER,Sn.CHANGE_WEEK],setup(e,{emit:t}){const n=_n();let s=V(!1),i=V(M()),o=V(!1),r=V(0),a=V(0);const c=V(),d=t;b1(()=>{window.Affinity.user.EmployeeNo>=5e6&&(o.value=!0)});const h=An(()=>{let N=n.state.LookUp.costCenters;return N=N.map(G=>(G.selected=!1,G)),N.unshift({costCentreId:-1,description:"All",selected:!0}),N}),p=An(()=>n.getters[Hm.getWeekStatus]),g=()=>{s.value=!s.value},y=()=>n.getters[Hm.hasFuturePaidDate]===!0?!1:M().diff(i.value.clone().endOf("week"),"day")<=0,_=()=>{d(Sn.OPEN_DRAFT_DIALOG)},T=()=>{d(Sn.SELECT_EMPLOYEE_AND_PUBLISH)},w=()=>{d(Sn.OPEN_ANALYSIS_CHART)},k=()=>{d(Sn.OPEN_COST_ANALYSIS)},x=()=>{console.log("printFlexSchedule",123),d(Sn.PRINT_FLEX_SCHEDULE)},$=()=>{d(Sn.CHANGE_CELL_CONTROL)},L=()=>{console.log("dayFocus.value",i.value),i.value=i.value.subtract(7,"days").clone(),d(Sn.CHANGE_WEEK,i.value)},F=()=>{i.value=i.value.add(7,"days").clone(),d(Sn.CHANGE_WEEK,i.value)},R=async N=>{var J;let G=N.target.getClientRects()[0];r.value=G.bottom+10,a.value=G.left-80;let j;try{j=await((J=c.value)==null?void 0:J.toggleShow(i.value))}catch{return}await W(j)},W=N=>{console.log("date",N),i.value=N,n.state.FlexSchedule.calendarFocusDate=N,d(Sn.CHANGE_WEEK,i.value)},z=()=>p.value===Ta.empty||p.value===Ta.draft?"Draft":p.value===Ta.partial?"Partially Published":p.value===Ta.published?"Published":p.value,Y=N=>{const G=n.state.FlexSchedule.scheduleWeek;h.value.filter(ue=>ue.selected);const j=N.map(ue=>ue.selected?ue.costCentreId:!1);if(j.find(ue=>ue===-1)){for(const[ue,oe]of G.entries())oe.show=!0;n.state.EmployeeModule.filteredEmployees=n.state.EmployeeModule.employees;return}let J=n.state.EmployeeModule.employees.filter(ue=>!!j.find(oe=>oe===ue.cost1));n.state.EmployeeModule.filteredEmployees=J;for(const[ue,oe]of G.entries())oe.show=!1;for(const ue of J){const oe=G.get(ue.employeeNo);oe.show=!0}};return(N,G)=>(S(),D(de,null,[m("div",kee,[Tee,m("div",Cee,[m("span",{class:"arrow-height button icon small mr-4",onClick:L},[ce(jn(to),{icon:N.$icons.chevronLeft,height:"30",style:{color:"#FFFFFF"}},null,8,["icon"])]),m("span",{onClick:R},H(N.$filters.ordinalSuffix(jn(i).week()))+" Week, "+H(jn(i).format("DD/MM/YYYY")),1),m("span",{class:"arrow-height button icon small ml-4",onClick:F},[ce(jn(to),{icon:N.$icons.chevronRight,height:"30",style:{color:"#FFFFFF"}},null,8,["icon"])])]),m("div",Eee,[e.isEmployee?X("",!0):(S(),D("span",xee," Status: "+H(z()),1))])]),e.isEmployee?X("",!0):(S(),D("div",Mee,[m("div",$ee,[ce(Xh,{class:"inline-block",onCheckOptions:$}),ce(IT,{class:"ml-2",costCenterOptions:h.value,onSelectOption:Y},null,8,["costCenterOptions"]),ce(Cy,{class:"ml-2",isEmployee:e.isEmployee},null,8,["isEmployee"])]),p.value==="published"?(S(),D("div",Aee,[m("div",Oee,[m("div",null,[m("button",{class:"grey small copy2 white--text action-button-width",onClick:g},[Pee,m("span",Lee,[ce(jn(to),{icon:N.$icons.chevronDown,height:"15",style:{color:"#FFFF"}},null,8,["icon"])])])]),e.isEmployee?X("",!0):(S(),D("div",Ree,[m("div",{class:"action-buttons"},[m("button",{class:"ghost small copy2 mt-2",onClick:w}," Coverage "),m("button",{class:"ghost small copy2 mt-2",onClick:k}," Cost "),m("button",{class:"ghost small copy2 mt-2",onClick:x}," Print ")])]))],512)])):(S(),D("div",Nee,[jn(o)?X("",!0):(S(),D("div",Fee,[m("span",null,[m("div",Iee,[m("div",null,[m("button",{class:"grey small copy2 white--text action-button-width",onClick:g},[Yee,m("span",Hee,[ce(jn(to),{icon:N.$icons.chevronDown,height:"15",style:{color:"#FFFF"}},null,8,["icon"])])])]),m("div",Wee,[m("div",Bee,[y()?(S(),D("button",{key:0,class:"ghost small copy2",onClick:_}," Copy ")):X("",!0),p.value==="draft"||p.value==="partial"?(S(),D("button",{key:1,class:"ghost small copy2",onClick:T}," Publish ")):X("",!0),m("button",{class:"ghost small copy2",onClick:w}," Coverage "),m("button",{class:"ghost small copy2",onClick:k}," Costs "),m("button",{class:"ghost small copy2",onClick:x}," Print ")])])],512)])]))]))])),ce(bs,{ref_key:"DatePickerRef",ref:c,top:jn(r),left:jn(a)},null,8,["top","left"])],64))}}),zT=Ne(Vee,[["__scopeId","data-v-33e8c723"]]),Uee=Ve({name:"DatePickerInput",components:{DatePicker:bs},props:{initSourceData:{type:String,default:null},minDate:{type:Object,default:null}},setup(e,{emit:t}){const n=V(M()),s=V(!1),i=V(0),o=V(0),r=V(),a=V();return e.initSourceData&&(n.value=M(e.initSourceData)),{pickerDate:n,updateDateText:h=>{const p=h.target;n.value=M(p.value,"DD/MM/YYYY"),s.value=!1,console.log("updated date text"),t("updateDate",n.value)},updateDateTime:h=>{console.log("updateDateTime",h);let g=h.target.getClientRects()[0];i.value=g.bottom,o.value=g.left,s.value=!0,r.value.toggleShow(n.value).then(y=>{console.log("picker val",y),n.value=y,t("updateDate",n.value)}).catch(y=>{console.log("picker err",y)})},datePickerTop:i,datePickerLeft:o,DatePickerRef:r,InputRef:a}}}),zee=["value"];function jee(e,t,n,s,i,o){const r=ye("date-picker");return S(),D("div",null,[m("input",{ref:"InputRef",value:e.$filters.reformatDate(e.pickerDate),class:"d-inline-flex ma-0 pa-0 mr-2 caption",style:{"max-width":"120px"},onChange:t[0]||(t[0]=a=>e.updateDateText(a)),onClick:t[1]||(t[1]=a=>e.updateDateTime(a)),"onClick:clear":t[2]||(t[2]=a=>e.pickerDate=null)},null,40,zee),ce(r,{ref:"DatePickerRef",top:e.datePickerTop,left:e.datePickerLeft,minDate:e.minDate},null,8,["top","left","minDate"])])}const Gee=Ne(Uee,[["render",jee],["__scopeId","data-v-75293d2f"]]);async function Kee(e,t){console.log("sourceScheInput",e);const n=is.cloneDeep(e),s=is.cloneDeep(t);return await hw(e),await hw(t),n.date=s.date,n.employeeNo=s.employeeNo,s.date=e.date,s.employeeNo=e.employeeNo,await dw(n),await dw(s),!0}function dw(e){const t=M(e.date).format(Go),[n,s]=Zl(t,e.startTime,e.endTime),i={EmployeeNo:e.employeeNo,Date:t,StartTime:n,EndTime:s,Hours:e.hours,PublishStatus:e.publishStatus,ScheduleType:"Flex",ScheduleData:{ShiftId:e.scheduleDetail.shiftId?e.scheduleDetail.shiftId:"",BreakLength:e.scheduleDetail.breakLength,Position:e.scheduleDetail.position,CostElement1:e.scheduleDetail.costElement1?e.scheduleDetail.costElement1.id:"",CostElement2:e.scheduleDetail.costElement2?e.scheduleDetail.costElement2.id:""},Notes:e.notes};return Pe.CreateFlexSchedule([i])}function hw(e){const t=M(e.date).format(Go),[n,s]=Zl(t,e.startTime,e.endTime);let i={Id:e.id,EmployeeNo:e.employeeNo,Date:t,StartTime:n,EndTime:s,Hours:e.hours,PublishStatus:e.publishStatus,ScheduleData:{ShiftId:e.scheduleDetail.shiftId,BreakLength:e.scheduleDetail.breakLength,Position:e.scheduleDetail.position,CostElement1:e.scheduleDetail.costElement1?e.scheduleDetail.costElement1.id:void 0,CostElement2:e.scheduleDetail.costElement2?e.scheduleDetail.costElement2.id:void 0},Notes:e.notes};return Pe.DeleteFlexSchedule(i)}const qee=Ve({components:{Modal:cs,CustomSelect:ir,DatePickerInput:Gee},setup(e,t){const n=_n(),s=V([]),i=V({}),o=V({}),r=V(M().subtract(2,"days")),a=V();o.value.date=M().format(),console.log("employeeList",s.value);function c(W){console.log("selectEmployee1",W),i.value.employee=W,i.value.employeeName=W.employeeName,i.value.employeeNo=W.employeeNo,Ks(h)}function d(W){console.log("selectEmployee2",W),o.value.employee=W,o.value.employeeName=W.employeeName,o.value.employeeNo=W.employeeNo,Ks(p)}function h(){if(!k(i.value))return;console.log("sch2Data",i.value);const W=M(i.value.date).format("YYYY-MM-DD"),z={employeeNo:i.value.employeeNo,startDate:W,endDate:W,forManagedEmployees:!1};Pe.GetFlexSchedules(z).then(Y=>{console.log("res",Y);const N=Y.FlexSchedules[0];if(!N){_();return}i.value.scheduleDetail=M0(N.ScheduleData),i.value.startTime=N.StartTime?M(N.StartTime).format("HH:mm"):"",i.value.endTime=N.EndTime?M(N.EndTime).format("HH:mm"):"",i.value.hours=N.Hours,i.value.scheduleType=N.ScheduleType,i.value.notes=N.Notes,i.value.id=N.Id})}function p(){if(!k(o.value))return;console.log("sch2Data",o.value);const W=M(o.value.date).format("YYYY-MM-DD"),z={employeeNo:o.value.employeeNo,startDate:W,endDate:W,forManagedEmployees:!1};Pe.GetFlexSchedules(z).then(Y=>{console.log("res",Y);const N=Y.FlexSchedules[0];if(!N){T();return}o.value.scheduleDetail=M0(N.ScheduleData),o.value.startTime=N.StartTime?M(N.StartTime).format("HH:mm"):"",o.value.endTime=N.EndTime?M(N.EndTime).format("HH:mm"):"",o.value.hours=N.Hours,o.value.notes=N.Notes,o.value.scheduleType=N.ScheduleType,o.value.id=N.Id,o.value.publishStatus=N.PublishStatus})}function g(W){o.value.date=W.format(),Ks(p)}function y(W){i.value.date=W.format(),Ks(h)}function _(){i.value.scheduleDetail=null,i.value.startTime=void 0,i.value.endTime=void 0,i.value.hours=void 0,i.value.notes=void 0,i.value.scheduleType="",i.value.id=void 0}function T(){o.value.scheduleDetail=null,o.value.startTime=void 0,o.value.endTime=void 0,o.value.hours=void 0,o.value.notes=void 0,o.value.scheduleType="",o.value.id=void 0}function w(W){return s.value.find(z=>z.employeeNo===W)}function k(W){return!(W.date===""||W.employee===null)}function x(){a.value.toggleShow(!0),i.value=is.clone(n.state.FlexSchedule.selectedFlexDay),s.value=n.getters[Yr.getEmployees],console.log("flex day",i.value),i.value.employee=w(i.value.employeeNo),o.value.date=M(i.value.date).add(1,"days").format()}async function $(){if(console.log("sch1Data",i.value),console.log("sch2Data",o.value),!i.value.hours){K.alert("Please select an employee and date for schedule 1.");return}if(!o.value.employee){K.alert("Please select an employee for schedule 2.");return}if(!o.value.date){K.alert("Please select the date for schedule 2.");return}if(!o.value.employee&&!o.value.date){K.alert("Please select an employee and date for schedule 2.");return}if(!o.value.hours){K.alert("The schedule 2 employee currently has no schedule.");return}if(i.value.publishStatus!=="published"||o.value.publishStatus!=="published"){K.alert("You can only swap published schedules.");return}K.confirmOrCancel({message:"Are you sure you want to swap this schedule?"}).then(async()=>{try{K.loading(),await Kee(i.value,o.value),F(),K.clear(),t.emit("reload")}catch{K.alert("Swap Schedule failed.")}},()=>{K.clear()})}function L(){_(),T(),o.value.employee=null,o.value.employeeNo=null}function F(){L(),a.value.toggleShow(!1)}function R(){L()}return{employeeList:s,sch1Data:i,sch2Data:o,minDate:r,ModalRef:a,selectEmployee1:c,selectEmployee2:d,updateScheDate1:y,updateScheDate2:g,open:x,close:F,cancelSwap:R,swap:$,getSch1Data:h,getSche2Data:p}}}),Ut=e=>(ft("data-v-9adf9377"),e=e(),pt(),e),Xee=Ut(()=>m("div",null,[m("h2",{class:"bold"},[m("span",null,"Swap Schedules")])],-1)),Zee={class:"flex swap-body mt-4"},Jee={class:"swap-sche-body edit-form"},Qee=Ut(()=>m("h3",null,"Schedule 1",-1)),ete=Ut(()=>m("div",null,null,-1)),tte=Ut(()=>m("label",null,"Date",-1)),nte=Ut(()=>m("label",null,"Employee Name",-1)),ste=Ut(()=>m("label",null,"Employee No",-1)),ite=Ut(()=>m("label",null,"Position",-1)),ote=Ut(()=>m("label",null,"Start Time",-1)),rte=Ut(()=>m("label",null,"Finish Time",-1)),ate=Ut(()=>m("label",null,"Unpaid Break",-1)),lte=Ut(()=>m("label",null,"Net Hours",-1)),cte=Ut(()=>m("label",null,"Shift ID",-1)),ute=Ut(()=>m("label",null,"Notes",-1)),dte={class:"swap-sche-body edit-form mobile-margin-top"},hte=Ut(()=>m("h3",null,"Schedule 2",-1)),fte=Ut(()=>m("div",null,null,-1)),pte=Ut(()=>m("label",null,"Date",-1)),mte=Ut(()=>m("label",null,"Employee Name",-1)),gte=Ut(()=>m("label",null,"Employee No",-1)),yte=Ut(()=>m("label",null,"Position",-1)),vte=Ut(()=>m("label",null,"Start Time",-1)),_te=Ut(()=>m("label",null,"Finish Time",-1)),bte=Ut(()=>m("label",null,"Unpaid Break",-1)),Ste=Ut(()=>m("label",null,"Net Hours",-1)),wte=Ut(()=>m("label",null,"Shift ID",-1)),Dte=Ut(()=>m("label",null,"Notes",-1)),kte={class:"mt-4 full-width"},Tte={class:"d-flex justify-end"};function Cte(e,t,n,s,i,o){const r=ye("DatePickerInput"),a=ye("custom-select"),c=ye("Modal");return S(),qt(c,{ref:"ModalRef",onCancel:e.cancelSwap},{header:Ze(()=>[Xee]),body:Ze(()=>{var d,h,p,g,y,_,T,w;return[m("div",Zee,[m("div",Jee,[Qee,Ot(),ete,tte,ce(r,{initSourceData:e.sch1Data.date,minDate:e.minDate,onUpdateDate:e.updateScheDate1},null,8,["initSourceData","minDate","onUpdateDate"]),nte,ce(a,{options:e.employeeList,displayKey:"commonName",selected:e.sch1Data.employee,onSelectOption:e.selectEmployee1},null,8,["options","selected","onSelectOption"]),ste,m("label",null,H(e.sch1Data.employeeNo),1),ite,m("span",null,H((d=e.sch1Data.scheduleDetail)==null?void 0:d.positionTitle),1),ote,m("span",null,H(e.sch1Data.startTime),1),rte,m("span",null,H(e.sch1Data.endTime),1),ate,m("span",null,H((h=e.sch1Data.scheduleDetail)==null?void 0:h.breakLength),1),lte,m("span",null,H(e.sch1Data.hours),1),(p=e.sch1Data.scheduleDetail)!=null&&p.shiftId?(S(),D(de,{key:0},[cte,m("span",null,H((g=e.sch1Data.scheduleDetail)==null?void 0:g.shiftId),1)],64)):X("",!0),ute,m("span",null,H(e.sch1Data.notes),1)]),m("div",dte,[hte,Ot(),fte,pte,ce(r,{initSourceData:e.sch2Data.date,minDate:e.minDate,onUpdateDate:e.updateScheDate2},null,8,["initSourceData","minDate","onUpdateDate"]),mte,ce(a,{options:e.employeeList,displayKey:"commonName",selected:e.sch2Data.employee,onSelectOption:e.selectEmployee2},null,8,["options","selected","onSelectOption"]),gte,m("label",null,H(e.sch2Data.employeeNo),1),e.sch2Data&&e.sch2Data.employee&&e.sch2Data.date?(S(),D(de,{key:0},[yte,m("span",null,H((y=e.sch2Data.scheduleDetail)==null?void 0:y.positionTitle),1),vte,m("span",null,H(e.sch2Data.startTime),1),_te,m("span",null,H(e.sch2Data.endTime),1),bte,m("span",null,H((_=e.sch2Data.scheduleDetail)==null?void 0:_.breakLength),1),Ste,m("span",null,H(e.sch2Data.hours),1),(T=e.sch2Data.scheduleDetail)!=null&&T.shiftId?(S(),D(de,{key:0},[wte,m("span",null,H((w=e.sch2Data.scheduleDetail)==null?void 0:w.shiftId),1)],64)):X("",!0),Dte,m("span",null,H(e.sch2Data.notes),1)],64)):X("",!0)])])]}),footer:Ze(()=>[m("div",kte,[m("div",Tte,[m("button",{class:"white small copy2",onClick:t[0]||(t[0]=d=>e.swap())}," Swap "),m("button",{class:"orange small copy2 ml-4",onClick:t[1]||(t[1]=d=>e.close())}," Cancel ")])])]),_:1},8,["onCancel"])}const jT=Ne(qee,[["render",Cte],["__scopeId","data-v-9adf9377"]]),Ete=Ve({name:"FlexSchedule",components:{FlexScheduleCalendar:VT,SwapSchedule:jT,TopFilters:zT,FlexScheduleCostCenter:IT,CostAnalysisDialog:RT,AnalysisChart:PT,DraftCreationDialog:NT,DatePicker:bs,TimePicker:oy,EditFlexSchedule:Ty,DayCell:qh,FlexScheduleCellControl:Xh,Icon:to,AutoComplete:Ah,ExtraEmpDetail:FT,PublishDialog:YT,CustomSelect:ir,FlexScheduleMultiColumn:Cy},data(){return{dayFocus:M(),weekDays:[],weekStart:M().startOf("week"),weekEnd:M().endOf("week"),datePickerTop:0,datePickerLeft:0,employeeList:[],employeeHeightArr:[],scheduleWeekMap:new Map,weekStatus:"",initialFSData:null,showControl:!1,extraEmpDetail:[],isAdmin:!1,hasFuturePaidDate:!1,costCenterOptions:[],selectableColumns:[],gridColumnsStyle:{},tableMinWidthStyle:{},manageCompanyConfig:null}},setup(){const e=$h();Rc()&&e.push({name:"FlexScheduleMobile"});const t=_n(),n=V(),s=V(),i=V(),o=V(),r=V(),a=V(),c=V(!1),d=V([]),h=V({}),p=V(),g=V(),y=t.state.FlexSchedule.flexScheduleCellSetting;function _(){a.value.open()}function T(){n.value.toggleShow()}function w(){o.value.toggleShow()}function k(){r.value.toggleShow()}function x(R){c.value=R,s.value.openEdit()}function $(R){K.loading(),Pe.GetEmployeeExtraDetail(R).then(W=>{d.value=W.map(z=>(z.InputType==="DateTime"?(z.remoteKeyValue=z.KeyValue,z.remoteValue=z.Value,z.KeyValue=M(z.KeyValue).format("ddd DD MMM YYYY"),z.Value=M(z.Value).format("ddd DD MMM YYYY")):z.InputType==="Double"&&(z.remoteKeyValue=z.KeyValue,z.remoteValue=z.Value,z.KeyValue=Math.round(z.KeyValue*100)/100,z.Value=Math.round(z.Value*100)/100),z)),K.clear(),i.value.toggleShow()},W=>{K.clear(),K.alert("Something went wrong")})}function L(){g.value.open()}function F(){p.value.printFlexSchedule()}return t.commit(Fn.resetState),{openDraftDialog:T,openEditDialog:x,openEmployeeDetail:$,openAnalysisChart:w,openSwapSche:L,printFlexSchedule:F,openPublishDialog:k,openCostAnalysis:_,DraftCreationDialogRef:n,EditModalRef:s,ExtraEmpDetailRef:i,AnalysisChartRef:o,PublishDialogRef:r,CostAnalysisDialogRef:a,FlexScheduleCalendarRef:p,SwapScheduleRef:g,TableNameRef:h,isEditingDialog:c,externalDetail:d,cellSettings:y}},async mounted(){this.manageCompanyConfig=kn("MANAGE_COMPANY_CONFIG"),this.$store.dispatch(Kt.getPositions,Affinity.user.EmployeeNo),this.$store.dispatch(Kt.getShifts),this.$store.dispatch(Kt.getCostElement),await this.$store.dispatch(Kt.getWorkTypes),this.manageCompanyConfig.getAllowSundayFirst()?(this.weekStart=this.dayFocus.clone().startOf("week"),this.weekEnd=this.dayFocus.clone().endOf("week")):(this.weekStart=this.dayFocus.clone().startOf("isoWeek"),this.weekEnd=this.dayFocus.clone().endOf("isoWeek")),Pe.GetDefaultWorkTypes().then(e=>{this.$store.state.FlexSchedule.defaultWorkTypes=e}),Affinity.user.EmployeeNo>=5e6&&(this.isAdmin=!0),this.selectableColumns=this.$store.state.FlexSchedule.selectableColumn},methods:{reloadAfterEdit(){console.log("reload requested"),this.FlexScheduleCalendarRef.reloadAfterEdit()},changeWeek(e){console.log("changed week",e),this.dayFocus=e,this.manageCompanyConfig.getAllowSundayFirst()?(this.weekStart=this.dayFocus.clone().startOf("week"),this.weekEnd=this.dayFocus.clone().endOf("week")):(this.weekStart=this.dayFocus.clone().startOf("isoWeek"),this.weekEnd=this.dayFocus.clone().endOf("isoWeek"))},selectEmployeeAndPublish(){this.PublishDialogRef.setSelectedDate(this.dayFocus.week().toString()),this.openPublishDialog()},publishCurrentWeek(e){this.manageCompanyConfig.getAllowSundayFirst()?(this.weekStart=this.dayFocus.clone().startOf("week"),this.weekEnd=this.dayFocus.clone().endOf("week")):(this.weekStart=this.dayFocus.clone().startOf("isoWeek"),this.weekEnd=this.dayFocus.clone().endOf("isoWeek"));let t={EmployeeNumbers:e,DateFrom:this.weekStart.format("YYYY-MM-DD"),DateTo:this.weekEnd.format("YYYY-MM-DD")};K.loading(),Pe.PublishFlexSchedule(t).then(()=>{K.clear(),this.FlexScheduleCalendarRef.reloadAfterEdit()},n=>{if(n.response.status==408){K.alert("Your schedules are being published. This process can take a few minutes. You will need to refresh your screen to see the published schedules.");return}console.error(n),K.alert("Something went wrong.")})},changeDisplayControl(){this.showControl=!this.showControl}}});function xte(e,t,n,s,i,o){const r=ye("TopFilters"),a=ye("FlexScheduleCalendar"),c=ye("edit-flex-schedule"),d=ye("date-picker"),h=ye("draft-creation-dialog"),p=ye("extra-emp-detail"),g=ye("analysis-chart"),y=ye("publish-dialog"),_=ye("cost-analysis-dialog"),T=ye("swap-schedule");return S(),D(de,null,[ce(r,{isEmployee:!1,onOpenDraftDialog:e.openDraftDialog,onOpenAnalysisChart:e.openAnalysisChart,onSelectEmployeeAndPublish:e.openPublishDialog,onOpenCostAnalysis:e.openCostAnalysis,onPrintFlexSchedule:e.printFlexSchedule,onChangeWeek:e.changeWeek},null,8,["onOpenDraftDialog","onOpenAnalysisChart","onSelectEmployeeAndPublish","onOpenCostAnalysis","onPrintFlexSchedule","onChangeWeek"]),ce(a,{ref:"FlexScheduleCalendarRef",isEmployee:!1,dayFocus:e.dayFocus,weekStart:e.weekStart,weekEnd:e.weekEnd,onOpenEditDialog:e.openEditDialog,onOpenEmployeeDetail:e.openEmployeeDetail},null,8,["dayFocus","weekStart","weekEnd","onOpenEditDialog","onOpenEmployeeDetail"]),m("div",null,[ce(c,{ref:"EditModalRef",isEdit:e.isEditingDialog,weekStatus:e.weekStatus,modalIndex:1999,onSwapSche:e.openSwapSche,onReload:e.reloadAfterEdit},null,8,["isEdit","weekStatus","onSwapSche","onReload"]),ce(d,{ref:"DatePickerRef",top:e.datePickerTop,left:e.datePickerLeft},null,8,["top","left"]),ce(h,{ref:"DraftCreationDialogRef",modalIndex:1999,onReload:e.reloadAfterEdit},null,8,["onReload"]),ce(p,{ref:"ExtraEmpDetailRef",externalDetail:e.externalDetail},null,8,["externalDetail"]),ce(g,{ref:"AnalysisChartRef",modalIndex:1999},null,512),ce(y,{ref:"PublishDialogRef",onPublish:e.publishCurrentWeek},null,8,["onPublish"]),ce(_,{ref:"CostAnalysisDialogRef",dayFocus:e.dayFocus},null,8,["dayFocus"]),ce(T,{ref:"SwapScheduleRef",modalIndex:1999,onReload:e.reloadAfterEdit},null,8,["onReload"])])],64)}const Mte=Ne(Ete,[["render",xte],["__scopeId","data-v-a07f2f50"]]),$te=Ve({name:"FlexScheduleM",components:{CostAnalysisDialog:RT,AnalysisChart:PT,PrintableView:WT,DraftCreationDialog:NT,DatePicker:bs,TimePicker:oy,EditFlexSchedule:Ty,DayCell:qh,FlexScheduleCellControl:Xh,Icon:to,AutoComplete:Ah,ExtraEmpDetail:FT,PublishDialog:YT,SwapSchedule:jT},data(){return{dayFocus:M(),weekDays:[],datePickerTop:0,datePickerLeft:0,employeeList:[],scheduleWeekMap:new Map,weekStatus:"",showControl:!1,extraEmpDetail:[],isAdmin:!1,hasFuturePaidDate:!1}},setup(){const e=V(),t=V(),n=V(),s=V(!1),i=V([]),o=$h();console.log("window.innerWidth",window.innerWidth),Rc()||o.push({name:"Flex Schedule"});function r(d){s.value=d,e.value.openEdit()}function a(d){K.loading(),Pe.GetEmployeeExtraDetail(d).then(h=>{i.value=h.map(p=>(p.InputType==="DateTime"?(p.remoteKeyValue=p.KeyValue,p.remoteValue=p.Value,p.KeyValue=M(p.KeyValue).format("ddd DD MMM YYYY"),p.Value=M(p.Value).format("ddd DD MMM YYYY")):p.InputType==="Double"&&(p.remoteKeyValue=p.KeyValue,p.remoteValue=p.Value,p.KeyValue=Math.round(p.KeyValue*100)/100,p.Value=Math.round(p.Value*100)/100),p)),K.clear(),t.value.toggleShow()},h=>{K.clear(),K.alert("Something went wrong")})}function c(){n.value.open()}return{EditModalRef:e,ExtraEmpDetailRef:t,SwapScheduleRef:n,isEditingDialog:s,externalDetail:i,openEditDialog:r,openEmployeeDetail:a,openSwapSche:c}},async mounted(){this.$store.dispatch(Kt.getPositions,Affinity.user.EmployeeNo),this.$store.dispatch(Kt.getShifts),this.$store.dispatch(Kt.getCostElement),this.$store.dispatch(Kt.getWorkTypes),this.loadDate(),Pe.GetDefaultWorkTypes().then(e=>{this.$store.state.FlexSchedule.defaultWorkTypes=e}),Affinity.user.EmployeeNo>=5e6&&(this.isAdmin=!0)},methods:{showCopy(){return this.hasFuturePaidDate?!1:M().diff(this.dayFocus.endOf("week"),"day")<=0},reloadAfterEdit(){this.loadDate()},getCurrentWeekStatus(){return this.weekStatus===""||this.weekStatus==="draft"?"Draft":this.weekStatus==="partial"?"Partially Published":this.weekStatus==="published"?"Published":this.weekStatus},async loadDate(){this.weekStatus="",this.showControl=!1,this.hasFuturePaidDate=!1;let e={managerEmployeeNo:Affinity.user.EmployeeNo,dateFrom:this.dayFocus.format("YYYY-MM-DD"),dateTo:this.dayFocus.format("YYYY-MM-DD")};K.loading();let[t,n,s]=await Promise.all([this.$store.dispatch(pc.loadFlexiSchedules,{startDate:this.dayFocus,endDate:this.dayFocus,employeeNo:Affinity.user.EmployeeNo}),Pe.GetManagedLeaves(e),this.$store.dispatch(Ja.getEmployees,Affinity.user.EmployeeNo).then(o=>o.map(r=>({employeeName:r.commonName,employeeNo:r.employeeNo,stdHoursPerWeek:r.stdHoursPerWeek,positionCode:r.positionCode})))]).finally(()=>{K.clear()});K.clear();let i=Xi.prepareGridDataMobile(this.dayFocus,s,t);this.scheduleWeekMap=i,Xi.addUnAvaToGridMobile(t,i),Xi.addLeaveToGridMobile(n,i)},checkStatus(e){let t=new Set;for(const n of e.values()){n.empSchePublishState="";for(const s of n.sche)s.publishStatus&&(s.publishStatus==="draft"?n.empSchePublishState="draft":s.publishStatus==="published"&&(n.empSchePublishState="published")),!this.hasFuturePaidDate&&s.isPaid&&M(0,"HH").diff(M(s.date),"days")<=-1&&(this.hasFuturePaidDate=!0);n.empSchePublishState===""?t.add(""):t.add(n.empSchePublishState)}t.has("published")?t.has("draft")&&t.has("published")?this.weekStatus="partial":t.has("")&&t.has("published")?this.weekStatus="partial":this.weekStatus="published":this.weekStatus="draft"},async chooseCalendarDate(e){let t=e.target.getClientRects()[0];this.datePickerTop=t.bottom,this.datePickerLeft=t.left;let n;try{n=await this.$refs.DatePickerRef.toggleShow(this.dayFocus)}catch{return}await this.selectDate(n)},async selectDate(e){this.dayFocus=e,this.$store.state.FlexSchedule.calendarFocusDate=e,await this.loadDate()},getSelectedWeek(e){var t=e.clone().startOf("week");e.clone().endOf("week");let n=[];for(let s=0;s<=6;s++){let i=M(t).add(s,"days");n.push({momentDay:i,day:i.format("ddd, MMM Do")})}return n},getLastDate(){this.dayFocus=this.dayFocus.clone().subtract(1,"days"),this.$store.state.FlexSchedule.calendarFocusDate=this.dayFocus,this.loadDate()},getNextDate(){this.dayFocus=this.dayFocus.clone().add(1,"days"),this.$store.state.FlexSchedule.calendarFocusDate=this.dayFocus,this.loadDate()},moreDetail(e){this.$store.commit(Fn.setScheduleDay,e)},getTotalHour(e){let t=0;for(let n of e)n.hours&&(t+=n.hours);return t.toFixed(2)},confirmEdit(e){e.editing=!1},cancelEdit(e){},editScheDay(e){e.editing=!0},publishCurrentWeek(e){let t=this.dayFocus.clone().startOf("week"),n=this.dayFocus.clone().endOf("week"),s={EmployeeNumbers:e,DateFrom:t.format("YYYY-MM-DD"),DateTo:n.format("YYYY-MM-DD")};K.loading(),Pe.PublishFlexSchedule(s).then(()=>{this.reloadAfterEdit(),K.clear()},i=>{console.error(i),K.alert("Something went wrong.")})},changeDisplayControl(){this.showControl=!this.showControl}}}),GT=e=>(ft("data-v-15e73d1c"),e=e(),pt(),e),Ate={class:"mt-4"},Ote=ja('<div class="left-box" data-v-15e73d1c><div class="background-legend" data-v-15e73d1c><div data-v-15e73d1c><div class="flexi-legend" data-v-15e73d1c></div><div class="legend-label" data-v-15e73d1c>Flexi Schedule</div></div><div data-v-15e73d1c><div class="team-legend" data-v-15e73d1c></div><div class="legend-label" data-v-15e73d1c>Team Schedule</div></div><div data-v-15e73d1c><div class="personal-legend" data-v-15e73d1c></div><div class="legend-label" data-v-15e73d1c>Personal Schedule</div></div></div></div>',1),Pte={class:"weekDetail d-flex align-center justify-center"},Lte={class:"mt-4",style:{overflow:"auto"}},Rte={class:"flex-sche-table"},Nte=GT(()=>m("div",{class:"table-head"},[m("div",{class:"schedule-head-grid"},[m("div",{class:"table-cell"},"Employee"),m("div",{class:"table-cell"},"Schedule")])],-1)),Fte={class:"table-body"},Ite={class:"schedules-arr"},Yte=["onClick"],Hte={key:0,class:"published-icon"},Wte=GT(()=>m("span",null,"P",-1)),Bte=[Wte],Vte={class:"content-cell"};function Ute(e,t,n,s,i,o){const r=ye("Icon"),a=ye("day-cell"),c=ye("perfect-scrollbar"),d=ye("edit-flex-schedule"),h=ye("date-picker"),p=ye("extra-emp-detail"),g=ye("swap-schedule");return S(),D(de,null,[m("div",Ate,[Ote,m("div",Pte,[m("span",{class:"arrow-height mr-4",onClick:t[0]||(t[0]=y=>e.getLastDate())},[ce(r,{icon:e.$icons.chevronLeft,height:"30",style:{color:"#0000008a"}},null,8,["icon"])]),m("span",{onClick:t[1]||(t[1]=(...y)=>e.chooseCalendarDate&&e.chooseCalendarDate(...y))},H(e.$filters.ordinalSuffix(e.dayFocus.week()))+" Week, "+H(e.dayFocus.format("DD/MM/YYYY")),1),m("span",{class:"arrow-height ml-4",onClick:t[2]||(t[2]=y=>e.getNextDate())},[ce(r,{icon:e.$icons.chevronRight,height:"30",style:{color:"#0000008a"}},null,8,["icon"])])])]),m("div",Lte,[m("div",Rte,[Nte,ce(c,null,{default:Ze(()=>[m("div",Fte,[(S(!0),D(de,null,$e(e.scheduleWeekMap.keys(),y=>(S(),D("div",Ite,[m("div",{class:"content-cell content-employee-name",onClick:_=>e.openEmployeeDetail(y)},[m("span",null,H(e.scheduleWeekMap.get(y).employeeName),1),e.scheduleWeekMap.get(y).empSchePublishState==="published"?(S(),D("span",Hte,Bte)):X("",!0)],8,Yte),m("div",Vte,[ce(a,{scheDay:e.scheduleWeekMap.get(y).sche,employeeNo:e.scheduleWeekMap.get(y).employeeNo,employeeName:e.scheduleWeekMap.get(y).employeeName,allowEdit:!0,allowCreate:!0,isEmployee:!1,onOpenEditDialog:e.openEditDialog},null,8,["scheDay","employeeNo","employeeName","onOpenEditDialog"])])]))),256))])]),_:1})])]),m("div",null,[ce(d,{ref:"EditModalRef",isEdit:e.isEditingDialog,weekStatus:e.weekStatus,modalIndex:1999,onSwapSche:e.openSwapSche,onReload:e.reloadAfterEdit},null,8,["isEdit","weekStatus","onSwapSche","onReload"]),ce(h,{ref:"DatePickerRef",top:e.datePickerTop,left:e.datePickerLeft},null,8,["top","left"]),ce(p,{ref:"ExtraEmpDetailRef",externalDetail:e.externalDetail},null,8,["externalDetail"]),ce(g,{ref:"SwapScheduleRef",modalIndex:1999,onReload:e.reloadAfterEdit},null,8,["onReload"])])],64)}const zte=Ne($te,[["render",Ute],["__scopeId","data-v-15e73d1c"]]),jte=Ve({name:"FlexSchedule",components:{FlexScheduleCalendar:VT,TopFilters:zT},data(){return{weekStart:null,weekEnd:null,managerNo:null,dayFocus:M(),weekDays:[],datePickerTop:0,datePickerLeft:0,employeeList:[],employeeHeightArr:[],scheduleWeekMap:new Map,weekStatus:"",showControl:!1,extraEmpDetail:[],isAdmin:!1,hasFuturePaidDate:!1,costCenterOptions:[],gridColumnsStyle:{},tableMinWidthStyle:{},manageCompanyConfig:null}},setup(){const e=$h(),t=V({}),n=_n(),s=V(),i=n.state.FlexSchedule.flexScheduleCellSetting;return Rc()&&e.push({name:"EmployeeTeamScheduleMobile"}),n.commit(Fn.resetState),{FlexScheduleCalendarRef:s,TableNameRef:t,cellSettings:i}},async mounted(){this.manageCompanyConfig=kn("MANAGE_COMPANY_CONFIG");const e=await Pe.getMyManager();this.$store.state.EmployeeModule.managerNo=e[0].EmployeeNo,this.managerNo=e[0].EmployeeNo,this.$store.dispatch(Kt.getPositions,this.managerNo),this.$store.dispatch(Kt.getShifts),this.$store.dispatch(Kt.getCostElement),await this.$store.dispatch(Kt.getWorkTypes),this.manageCompanyConfig.getAllowSundayFirst()?(this.weekStart=this.dayFocus.clone().startOf("week"),this.weekEnd=this.dayFocus.clone().endOf("week")):(this.weekStart=this.dayFocus.clone().startOf("isoWeek"),this.weekEnd=this.dayFocus.clone().endOf("isoWeek")),Pe.GetDefaultWorkTypes().then(t=>{this.$store.state.FlexSchedule.defaultWorkTypes=t})},methods:{reloadAfterEdit(){console.log("reload requested"),this.FlexScheduleCalendarRef.reloadAfterEdit()},changeWeek(e){console.log("changed week",e),this.dayFocus=e,this.manageCompanyConfig.getAllowSundayFirst()?(this.weekStart=this.dayFocus.clone().startOf("week"),this.weekEnd=this.dayFocus.clone().endOf("week")):(this.weekStart=this.dayFocus.clone().startOf("isoWeek"),this.weekEnd=this.dayFocus.clone().endOf("isoWeek"))}}}),Gte={key:0};function Kte(e,t,n,s,i,o){const r=ye("TopFilters"),a=ye("FlexScheduleCalendar");return S(),D(de,null,[ce(r,{isEmployee:!0,onChangeWeek:e.changeWeek},null,8,["onChangeWeek"]),e.managerNo&&e.weekStart?(S(),D("div",Gte,[ce(a,{ref:"FlexScheduleCalendarRef",dayFocus:e.dayFocus,weekStart:e.weekStart,weekEnd:e.weekEnd,isEmployee:!0},null,8,["dayFocus","weekStart","weekEnd"])])):X("",!0)],64)}const qte=Ne(jte,[["render",Kte],["__scopeId","data-v-a3dd42b0"]]),Xte=Ve({name:"FlexScheduleM",components:{DatePicker:bs,TimePicker:oy,EditFlexSchedule:Ty,DayCell:qh,FlexScheduleCellControl:Xh,Icon:to,AutoComplete:Ah},data(){return{dayFocus:M(),weekDays:[],datePickerTop:0,datePickerLeft:0,employeeList:[],scheduleWeekMap:new Map,weekStatus:"",showControl:!1,extraEmpDetail:[],isAdmin:!1,hasFuturePaidDate:!1}},setup(){const e=$h();return console.log("window.innerWidth",window.innerWidth),Rc()||e.push({name:"EmployeeTeamSchedule"}),{}},async mounted(){this.$store.dispatch(Kt.getPositions,Affinity.user.EmployeeNo),this.$store.dispatch(Kt.getShifts),this.$store.dispatch(Kt.getCostElement),this.$store.dispatch(Kt.getWorkTypes),this.loadDate(),Pe.GetDefaultWorkTypes().then(e=>{this.$store.state.FlexSchedule.defaultWorkTypes=e}),Affinity.user.EmployeeNo>=5e6&&(this.isAdmin=!0)},methods:{showCopy(){return this.hasFuturePaidDate?!1:M().diff(this.dayFocus.endOf("week"),"day")<=0},reloadAfterEdit(){this.loadDate()},getCurrentWeekStatus(){return this.weekStatus===""||this.weekStatus==="draft"?"Draft":this.weekStatus==="partial"?"Partially Published":this.weekStatus==="published"?"Published":this.weekStatus},async loadDate(){this.weekStatus="",this.showControl=!1,this.hasFuturePaidDate=!1,Affinity.user.EmployeeNo,this.dayFocus.format("YYYY-MM-DD"),this.dayFocus.format("YYYY-MM-DD"),K.loading();let[e,t]=await Promise.all([this.$store.dispatch(pc.loadFlexiSchedules,{startDate:this.dayFocus,endDate:this.dayFocus,employeeNo:Affinity.user.EmployeeNo}),this.$store.dispatch(Ja.getEmployees,Affinity.user.EmployeeNo).then(s=>s.map(i=>({employeeName:i.commonName,employeeNo:i.employeeNo,stdHoursPerWeek:i.stdHoursPerWeek,positionCode:i.positionCode})))]).finally(()=>{K.clear()});K.clear();let n=Xi.prepareGridDataMobile(this.dayFocus,t,e);this.scheduleWeekMap=n},async chooseCalendarDate(e){let t=e.target.getClientRects()[0];this.datePickerTop=t.bottom,this.datePickerLeft=t.left;let n;try{n=await this.$refs.DatePickerRef.toggleShow(this.dayFocus)}catch{return}await this.selectDate(n)},async selectDate(e){this.dayFocus=e,this.$store.state.FlexSchedule.calendarFocusDate=e,await this.loadDate()},getSelectedWeek(e){var t=e.clone().startOf("week");e.clone().endOf("week");let n=[];for(let s=0;s<=6;s++){let i=M(t).add(s,"days");n.push({momentDay:i,day:i.format("ddd, MMM Do")})}return n},getLastDate(){this.dayFocus=this.dayFocus.clone().subtract(1,"days"),this.$store.state.FlexSchedule.calendarFocusDate=this.dayFocus,this.loadDate()},getNextDate(){this.dayFocus=this.dayFocus.clone().add(1,"days"),this.$store.state.FlexSchedule.calendarFocusDate=this.dayFocus,this.loadDate()},moreDetail(e){this.$store.commit(Fn.setScheduleDay,e)},getTotalHour(e){let t=0;for(let n of e)n.hours&&(t+=n.hours);return t.toFixed(2)}}}),Zte=e=>(ft("data-v-0baf5aa4"),e=e(),pt(),e),Jte={class:"mt-4"},Qte=ja('<div class="left-box" data-v-0baf5aa4><div class="background-legend" data-v-0baf5aa4><div data-v-0baf5aa4><div class="flexi-legend" data-v-0baf5aa4></div><div class="legend-label" data-v-0baf5aa4>Flexi Schedule</div></div><div data-v-0baf5aa4><div class="team-legend" data-v-0baf5aa4></div><div class="legend-label" data-v-0baf5aa4>Team Schedule</div></div><div data-v-0baf5aa4><div class="personal-legend" data-v-0baf5aa4></div><div class="legend-label" data-v-0baf5aa4>Personal Schedule</div></div></div></div>',1),ene={class:"weekDetail d-flex align-center justify-center"},tne={class:"mt-4",style:{overflow:"auto"}},nne={class:"flex-sche-table"},sne=Zte(()=>m("div",{class:"table-head"},[m("div",{class:"schedule-head-grid"},[m("div",{class:"table-cell"},"Employee"),m("div",{class:"table-cell"},"Schedule")])],-1)),ine={class:"table-body"},one={class:"schedules-arr"},rne={class:"content-cell content-employee-name"},ane={class:"content-cell"};function lne(e,t,n,s,i,o){const r=ye("Icon"),a=ye("day-cell"),c=ye("perfect-scrollbar");return S(),D(de,null,[m("div",Jte,[Qte,m("div",ene,[m("span",{class:"arrow-height mr-4",onClick:t[0]||(t[0]=d=>e.getLastDate())},[ce(r,{icon:e.$icons.chevronLeft,height:"30",style:{color:"#0000008a"}},null,8,["icon"])]),m("span",{onClick:t[1]||(t[1]=(...d)=>e.chooseCalendarDate&&e.chooseCalendarDate(...d))},H(e.$filters.ordinalSuffix(e.dayFocus.week()))+" Week, "+H(e.dayFocus.format("DD/MM/YYYY")),1),m("span",{class:"arrow-height ml-4",onClick:t[2]||(t[2]=d=>e.getNextDate())},[ce(r,{icon:e.$icons.chevronRight,height:"30",style:{color:"#0000008a"}},null,8,["icon"])])])]),m("div",tne,[m("div",nne,[sne,ce(c,null,{default:Ze(()=>[m("div",ine,[(S(!0),D(de,null,$e(e.scheduleWeekMap.keys(),d=>(S(),D("div",one,[m("div",rne,[m("span",null,H(e.scheduleWeekMap.get(d).employeeName),1)]),m("div",ane,[ce(a,{scheDay:e.scheduleWeekMap.get(d).sche,employeeNo:e.scheduleWeekMap.get(d).employeeNo,employeeName:e.scheduleWeekMap.get(d).employeeName,onOpenEditDialog:e.openEditDialog},null,8,["scheDay","employeeNo","employeeName","onOpenEditDialog"])])]))),256))])]),_:1})])])],64)}const cne=Ne(Xte,[["render",lne],["__scopeId","data-v-0baf5aa4"]]),Ey=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],xy=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],une=["Once","Weekly","Fortnightly"];function dne(e){return xy[Ey.indexOf(e)]}function hne(e){return Ey[xy.indexOf(e)]}const Nl={shortWeekDays:Ey,fullWeekDays:xy,frequencyCycle:une,findFullDaysByShort:dne,findShortDayByFull:hne},fne=Ve({name:"EditAvailability",components:{Modal:cs,CustomSelect:ir,DatePicker:bs},props:{isEdit:{type:Boolean},weekStatus:{type:String}},data(){return{ava:null,employeeNo:0,startTime:"",endTime:"",dayOfWeekOption:Nl.fullWeekDays,selectedDayOfWeek:"Monday",repeatOption:Nl.frequencyCycle,selectedRepeat:"Weekly",datePickerTop:0,datePickerLeft:0,startDate:M(),startDateText:"",endDate:M(),endDateText:"",reason:"",noEndDate:!0,endDateDisable:!1}},setup(){return{}},watch:{selectedDayOfWeek(e,t){}},methods:{reset(){this.ava=null,this.employeeNo=0,this.startTime="",this.endTime="",this.startDate=M(),this.startDateText="",this.endDate=M(),this.endDateText="",this.reason="",this.selectedRepeat="Weekly",this.noEndDate=!0,this.endDateDisable=!1},updateStartTime(){this.startTime=$0.parseTimeColumn(this.startTime)},updateEndTime(){this.endTime=$0.parseTimeColumn(this.endTime)},updateRepeat(){this.selectedRepeat==="Once"?this.endDateDisable=!0:this.endDateDisable=!1},clickedNoEndDate(){this.noEndDate&&(this.endDateText="",this.endDate=null)},createAvailability(){K.loading();let e=this.endDateText?this.endDate.format("DD/MMM/YYYY"):null;e=this.noEndDate||this.endDateDisable?null:e;let t=[{employeeNo:Affinity.user.EmployeeNo,startTime:this.startTime,endTime:this.endTime,dayOfWeek:Nl.findShortDayByFull(this.selectedDayOfWeek),dayOfMonth:null,frequencyType:this.selectedRepeat,startDate:this.startDate.format("DD/MMM/YYYY"),endDate:e,reason:this.reason,hasNoEndDate:this.noEndDate}];Pe.CreateAvailability(t).then(n=>{K.clear(),this.$emit("reload"),this.$refs.ModalRef.toggleShow()})},updateDateTimeText(e){if(e==="endDate")if(this.endDateText==="")this.endDate=null;else{this.noEndDate=!1;const t=M(this.endDateText,"DD/MM/YYYY");t.isValid()&&(this.endDate=t)}else if(e==="startDate")if(this.startDateText==="")this.startDate=null;else{this.noEndDate=!1;const t=M(this.startDateText,"DD/MM/YYYY");t.isValid()&&(this.startDate=t)}},confirmDelete(){K.confirmOrCancel({message:"Are you sure you want to delete this period of unavailability?"}).then(()=>{Pe.DeleteAvailabilities(this.ava.id).then(e=>{this.$emit("reload"),this.$refs.ModalRef.toggleShow()},e=>{K.alert("Something went wrong. Delete Availability failed")})})},updateAvailability(){let e=this.endDateText?this.endDate.format("DD/MMM/YYYY"):null;e=this.noEndDate||this.endDateDisable?null:e,K.loading();let t=[{Id:this.ava.id,StartTime:this.startTime,EndTime:this.endTime,DayOfWeek:Nl.findShortDayByFull(this.selectedDayOfWeek),DayOfMonth:null,FrequencyType:this.selectedRepeat,StartDate:this.startDate.format("DD/MMM/YYYY"),EndDate:e,Reason:this.reason,HasNoEndDate:this.noEndDate}];Pe.PatchAvailabilities(t).then(n=>{K.clear(),this.$emit("reload"),this.$refs.ModalRef.toggleShow()})},async updateDateTime(e,t){let n=e.target.getClientRects()[0];this.datePickerTop=n.bottom,this.datePickerLeft=n.left;try{switch(t){case"startDate":this.startDate=await this.$refs.DatePickerRef.toggleShow(this.startDate),this.startDateText=this.startDate.format("DD/MM/YYYY");return;case"endDate":(!this.endDate||!this.endDate.isValid())&&(this.endDate=M()),this.endDate=await this.$refs.DatePickerRef.toggleShow(this.endDate),this.endDateText=this.endDate.format("DD/MM/YYYY"),this.noEndDate=!1;return}}catch{return}},openEditDialog(e){e?(this.ava=e,this.employeeNo=Affinity.user.EmployeeNo,this.startTime=e.startTime,this.endTime=e.endTime,this.selectedDayOfWeek=e.dayOfWeek,this.selectedRepeat=e.frequencyType,this.startDateText=e.startDate,this.startDate=M(this.startDateText,"DD/MM/YYYY"),this.endDateText=e.endDate?e.endDate:"",this.endDate=M(this.endDateText,"DD/MM/YYYY"),this.reason=e.reason,this.noEndDate=e.hasNoEndDate):this.reset(),this.$refs.ModalRef.toggleShow()},cancel(){this.toggleShow()},toggleShow(){this.$refs.ModalRef.toggleShow()}}}),Ws=e=>(ft("data-v-dbc0228f"),e=e(),pt(),e),pne={class:"bold"},mne={key:0},gne={key:1},yne={class:"edit-form mt-4 copy2"},vne={class:"form-control mt-4"},_ne=Ws(()=>m("label",{class:"form-label"},"Start Time ",-1)),bne={class:"form-control"},Sne=Ws(()=>m("label",{class:"form-label"},"End Time ",-1)),wne={class:"form-control"},Dne=Ws(()=>m("label",{class:"form-label"},"Day of Week",-1)),kne={class:"select-day-of-week"},Tne={class:"form-control"},Cne=Ws(()=>m("label",{class:"form-label"},"Repeat",-1)),Ene={class:"select-repeat"},xne={class:"form-control"},Mne=Ws(()=>m("label",{class:"form-label"},"Start On",-1)),$ne={class:"form-control endDateWidth"},Ane={key:0},One=Ws(()=>m("label",{class:"form-label"},"End On",-1)),Pne={class:"ml-2"},Lne=Ws(()=>m("label",{class:"checkbox-label"},"No End Date",-1)),Rne={class:"form-control"},Nne=Ws(()=>m("label",{class:"form-label mb-1"},"Reason",-1)),Fne={class:"mt-4 full-width d-flex justify-end"},Ine=Ws(()=>m("span",{class:"white"},"Save",-1)),Yne=[Ine],Hne=Ws(()=>m("span",{class:"white"},"Delete",-1)),Wne=[Hne],Bne=Ws(()=>m("span",{class:"white"},"Create",-1)),Vne=[Bne],Une=Ws(()=>m("span",{class:"white"},"Cancel",-1)),zne=[Une];function jne(e,t,n,s,i,o){const r=ye("custom-select"),a=ye("date-picker"),c=ye("Modal");return S(),qt(c,{ref:"ModalRef"},{header:Ze(()=>[m("div",null,[m("h2",pne,[e.isEdit?(S(),D("span",mne,"Edit Unavailability")):(S(),D("span",gne,"Create Unavailability"))])])]),body:Ze(()=>[m("div",null,[m("div",yne,[m("div",vne,[_ne,ge(m("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=d=>e.startTime=d),onChange:t[1]||(t[1]=(...d)=>e.updateStartTime&&e.updateStartTime(...d))},null,544),[[xt,e.startTime]])]),m("div",bne,[Sne,ge(m("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=d=>e.endTime=d),onChange:t[3]||(t[3]=(...d)=>e.updateEndTime&&e.updateEndTime(...d))},null,544),[[xt,e.endTime]])]),m("div",wne,[Dne,m("div",kne,[ce(r,{options:e.dayOfWeekOption,modelValue:e.selectedDayOfWeek,"onUpdate:modelValue":t[4]||(t[4]=d=>e.selectedDayOfWeek=d),modelModifiers:{modelValue:!0}},null,8,["options","modelValue"])])]),m("div",Tne,[Cne,m("div",Ene,[ce(r,{options:e.repeatOption,modelValue:e.selectedRepeat,"onUpdate:modelValue":[t[5]||(t[5]=d=>e.selectedRepeat=d),e.updateRepeat],modelModifiers:{modelValue:!0}},null,8,["options","modelValue","onUpdate:modelValue"])])]),m("div",xne,[Mne,ge(m("input",{class:"input-box",type:"text","onUpdate:modelValue":t[6]||(t[6]=d=>e.startDateText=d),onChange:t[7]||(t[7]=d=>e.updateDateTimeText("startDate")),onClick:t[8]||(t[8]=d=>e.updateDateTime(d,"startDate"))},null,544),[[xt,e.startDateText]])]),m("div",$ne,[e.endDateDisable?X("",!0):(S(),D("div",Ane,[One,ge(m("input",{class:"input-box",type:"text","onUpdate:modelValue":t[9]||(t[9]=d=>e.endDateText=d),onChange:t[10]||(t[10]=d=>e.updateDateTimeText("endDate")),onClick:t[11]||(t[11]=d=>e.updateDateTime(d,"endDate"))},null,544),[[xt,e.endDateText]]),m("span",Pne,[ge(m("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=d=>e.noEndDate=d),onChange:t[13]||(t[13]=(...d)=>e.clickedNoEndDate&&e.clickedNoEndDate(...d))},null,544),[[Ur,e.noEndDate]]),Lne])]))]),m("div",Rne,[Nne,ge(m("textarea",{"onUpdate:modelValue":t[14]||(t[14]=d=>e.reason=d)},null,512),[[xt,e.reason]])])]),ce(a,{ref:"DatePickerRef",top:e.datePickerTop,left:e.datePickerLeft},null,8,["top","left"])])]),footer:Ze(()=>[m("div",Fne,[e.isEdit?(S(),D("button",{key:0,class:"blue normal copy2",onClick:t[15]||(t[15]=d=>e.updateAvailability())},Yne)):X("",!0),e.isEdit?(S(),D("button",{key:1,class:"grey normal copy2 ml-2",onClick:t[16]||(t[16]=d=>e.confirmDelete())},Wne)):X("",!0),e.isEdit?X("",!0):(S(),D("button",{key:2,class:"blue normal copy2",onClick:t[17]||(t[17]=d=>e.createAvailability())},Vne)),m("button",{class:"ml-2 normal orange copy2",onClick:t[18]||(t[18]=d=>e.cancel())},zne)])]),_:1},512)}const Gne=Ne(fne,[["render",jne],["__scopeId","data-v-dbc0228f"]]),Kne=Ve({components:{EditAvailability:Gne},data(){return{}},setup(){const e=V(!1),t=V(),n=V([]),s=V();function i(r,a){e.value=r,t.value.openEditDialog(a)}function o(){Pe.GetAvailabilities(Affinity.user.EmployeeNo).then(r=>{let a=r.map(c=>Object.fromEntries(Object.entries(c).map(([d,h])=>[d.charAt(0).toLowerCase()+d.slice(1),h])));n.value=a.map(c=>(c.startDate=M(c.startDate).format("DD/MM/YYYY"),c.endDate&&(c.endDate=M(c.endDate).format("DD/MM/YYYY")),c.dayOfWeek=Nl.findFullDaysByShort(c.dayOfWeek),c))})}return Ti(()=>{o()}),{gridData:n,openEditDialog:i,selectedAva:s,loadAvailability:o,isEditingDialog:e,EditAvailabilityRef:t}},mounted(){},methods:{confirmDelete(e){K.confirmOrCancel({message:"Are you sure you want to delete this period of unavailability?"}).then(()=>{this.deleteAva(e.id)})},deleteAva(e){Pe.DeleteAvailabilities(e).then(t=>{this.loadAvailability()},t=>{K.alert("Something went wrong. Delete Availability failed")})}}}),qne=e=>(ft("data-v-70340cb9"),e=e(),pt(),e),Xne={class:"dbw-box"},Zne=qne(()=>m("p",{class:"mt-4"},[Ot("I am "),m("b",null,"unavailable"),Ot(" during these times:")],-1)),Jne={class:"available-table"},Qne={class:"service-grid"},ese=ja('<div class="grid-heading" data-v-70340cb9>Day of Week</div><div class="grid-heading" data-v-70340cb9>Start Time</div><div class="grid-heading" data-v-70340cb9>End Time</div><div class="grid-heading" data-v-70340cb9>Repeat</div><div class="grid-heading" data-v-70340cb9>Starts On</div><div class="grid-heading" data-v-70340cb9>Ends On</div><div class="grid-heading" data-v-70340cb9>Actions</div><div class="grid-heading" data-v-70340cb9>Reason</div>',8),tse={class:"grid-item"},nse={class:"grid-item"},sse={class:"grid-item"},ise={class:"grid-item"},ose={class:"grid-item"},rse={class:"grid-item"},ase={class:"grid-item"},lse=["onClick"],cse=["onClick"],use={class:"grid-item"},dse={class:"d-flex justify-end mt-4 mb-4"};function hse(e,t,n,s,i,o){const r=ye("edit-availability");return S(),D(de,null,[m("div",Xne,[Zne,m("div",Jne,[m("div",null,[m("div",Qne,[ese,(S(!0),D(de,null,$e(e.gridData,a=>(S(),D(de,null,[m("div",tse,H(a.dayOfWeek),1),m("div",nse,H(a.startTime),1),m("div",sse,H(a.endTime),1),m("div",ise,H(a.frequencyType),1),m("div",ose,H(a.startDate),1),m("div",rse,H(a.endDate),1),m("div",ase,[m("button",{class:"green white--text xsmall",onClick:c=>e.openEditDialog(!0,a)}," Edit ",8,lse),m("button",{class:"grey white--text xsmall ml-2",onClick:c=>e.confirmDelete(a)}," Delete ",8,cse)]),m("div",use,H(a.reason),1)],64))),256))])])]),m("div",dse,[m("button",{class:"green small white--text",onClick:t[0]||(t[0]=a=>e.openEditDialog(!1))}," Create ")])]),ce(r,{ref:"EditAvailabilityRef",isEdit:e.isEditingDialog,onReload:e.loadAvailability,modalIndex:1999},null,8,["isEdit","onReload"])],64)}const fse=Ne(Kne,[["render",hse],["__scopeId","data-v-70340cb9"]]),pse={name:"Login",data(){return{username:"",password:""}},methods:{login(){console.log("login"),console.log(this.username),console.log(this.password),Je.post("http://localhost:11140/api/Authentication/post",{username:this.username,password:this.password}).then(e=>{console.log("res",e)})}}},mse=m("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1",crossorigin:"anonymous"},null,-1),gse={class:"col-sm-4"},yse=m("p",null,"Login form style 3",-1),vse={class:"card"},_se={class:"card-body"},bse=m("h4",{class:"card-title text-center mb-4 mt-1"},"Sign in",-1),Sse=m("hr",null,null,-1),wse=m("p",{class:"text-success text-center"},"Some message goes here",-1),Dse={class:"form-group"},kse={class:"input-group"},Tse={class:"form-group mt-2"},Cse={class:"input-group"},Ese=m("div",{class:"form-group mt-4"},[m("button",{type:"submit",class:"btn btn-primary btn-block"}," Login ")],-1);function xse(e,t,n,s,i,o){return S(),D(de,null,[mse,m("aside",gse,[yse,m("div",vse,[m("article",_se,[bse,Sse,wse,m("form",{onSubmit:t[2]||(t[2]=io((...r)=>o.login&&o.login(...r),["prevent"]))},[m("div",Dse,[m("div",kse,[ge(m("input",{name:"",class:"form-control",placeholder:"Email or login","onUpdate:modelValue":t[0]||(t[0]=r=>i.username=r)},null,512),[[xt,i.username]])])]),m("div",Tse,[m("div",Cse,[ge(m("input",{class:"form-control",placeholder:"******",type:"password","onUpdate:modelValue":t[1]||(t[1]=r=>i.password=r)},null,512),[[xt,i.password]])])]),Ese],32)])])])],64)}const Mse=Ne(pse,[["render",xse]]),$se=Ve({name:"Paginator",props:{totalPage:{type:Number,default:1},currentPage:{type:Number,default:1}},setup(e,{emit:t}){const n=V(20),s=V([]),i=V(0);function o(c,d){d<=5?s.value=Array.from(Array(d).keys()).map(h=>h+1):c<=3?s.value=Array.from(Array(5).keys()).map(h=>h+1):d>c+2?s.value=Array.from(Array(5).keys()).map(h=>h+c-2):s.value=Array.from(Array(5).keys()).map(h=>h+d-4)}async function r(c){t("selectPage",c)}async function a(c=1){let d=e.currentPage+c;t("selectPage",d)}return{pageSize:n,pageList:s,recordCount:i,selectPage:r,selectNextPage:a,calculatePageList:o}}}),Ase={key:0},Ose={class:"pagination"},Pse={class:"total-page-small"},Lse=["onClick"],Rse={key:2,class:"ml-2"},Nse={key:0,class:"ml-4"};function Fse(e,t,n,s,i,o){return e.pageList.length>0?(S(),D("div",Ase,[m("div",Ose,[m("div",Pse,[e.totalPage>1&&e.currentPage>1?(S(),D("div",{key:0,class:"previous-button page-button",onClick:t[0]||(t[0]=r=>e.selectNextPage(-1))}," <")):X("",!0),(S(!0),D(de,null,$e(e.pageList,r=>(S(),D("div",{class:nt(["page-button",{selected:e.currentPage===r}]),onClick:a=>e.selectPage(r)},H(r),11,Lse))),256)),e.totalPage>1&&e.currentPage<e.totalPage?(S(),D("div",{key:1,class:"next-button page-button",onClick:t[1]||(t[1]=r=>e.selectNextPage(1))}," >")):X("",!0),e.totalPage>5?(S(),D("div",Rse,"Total Pages: "+H(e.totalPage),1)):X("",!0)])]),e.recordCount>0?(S(),D("div",Nse,"No. of Records: "+H(e.recordCount),1)):X("",!0)])):X("",!0)}const KT=Ne($se,[["render",Fse],["__scopeId","data-v-96ca3c59"]]);var tl=(e=>(e.fetchEmployees="GET_EMPLOYEES",e.fetchSimpleViewData="GET_SIMPLE_VIEW_DATA",e.fetchDetailedCostReportData="GET_DETAILED_COST_REPORT_DATA",e.fetchWeeklyAnalysisData="GET_WEEKLY_ANALYSIS_DATA",e.fetchEmployeeWeeklyAnalysisData="GET_EMPLOYEE_WEEKLY_ANALYSIS_DATA",e.fetchPayDetailViewData="GET_PAY_DETAIL_VIEW_DATA",e))(tl||{});const Ise={state:{employees:[],simpleViewData:[],detailedCostReportData:[],weeklyAnalysisData:[],employeeWeeklyAnalysisData:[],payDetailViewData:[]},getters:{getEmployees:e=>e.employees,getSimpleViewData:e=>e.simpleViewData,getDetailedCostReportData:e=>e.detailedCostReportData,getWeeklyAnalysisData:e=>e.weeklyAnalysisData,getEmployeeWeeklyAnalysisData:e=>e.employeeWeeklyAnalysisData,getPayDetailViewData:e=>e.payDetailViewData},mutations:{SET_EMPLOYEES:(e,t)=>{e.employees=t},SET_SIMPLE_VIEW_DATA:(e,t)=>{e.simpleViewData=t},SET_DETAILED_COST_REPORT_DATA:(e,t)=>{e.detailedCostReportData=t},SET_WEEKLY_ANALYSIS_DATA:(e,t)=>{e.weeklyAnalysisData=t},SET_EMPLOYEE_WEEKLY_ANALYSIS_DATA:(e,t)=>{e.employeeWeeklyAnalysisData=t},SET_PAY_DETAIL_VIEW_DATA:(e,t)=>{e.payDetailViewData=t}},actions:{GET_SIMPLE_VIEW_DATA:async({commit:e},t)=>{const n={pageNumber:t.pageNumber,pageSize:t.pageSize,pagingEnabled:t.pagingEnabled,sortBy:"CommonName",sortingType:"asc",employeeNumbers:t.employeeNumbers,transDateFrom:t.fromDate,transDateTo:t.toDate};try{const s=await Pe.GetCostAnalysisV2(n);return e("SET_SIMPLE_VIEW_DATA",s),s}catch{}},GET_DETAILED_COST_REPORT_DATA:async({commit:e},t)=>{const n={sortBy:"CommonName",sortingType:"asc",pagingEnabled:!0,pageNumber:t.pageNumber,pageSize:t.pageSize,employeeNumbers:t.employeeNumbers,transDateFrom:t.fromDate,transDateTo:t.toDate};try{const s=await Pe.GetCostAnalysisDetailV2(n);return e("SET_DETAILED_COST_REPORT_DATA",s),s}catch{}},GET_WEEKLY_ANALYSIS_DATA:async({commit:e},t)=>{const n={sortBy:"CommonName",sortingType:"asc",pagingEnabled:!0,pageNumber:t.pageNumber,pageSize:t.pageSize,employeeNumbers:t.employeeNumbers,transDateFrom:t.weekStart,transDateTo:t.weekEnd};try{const s=await Pe.GetCostingDayView(n,um(t.selectedUnit));return e("SET_WEEKLY_ANALYSIS_DATA",s),s}catch{}},GET_EMPLOYEE_WEEKLY_ANALYSIS_DATA:async({commit:e},t)=>{const n={sortBy:"CommonName",sortingType:"asc",pagingEnabled:!0,pageNumber:t.pageNumber,pageSize:t.pageSize,employeeNumbers:t.employeeNumbers,transDateFrom:t.weekStart,transDateTo:t.weekEnd};try{const s=await Pe.CostingEmployeeView(n,um(t.selectedUnit));return e("SET_EMPLOYEE_WEEKLY_ANALYSIS_DATA",s),s}catch{}},GET_PAY_DETAIL_VIEW_DATA:async({commit:e},t)=>{const n={sortBy:"CommonName",sortingType:"asc",pagingEnabled:!0,pageNumber:t.pageNumber,pageSize:t.pageSize,payCodes:t.payCodes,employeeNumbers:t.employeeNumbers,transDateFrom:t.weekStart,transDateTo:t.weekEnd};try{const s=await Pe.CostingEmployeePayDetailView(n,um(t.selectedUnit));return e("SET_PAY_DETAIL_VIEW_DATA",s),s}catch{}}}},um=e=>{if(e==="values")return"value";if(e==="units")return"unit"},Yse=Ve({name:"DetailCostReport",components:{Paginator:KT},props:{fromDate:{type:Object},toDate:{type:Object},employeeList:{type:Array}},setup(e){const t=_n(),n=V([]),s=V(0),i=V(1),o=V(20),r=V(5),a=V(0),c=V(),d=V([]),h=V(),p=V(2e3),g=V({width:"2000px"}),y=V([]),_=V(["Start/End Time","Detailed Cost Report"]),T=V(!1);Ti(async()=>{console.log("cost detail report mounted"),y.value=[],i.value=1,r.value=5,T.value=!1,W(),K.loading(),await w(),K.clear()});async function w(){K.loading(),T.value=!1;let z=e.fromDate,Y=e.toDate,N=e.employeeList;(!z||!Y)&&(z=M().startOf("month"),Y=M().endOf("month")),await t.dispatch(tl.fetchDetailedCostReportData,{fromDate:e.fromDate?e.fromDate.format("YYYY-MM-DD"):null,toDate:e.toDate?e.toDate.format("YYYY-MM-DD"):null,employeeNumbers:N.filter(G=>G!=null),pageNumber:i.value,pageSize:o.value}).then(G=>{if(G.response&&G.response.length===0||!G.response){T.value=!0;return}const j=G.response.slice();j.forEach(le=>{le.TransDate=M(le.TransDate).format("YYYY-MM-DD"),le.TotalCost=Math.round(le.TotalCost*100)/100;for(const[me,Se]of Object.entries(le))typeof Se=="number"&&(le[me]=Math.round(Se*100)/100)});const J=j.map(le=>{const me=Object.values(le);return me[0]=le.CommonName,me[1]=le.EmployeeNo,me});let ue=-1;const oe=G.response[0];for(const le of Object.keys(oe))le.indexOf("Cost")>-1&&ue++;s.value=ue,d.value=k(s.value),x(),$(),i.value=G.currentPageNumber,a.value=G.recordCount,r.value=G.totalPages,c.value.calculatePageList(G.currentPageNumber,G.totalPages),y.value=J}),K.clear()}function k(z){const Y=["Employee Name","Employee Number","Functional Area","Date","Pay Rate","Total Hours","Total Cost"],N=["Description","Hours","Cost"];let G=Y.slice(),j=0;for(;j<z;){const J=N.map(ue=>ue+(j+1));G.push(...J),j++}return G}function x(){let z="";Array.from(Array(s.value)).map((Y,N)=>{z+=" 150px 100px 100px"}),h.value={"grid-template-columns":`150px 150px 150px 100px 100px 100px 100px${z}`}}function $(){return p.value=850+350*s.value+s.value*3+6,g.value={width:`${p.value}px`},p.value}async function L(z){i.value=z,K.loading(),await w(),K.clear()}async function F(){if(T.value){K.alert("No data to export");return}K.loading();const z=await R();K.clear();let Y="data:text/csv;charset=utf-8,";Y+=d.value.join(",")+`\r
`,z.map(j=>{Y+=Object.values(j).join(",")+`\r
`});var N=encodeURI(Y),G=document.createElement("a");G.setAttribute("href",N),G.setAttribute("download","Analytic.csv"),G.setAttribute("Content-Type","application/octet-stream"),document.body.appendChild(G),G.click()}async function R(){const z={pageNumber:1,pageSize:1e4,pagingEnabled:!1,sortBy:"CommonName",sortingType:"asc",employeeNumbers:e.employeeList.filter(Y=>Y!=null),transDateFrom:e.fromDate?e.fromDate.format("YYYY-MM-DD"):null,transDateTo:e.toDate?e.toDate.format("YYYY-MM-DD"):null};return await Pe.GetCostAnalysisDetailV2(z).then(Y=>{const N=Y.response.map(oe=>{oe.TransDate=M(oe.TransDate).format("YYYY-MM-DD"),oe.TotalCost=Math.round(oe.TotalCost*100)/100;for(const[me,Se]of Object.entries(oe))typeof Se=="number"&&(oe[me]=Math.round(Se*100)/100);const le=Object.values(oe);return le[0]=oe.CommonName,le[1]=oe.EmployeeNo,le});let G=-1;const j=Y.response[0];for(const oe of Object.keys(j))oe.indexOf("Cost")>-1&&G++;s.value=G,d.value=k(s.value);const J=Object.values(Y.resultSummary).map(oe=>typeof oe=="number"?Math.round(oe*100)/100:oe);let ue=Array(7).fill(null).concat(J);return N.push(ue),N})}function W(){T.value=!1,i.value=1,r.value=5}return{data:n,dataHeadings:d,dataAnalysis:y,options:_,headingStyle:h,gridWidthStyle:g,pageNumber:i,pageSize:o,totalPage:r,noDataError:T,recordCount:a,PaginatorRef:c,selectPage:L,exportCSV:F,loadGridData:w}}}),Hse=e=>(ft("data-v-cdc10c12"),e=e(),pt(),e),Wse={class:"mt-4 full-width grid-section"},Bse={key:0,class:"d-flex justify-center mt-4"},Vse=Hse(()=>m("h3",null,"No data found.",-1)),Use=[Vse],zse={key:1,class:"dbw-box"},jse={class:"heading-cell"},Gse={class:"grid-body"},Kse={class:"grid-body-cell"},qse={class:"pagination-wrap"},Xse={key:0,class:"no-records"};function Zse(e,t,n,s,i,o){const r=ye("perfect-scrollbar"),a=ye("paginator");return S(),D("div",Wse,[e.noDataError?(S(),D("div",Bse,Use)):X("",!0),!e.noDataError&&e.dataHeadings.length>0?(S(),D("div",zse,[ce(r,null,{default:Ze(()=>[m("div",{class:"grid-extra-width",style:wt(e.gridWidthStyle)},[m("div",{class:"grid-heading",style:wt(e.headingStyle)},[(S(!0),D(de,null,$e(e.dataHeadings,c=>(S(),D("div",jse,H(c),1))),256))],4),m("div",Gse,[ce(r,null,{default:Ze(()=>[(S(!0),D(de,null,$e(e.dataAnalysis,c=>(S(),D("div",{class:"grid-body-row",style:wt(e.headingStyle)},[(S(!0),D(de,null,$e(Object.entries(c),([d,h])=>(S(),D("div",Kse,H(h),1))),256))],4))),256))]),_:1})])],4)]),_:1})])):X("",!0),ge(m("div",qse,[ce(a,{ref:"PaginatorRef",totalPage:e.totalPage,currentPage:e.pageNumber,onSelectPage:e.selectPage},null,8,["totalPage","currentPage","onSelectPage"]),e.recordCount>0?(S(),D("div",Xse," No. of Records: "+H(e.recordCount),1)):X("",!0)],512),[[rs,!e.noDataError&&e.dataHeadings.length>0]])])}const Jse=Ne(Yse,[["render",Zse],["__scopeId","data-v-cdc10c12"]]),Qse=Ve({name:"SimpleAnalysis",components:{Paginator:KT},props:{fromDate:{type:Object},toDate:{type:Object},employeeList:{type:Array}},setup(e){const t=_n(),n=V([]),s=V(1),i=V(20),o=V(5),r=V(0),a=V(!1),c=V(),d=V(["Employee Name","Employee Number","Functional Area","Date","Award","Schedule Hours","Actual Hours","Hours Variance","Schedule Cost","Actual Cost","Cost Variance","Actual Start","Actual Finish","Adjusted Start","Adjusted Finish"]),h=V([]);Ti(async()=>{h.value=[],s.value=1,o.value=5,a.value=!1,w(),await p()});async function p(){console.log("load grid data from cost analysis v2"),a.value=!1,(!e.fromDate||!e.toDate)&&(e.fromDate||(e.fromDate=M().startOf("month")),e.toDate||(e.toDate=M().endOf("month"))),K.loading(),await t.dispatch(tl.fetchSimpleViewData,{fromDate:e.fromDate?e.fromDate.format("YYYY-MM-DD"):null,toDate:e.toDate?e.toDate.format("YYYY-MM-DD"):null,employeeNumbers:e.employeeList.filter(k=>k!=null),pagingEnabled:!0,pageNumber:s.value,pageSize:i.value}).then(k=>{if(k.response&&k.response.length===0||!k.response){w(),a.value=!0;return}return h.value=k.response.map(x=>{const $={};return $.commonName=x.commonName,$.employeeNo=x.employeeNo,$.functionalArea=x.functionalArea,$.transDate=M(x.transDate).format("YYYY-MM-DD"),$.awardId=x.awardId,$.scheduledHours=g(x.scheduledUnits),$.actualHours=g(x.actualUnits),$.hoursVariance=g($.actualHours-$.scheduledHours),$.scheduledCost=g(x.scheduledCost),$.actualCost=g(x.actualCost),$.costVariance=g($.actualCost-$.scheduledCost),$.actStartTime=x.actStartTime?M(x.actStartTime).format("HH:mm"):null,$.actEndTime=x.actEndTime?M(x.actEndTime).format("HH:mm"):null,$.adjStartTime=x.adjStartTime?M(x.adjStartTime).format("HH:mm"):null,$.adjEndTime=x.adjEndTime?M(x.adjEndTime).format("HH:mm"):null,$}),o.value=k.totalPages,s.value=k.currentPageNumber,r.value=k.recordCount,c.value.calculatePageList(k.currentPageNumber,k.totalPages),k.response}).finally(()=>{K.clear()})}function g(k){return k===null?null:Math.round(k*100)/100}async function y(k){s.value=k,K.loading(),await p(),K.clear()}async function _(){if(a.value){K.alert("No data to export");return}K.loading();const k=await T();K.clear();let x="data:text/csv;charset=utf-8,";x+=d.value.join(",")+`\r
`,k.map(F=>{x+=Object.values(F).join(",")+`\r
`});var $=encodeURI(x),L=document.createElement("a");L.setAttribute("href",$),L.setAttribute("download","Analytic.csv"),document.body.appendChild(L),L.click()}async function T(){const k={pageNumber:1,pageSize:1e4,pagingEnabled:!1,sortBy:"CommonName",sortingType:"asc",employeeNumbers:e.employeeList.filter(x=>x!=null),transDateFrom:e.fromDate?e.fromDate.format("YYYY-MM-DD"):null,transDateTo:e.toDate?e.toDate.format("YYYY-MM-DD"):null};return await Pe.GetCostAnalysisV2(k).then(x=>x.response.map($=>{const L={};return L.commonName=$.commonName,L.employeeNo=$.employeeNo,L.functionalArea=$.functionalArea,L.transDate=M($.transDate).format("YYYY-MM-DD"),L.awardId=$.awardId,L.scheduledHours=g($.scheduledUnits),L.actualHours=g($.actualUnits),L.hoursVariance=g(L.actualHours-L.scheduledHours),L.scheduledCost=g($.scheduledCost),L.actualCost=g($.actualCost),L.costVariance=g(L.actualCost-L.scheduledCost),L.actStartTime=$.actStartTime?M($.actStartTime).format("HH:mm"):null,L.actEndTime=$.actEndTime?M($.actEndTime).format("HH:mm"):null,L.adjStartTime=$.adjStartTime?M($.adjStartTime).format("HH:mm"):null,L.adjEndTime=$.adjEndTime?M($.adjEndTime).format("HH:mm"):null,L}))}function w(){s.value=1,o.value=5,a.value=!1}return{data:n,dataHeadings:d,dataAnalysis:h,PaginatorRef:c,pageNumber:s,pageSize:i,totalPages:o,noDataError:a,recordCount:r,loadGridData:p,exportCSV:_,selectPage:y}}}),eie=e=>(ft("data-v-61b315d1"),e=e(),pt(),e),tie={class:"mt-4 full-width grid-section"},nie={key:0,class:"d-flex justify-center mt-4"},sie=eie(()=>m("h3",null,"No data found.",-1)),iie=[sie],oie={key:1,class:"dbw-box"},rie={class:"grid-extra-width"},aie={class:"grid-heading"},lie={class:"heading-cell"},cie={class:"grid-body"},uie={class:"grid-body-row"},die={class:"grid-body-cell"},hie={class:"pagination-wrap"},fie={key:0,class:"no-records"};function pie(e,t,n,s,i,o){const r=ye("perfect-scrollbar"),a=ye("paginator");return S(),D("div",tie,[e.noDataError?(S(),D("div",nie,iie)):(S(),D("div",oie,[ce(r,null,{default:Ze(()=>[m("div",rie,[m("div",aie,[(S(!0),D(de,null,$e(e.dataHeadings,c=>(S(),D("div",lie,H(c),1))),256))]),m("div",cie,[ce(r,null,{default:Ze(()=>[(S(!0),D(de,null,$e(e.dataAnalysis,c=>(S(),D("div",uie,[(S(!0),D(de,null,$e(Object.entries(c),([d,h])=>(S(),D("div",die,H(h),1))),256))]))),256))]),_:1})])])]),_:1})])),ge(m("div",hie,[ce(a,{ref:"PaginatorRef",totalPage:e.totalPages,currentPage:e.pageNumber,onSelectPage:e.selectPage},null,8,["totalPage","currentPage","onSelectPage"]),e.recordCount>0?(S(),D("div",fie," No. of Records: "+H(e.recordCount),1)):X("",!0)],512),[[rs,!e.noDataError]])])}const mie=Ne(Qse,[["render",pie],["__scopeId","data-v-61b315d1"]]);var gn=(e=>(e.simple="Start/Finish",e.detailed="Detailed Costs",e.weekly="Period Analysis",e.employeeWeekly="Employee Analysis",e.payDetailView="Pay Detail",e))(gn||{});const gie=[{key:"scheduled",description:"Schedule",isSelected:!0},{key:"actual",description:"Actual",isSelected:!1},{key:"budgeted",description:"Budget",isSelected:!0},{key:"sales",description:"Sales",isSelected:!0},{key:"scheduledVSBudgeted",description:"Schedule vs Budget",isSelected:!1},{key:"actualsVSBudgeted",description:"Actual vs Budget",isSelected:!1},{key:"actualsVSScheduled",description:"Actual vs Schedule",isSelected:!1},{key:"scheduledVSSales",description:"Schedule vs Sales",isSelected:!1},{key:"actualsVSSales",description:"Actual vs Sales",isSelected:!1}],yie={scheduled:{heading:"Schedule",isDisplay:!0,isCalculated:!1},actual:{heading:"Actual",isDisplay:!1,isCalculated:!1},budgeted:{heading:"Budget",isDisplay:!1,isCalculated:!1},sales:{heading:"Sales",isDisplay:!1,isCalculated:!1},scheduledVSBudgeted:{heading:"Schedule vs Budget",isDisplay:!1,isCalculated:!0},actualsVSBudgeted:{heading:"Actual vs Budget",isDisplay:!1,isCalculated:!0},actualsVSScheduled:{heading:"Actual vs Schedule",isDisplay:!1,isCalculated:!0},scheduledVSSales:{heading:"Schedule vs Sales",isDisplay:!1,isCalculated:!0},actualsVSSales:{heading:"Actual vs Sales",isDisplay:!1,isCalculated:!0}},fw=[["Employee","Schedule","","","Worked","","","Variance","",""],["","Ordinary","Time & Half","Double","Ordinary","Time & Half","Double","Ordinary","Time & Half","Double"]];var Fr=(e=>(e.unit="Units",e.value="Values",e))(Fr||{});let Vi=null;const vie=Ve({name:"CostAnalysisWeekly",components:{Modal:cs,MultiSelect:el,Dialog:K},props:{dayFocus:{type:Object},fromDate:{type:Object},toDate:{type:Object},selectedUnit:{type:String},modalIndex:{type:Number},employeeList:{type:Array}},setup(e){const t=_n(),n=V(null),s=V([]),i=V([]),o=V({}),r=V({}),a=V(6),c=V({}),d=V(yie),h=V(""),p=V(""),g=V(gie),y=V(!1),_=V(e.selectedUnit),T=(Y,N,G)=>{if(G.isCalculated&&(N==="scheduledVSBudgeted"||N==="actualsVSBudgeted"))return Y[N]>0?"positive-cell":"negative-cell"},w=()=>(F(),a.value>1?`grid-template-columns: 100px 100px repeat( ${a.value} , 100px)`:`grid-template-columns: 100px 100px repeat( ${a.value} , auto)`),k=async()=>{Object.keys(c.value).forEach(G=>{c.value[G].isDisplay=!1});let Y,N;Y=e.fromDate?e.fromDate.clone().format("YYYY-MM-DD"):M().startOf("week").format("YYYY-MM-DD"),N=e.toDate?e.toDate.clone().format("YYYY-MM-DD"):M().endOf("week").format("YYYY-MM-DD"),K.loading();for(const[G,j]of Object.entries(d.value)){const J=g.value.find(ue=>ue.key===G);J&&J.isSelected===!0&&(c.value[G]=j,c.value[G].isDisplay=J.isSelected)}try{const G=await t.dispatch(tl.fetchWeeklyAnalysisData,{weekStart:Y,weekEnd:N,employeeNumbers:e.employeeList.filter(J=>J!=null),selectedUnit:e.selectedUnit.toLowerCase(),pageNumber:1,pageSize:99});if(!G.response||!G.response[0]){s.value=[],o.value=[],K.clear();return}let j=G.response;i.value=[],s.value=j.map(J=>{J.actual=J.worked||0,J.budgeted=J.budget||0,J.sales=J.sales||0;let ue={...J},oe={};ue.day=M(J.transDate).format("YYYY-MM-DD"),ue.weekDay=M(J.transDate).format("dddd"),d.value.scheduledVSBudgeted&&(ue.scheduledVSBudgeted=L(J.scheduled,J.budgeted)),d.value.actualsVSBudgeted&&(ue.actualsVSBudgeted=L(J.actual,J.budgeted)),d.value.actualsVSScheduled&&(ue.actualsVSScheduled=$(J.actual,J.scheduled)),d.value.actualsVSSales&&(ue.actualsVSSales=L(J.actual,J.sales)),d.value.scheduledVSSales&&(ue.scheduledVSSales=L(J.scheduled,J.sales));for(let[le,me]of Object.entries(ue))Number.isNaN(me)&&(ue[le]=0),le==="day"||le==="dayNumber"||le==="transDate"||le==="date"||le==="weekDay"?oe[le]=me:oe[le]=je(ue[le]).format({symbol:""});return i.value.push(ue),oe}),x(),Ks(()=>{R(),K.clear()}),_.value=e.selectedUnit}catch{s.value=[],o.value=[]}},x=()=>{const Y=[];for(const[N]of Object.entries(d.value))Y.push(N);if(Y.length===1){r.value[Y[0]]=Math.round(i.value[0][Y[0]]*100)/100;return}for(let N of Y){r.value[N]=0;for(let G of i.value)G[N]||(G[N]=0),r.value[N]+=G[N]}d.value.scheduledVSBudgeted&&(r.value.scheduledVSBudgeted=L(r.value.scheduled,r.value.budgeted)),d.value.actualsVSBudgeted&&(r.value.actualsVSBudgeted=L(r.value.actual,r.value.budgeted)),d.value.actualsVSScheduled&&(r.value.actualsVSScheduled=$(r.value.actual,r.value.scheduled)),d.value.actualsVSSales&&(r.value.actualsVSSales=L(r.value.actual,r.value.sales)),d.value.scheduledVSSales&&(r.value.scheduledVSSales=L(r.value.scheduled,r.value.sales));for(let[N,G]of Object.entries(r.value))Number.isNaN(G)&&(r.value[N]=0),o.value[N]=je(r.value[N]).format({symbol:""})},$=(Y,N)=>N?(Y-N)/N*100:0,L=(Y,N)=>N?Y/N*100:0,F=()=>{a.value=g.value.filter(Y=>Y.isSelected).length},R=()=>{if(!i.value||i.value.length<1)return;let Y=[],N=[{label:"Schedule",data:[],backgroundColor:["#e65d79"],hidden:!1},{label:"Actual",data:[],backgroundColor:["#6375ff"],hidden:!1},{label:"Budget",data:[],backgroundColor:["#ffe04e"],hidden:!1},{label:"Sales",data:[],backgroundColor:["#96ff8c"],hidden:!1}];for(let J of g.value)J.key==="scheduled"&&!J.isSelected&&(N[0].hidden=!0),J.key==="actual"&&!J.isSelected&&(N[1].hidden=!0),J.key==="budgeted"&&!J.isSelected&&(N[2].hidden=!0),J.key==="sales"&&!J.isSelected&&(N[3].hidden=!0);for(const J of i.value)Y.push(J.day),N[0].data.push(J.scheduled),N[1].data.push(J.actual),N[2].data.push(J.budgeted),N[3].data.push(J.sales);let G=document.getElementById("myChart").getContext("2d"),j={type:"bar",data:{labels:Y,datasets:N},options:{responsive:!0,plugins:{legend:{labels:{filter:function(J){return!J.hidden}}}}}};Vi?Vi.ctx===null?Vi=new co(G,j):(Vi.data.labels=Y,Vi.data.datasets=N,Vi.update()):Vi=new co(G,j)};function W(Y,N){return N?Y+"%":_.value===Fr.unit?Y||0:"$"+Y||0}async function z(){if(y.value){K.alert("No data to export");return}K.loading();const Y=i.value;K.clear();let N="data:text/csv;charset=utf-8,",G=[];for(let le in c.value)G.push(c.value[le].heading);N+=",,"+G.join(",")+`\r
`;const j=Y.map((le,me)=>[le.day,le.weekDay,...Object.entries(c.value).map(([Te,xe])=>{let Re="";return le[Te]===void 0||le[Te]===null?"":(Re+=le[Te]?le[Te]:"",xe.isCalculated&&(Re+="%"),Re)})].join(","));N+=j.join(`\r
`),N+=`\r
`;let J=["Total","",...Object.entries(c.value).map(([le,me])=>{let Se="";return o.value[le]===void 0||o.value[le]===null?"":(Se+=o.value[le]?o.value[le]:"",Se=Se.replace(/,/g,""),me.isCalculated&&(Se+="%"),Se)})];J.join(","),N+=J,N+=`\r
`;var ue=encodeURI(N),oe=document.createElement("a");oe.setAttribute("href",ue),oe.setAttribute("download","Analytic.csv"),document.body.appendChild(oe),oe.click()}return Uo(g,(Y,N)=>{c.value={};for(const[G,j]of Object.entries(d.value)){const J=Y.find(ue=>ue.key.toLowerCase()===G.toLowerCase());J&&J.isSelected&&(c.value[G]=j,c.value[G].isDisplay=J.isSelected)}R(),localStorage.setItem("costAnalysisSetting_v1.3",JSON.stringify(Y))},{deep:!0}),Ti(()=>{console.log("weekly mounted");const Y=JSON.parse(localStorage.getItem("costAnalysisSetting_v1.3"));Y&&(g.value=Y),k()}),xc(()=>{Vi.destroy(),Vi=null}),{selectedDate:n,data:s,calculatedData:i,total:o,totalInNumber:r,displayN:a,displayList:c,sourceDisplayList:d,weekStart:h,weekEnd:p,displayOptions:g,getDisplayValue:W,getDataStyle:T,getGridTemplateStyle:w,loadGridData:k,calculateTotal:x,exportCSV:z}},computed:{comparedValue(){let e=[];for(let[t,n]of Object.entries(this.displayList))n.isDisplay&&e.push(n);return e}}}),nl=e=>(ft("data-v-20916891"),e=e(),pt(),e),_ie={key:0,class:"mt-4"},bie=nl(()=>m("h3",null,"No data found.",-1)),Sie=[bie],wie={key:1,class:"mt-4 costAnalaysisBody"},Die={class:"display-option mt-4"},kie=nl(()=>m("label",null,"Columns: ",-1)),Tie={class:"cost-grid mt-4"},Cie=nl(()=>m("div",{class:"table-cell"},null,-1)),Eie=nl(()=>m("div",{class:"table-cell"},null,-1)),xie={class:"table-cell"},Mie={key:0,class:"table-cell"},$ie={class:"table-cell"},Aie=nl(()=>m("div",{class:"table-cell bold"}," Total ",-1)),Oie=nl(()=>m("div",{class:"table-cell bold"},null,-1)),Pie={class:"main-canvas-wrapper"},Lie={class:"myChart-wrapper",style:{height:"600px"}},Rie={class:"main-canvas",ref:"myChartRef",id:"myChart",colours:"[ { fillColor: '#ffff00' }, { fillColor: '#0066ff' } ]"};function Nie(e,t,n,s,i,o){const r=ye("multi-select"),a=ye("perfect-scrollbar");return S(),D(de,null,[e.data[0]?(S(),D("div",wie,[m("div",Die,[kie,ce(r,{class:"ml-4",selectOptionInput:e.displayOptions,targetString:"description","fixed-left":!1},null,8,["selectOptionInput"])]),m("div",Tie,[m("div",{class:"day-arr cost-grid-heading",style:wt(e.getGridTemplateStyle())},[Cie,Eie,(S(!0),D(de,null,$e(e.displayList,c=>(S(),D("div",xie,H(c.heading),1))),256))],4),ce(a,null,{default:Ze(()=>[(S(!0),D(de,null,$e(e.data,(c,d)=>(S(),D("div",{class:"day-arr",style:wt(e.getGridTemplateStyle())},[c.day?(S(),D("div",Mie,H(c.day),1)):X("",!0),m("div",$ie,H(c.weekDay),1),(S(!0),D(de,null,$e(Object.entries(e.displayList),([h,p])=>(S(),D("div",{class:nt(["table-cell",e.getDataStyle(e.calculatedData[d],h,p)])},[m("span",null,H(e.getDisplayValue(c[h],p.isCalculated)),1)],2))),256))],4))),256)),m("div",{class:"day-arr",style:wt(e.getGridTemplateStyle())},[Aie,Oie,(S(!0),D(de,null,$e(Object.entries(e.displayList),([c,d])=>(S(),D("div",{class:nt(["table-cell bold",e.getDataStyle(e.totalInNumber,c,d)])},[m("span",null,H(e.getDisplayValue(e.total[c],d.isCalculated)),1)],2))),256))],4)]),_:1})])])):(S(),D("div",_ie,Sie)),m("div",Pie,[m("div",Lie,[m("canvas",Rie,null,512)])])],64)}const Fie=Ne(vie,[["render",Nie],["__scopeId","data-v-20916891"]]);let hi=null;const Iie=Ve({name:"EmployeeWeekly",components:{CustomSelect:ir,Modal:cs,Dialog:K},props:{dayFocus:{type:Object},fromDate:{type:Object},toDate:{type:Object},selectedUnit:{type:String},modalIndex:{type:Number},employeeList:{type:Array}},setup(e){const t=_n(),n=V(null),s=V([]),i=V([]),o=V([]),r=V([]),a=V(["hours","unit"]),c=V([]),d=V({}),h=V({}),p=V(6),g=V({}),y=V({scheduled:{heading:"Schedule",isDisplay:!0,isCalculated:!1},actual:{heading:"Actual",isDisplay:!1,isCalculated:!1},budgeted:{heading:"Budget",isDisplay:!1,isCalculated:!1},sales:{heading:"Sales",isDisplay:!1,isCalculated:!1}}),_=V(""),T=V(""),w=V(!1),k=V(),x=V(e.selectedUnit),$=V(e.employeeList);Ti(()=>{L()}),xc(()=>{hi.destroy(),hi=null});const L=()=>{var Y;$.value=e.employeeList,x.value=e.selectedUnit,x.value===Fr.value?k.value={symbol:"$",precision:2}:k.value={symbol:"",precision:2};let W=e.fromDate.clone().format("YYYY-MM-DD"),z=e.toDate.clone().format("YYYY-MM-DD");K.loading(),t.dispatch(tl.fetchEmployeeWeeklyAnalysisData,{weekStart:W,weekEnd:z,employeeNumbers:e.employeeList.filter(N=>N!=null),selectedUnit:(Y=e.selectedUnit)==null?void 0:Y.toLowerCase(),pageNumber:1,pageSize:1e3}).then(N=>{console.log("res",N.response),g.value=["Schedule","Actual","Variance"],s.value=N.response.map(j=>[j.employee,j.scheduled,j.actual,j.variance]),i.value=N.response.map(j=>[j.employee,je(j.scheduled).format(k.value),je(j.actual).format(k.value),je(j.variance).format(k.value)]);const G=s.value.reduce((j,J)=>(j[0]+=J[1],j[1]+=J[2],j[2]+=J[3],j),[0,0,0]);d.value=G,h.value=["Total",...G.map(j=>je(j).format(k.value))],Ks(()=>{F(),K.clear()})})},F=()=>{console.log("data",s.value);let W=[],z=[{label:"Scheduled",data:[],backgroundColor:["rgba(255, 99, 132)"]},{label:"Actual",data:[],backgroundColor:"#93e093"}];W=s.value.map(G=>G[0]);for(const G of s.value)z[0].data.push(G[1]),z[1].data.push(G[2]);let Y=document.getElementById("employeeWeeklyChart").getContext("2d"),N={type:"bar",data:{labels:W,datasets:z},options:{responsive:!0}};hi?(console.log("my chart",hi),hi.ctx===null?hi=new co(Y,N):(hi.data.labels=W,hi.data.datasets=z,hi.update())):hi=new co(Y,N)};async function R(){if(w.value){K.alert("No data to export");return}K.loading();const W=s.value;K.clear();let z="data:text/csv;charset=utf-8,";z+=","+g.value.join(",")+`\r
`,W.map(G=>{z+=Object.values(G).join(",")+`\r
`}),z+=["Total",...d.value].slice().join(",")+`\r
`;var Y=encodeURI(z),N=document.createElement("a");N.setAttribute("href",Y),N.setAttribute("download","Analytic.csv"),document.body.appendChild(N),N.click()}return{selectedDate:n,data:s,formattedData:i,dataHours:o,dataUnits:r,unitOptions:a,calculatedData:c,total:d,formattedTotal:h,displayN:p,displayList:g,sourceDisplayList:y,weekStart:_,weekEnd:T,currentEmployeeList:$,loadDataBySelection:L,setGraphData:F,exportCSV:R}}}),qT=e=>(ft("data-v-99bc7c84"),e=e(),pt(),e),Yie={key:0,class:"mt-4"},Hie=qT(()=>m("h3",null,"No data found.",-1)),Wie=[Hie],Bie={key:1,class:"mt-4 costAnalaysisBody"},Vie={class:"cost-grid"},Uie={class:"day-arr cost-grid-heading"},zie=qT(()=>m("div",{class:"table-cell"},null,-1)),jie={key:0,class:"table-cell"},Gie={class:"day-arr"},Kie={key:0,class:"table-cell bold"},qie={class:"main-canvas-wrapper"},Xie={class:"myChart-wrapper",style:{height:"600px"}},Zie={class:"main-canvas",ref:"myChartRef",id:"employeeWeeklyChart"},Jie={class:"mt-4 ml-4"};function Qie(e,t,n,s,i,o){const r=ye("perfect-scrollbar");return S(),D(de,null,[e.data[0]?(S(),D("div",Bie,[m("div",Vie,[m("div",Uie,[zie,(S(!0),D(de,null,$e(e.displayList,(a,c)=>(S(),D("div",{class:"table-cell",key:c},H(a),1))),128))]),ce(r,null,{default:Ze(()=>[(S(!0),D(de,null,$e(e.formattedData,(a,c)=>(S(),D("div",{class:"day-arr",key:c},[(S(!0),D(de,null,$e(a,(d,h)=>(S(),D("span",{class:"day-cell",key:h},[d!=null?(S(),D("div",jie,H(d),1)):X("",!0)]))),128))]))),128)),m("div",Gie,[(S(!0),D(de,null,$e(e.formattedTotal,(a,c)=>(S(),D("span",{class:"day-cell",key:c},[a!=null?(S(),D("div",Kie,H(a),1)):X("",!0)]))),128))])]),_:1})])])):(S(),D("div",Yie,Wie)),ge(m("div",qie,[m("div",Xie,[m("canvas",Zie,null,512)])],512),[[rs,e.currentEmployeeList.length<=20]]),ge(m("div",Jie,"Graphs can only show up to 20 employees.",512),[[rs,e.currentEmployeeList.length>20]])],64)}const eoe=Ne(Iie,[["render",Qie],["__scopeId","data-v-99bc7c84"]]);let Ui=null;const toe=Ve({name:"PayDetailView",components:{Dialog:K,CustomSelect:ir,Modal:cs,MultiSelect:el},props:{dayFocus:{type:Object},fromDate:{type:Object},toDate:{type:Object},selectedUnit:{type:String},employeeList:{type:Array},modalIndex:{type:Number}},setup(e){const t=_n(),n=V(null),s=V([]),i=V([]),o=V([]),r=V([]),a=V([]),c=V(["hours","unit"]),d=V([{key:"normalHours",value:"Ordinary",isSelected:!0},{key:"timeAndHalf",value:"Time & Half",isSelected:!0},{key:"double",value:"Double",isSelected:!0}]),h=V([]),p=V(6),g=V({}),y=V(["Schedule","Actual","Variance"]),_=V(["Ordinary","Time & Half","Double","Ordinary","Time & Half","Double","Ordinary","Time & Half","Double"]),T=V(""),w=V(""),k=V(),x=V(),$=V(!1),L=V({"grid-template-columns":"100px repeat(3, 242px)"}),F=V({"grid-template-columns":"repeat(3, 80px)"}),R=V(),W=V(e.selectedUnit),z=V(),Y=V(),N=V(e.employeeList);Ti(()=>{console.log(" pay detailed view mounted"),Ks(()=>{ue()})}),xc(()=>{Ui&&(Ui.destroy(),Ui=null)}),Uo(d,async Te=>{await j()},{deep:!0}),G();async function G(){var fn;K.loading();let Te=e.fromDate.clone().format("YYYY-MM-DD"),xe=e.toDate.clone().format("YYYY-MM-DD");W.value=e.selectedUnit,N.value=e.employeeList,W.value===Fr.value?R.value={symbol:"$",precision:2}:R.value={symbol:"",precision:2};const Re=await t.dispatch(tl.fetchPayDetailViewData,{weekStart:Te,weekEnd:xe,employeeNumbers:e.employeeList.filter(Ue=>Ue!=null),selectedUnit:(fn=e.selectedUnit)==null?void 0:fn.toLowerCase(),pageNumber:1,pageSize:1e3,payCodes:["01","02","03","04","05"]});if(!Re)return;o.value=Re.response.map(Ue=>[Ue.CommonName,Ue["z1Scheduled 01 - Normal Hours"],Ue["z1Scheduled 02 - Time & Half"],Ue["z1Scheduled 03 - Double"],Ue["z2Actual 01 - Normal Hours"],Ue["z2Actual 02 - Time & Half"],Ue["z2Actual 03 - Double"],Ue["z3Variance 01 - Normal Hours"],Ue["z3Variance 02 - Time & Half"],Ue["z3Variance 03 - Double"]]),i.value=Re.response.map(Ue=>[Ue.CommonName,je(Ue["z1Scheduled 01 - Normal Hours"],{precision:2}).format(R.value),je(Ue["z1Scheduled 02 - Time & Half"],{precision:2}).format(R.value),je(Ue["z1Scheduled 03 - Double"],{precision:2}).format(R.value),je(Ue["z2Actual 01 - Normal Hours"],{precision:2}).format(R.value),je(Ue["z2Actual 02 - Time & Half"],{precision:2}).format(R.value),je(Ue["z2Actual 03 - Double"],{precision:2}).format(R.value),je(Ue["z3Variance 01 - Normal Hours"],{precision:2}).format(R.value),je(Ue["z3Variance 02 - Time & Half"],{precision:2}).format(R.value),je(Ue["z3Variance 03 - Double"],{precision:2}).format(R.value)]),s.value=is.clone(Re.response);const Ye=o.value.reduce((Ue,st)=>{for(let Q=1;Q<st.length;Q++)Ue[Q-1]+=st[Q];return Ue},new Array(10).fill(0));z.value=Ye,console.log("sourceTotal",z.value),Y.value=Ye.map(Ue=>je(Ue,{precision:2}).format(R.value)),Y.value.unshift("Total"),Y.value.pop();let ot=d.value.filter(Ue=>Ue.isSelected===!0);me(ot.length),Se(ot.length),Ks(()=>{j(),ue(),K.clear()})}function j(){let Te=["Ordinary","Time & Half","Double","Ordinary","Time & Half","Double","Ordinary","Time & Half","Double"];d.value.map(Ye=>{!Ye.isSelected&&Ye.value&&(Te=Te.filter(ot=>Ye.value!==ot))}),_.value=Te,i.value=s.value.map(Ye=>{let ot=[];return ot.push(Ye.CommonName),d.value[0].isSelected&&ot.push(je(Ye["z1Scheduled 01 - Normal Hours"],{precision:2}).format(R.value)),d.value[1].isSelected&&ot.push(je(Ye["z1Scheduled 02 - Time & Half"],{precision:2}).format(R.value)),d.value[2].isSelected&&ot.push(je(Ye["z1Scheduled 03 - Double"],{precision:2}).format(R.value)),d.value[0].isSelected&&ot.push(je(Ye["z2Actual 01 - Normal Hours"],{precision:2}).format(R.value)),d.value[1].isSelected&&ot.push(je(Ye["z2Actual 02 - Time & Half"],{precision:2}).format(R.value)),d.value[2].isSelected&&ot.push(je(Ye["z2Actual 03 - Double"],{precision:2}).format(R.value)),d.value[0].isSelected&&ot.push(je(Ye["z3Variance 01 - Normal Hours"],{precision:2}).format(R.value)),d.value[1].isSelected&&ot.push(je(Ye["z3Variance 02 - Time & Half"],{precision:2}).format(R.value)),d.value[2].isSelected&&ot.push(je(Ye["z3Variance 03 - Double"],{precision:2}).format(R.value)),ot});let xe=[];xe.push("Total"),d.value[0].isSelected&&xe.push(je(z.value[0],{precision:2}).format(R.value)),d.value[1].isSelected&&xe.push(je(z.value[1],{precision:2}).format(R.value)),d.value[2].isSelected&&xe.push(je(z.value[2],{precision:2}).format(R.value)),d.value[0].isSelected&&xe.push(je(z.value[3],{precision:2}).format(R.value)),d.value[1].isSelected&&xe.push(je(z.value[4],{precision:2}).format(R.value)),d.value[2].isSelected&&xe.push(je(z.value[5],{precision:2}).format(R.value)),d.value[0].isSelected&&xe.push(je(z.value[6],{precision:2}).format(R.value)),d.value[1].isSelected&&xe.push(je(z.value[7],{precision:2}).format(R.value)),d.value[2].isSelected&&xe.push(je(z.value[8],{precision:2}).format(R.value)),console.log("newTotal",xe),Y.value=xe;let Re=d.value.filter(Ye=>Ye.isSelected===!0);me(Re.length),Se(Re.length),le()}function J(){let Te={schedule:{ordinary:{label:"Schedule - Ordinary",backgroundColor:"#ff6384",data:[]},half:{label:"Schedule - Time & Half",backgroundColor:"#464531",data:[]},double:{label:"Schedule - Double",backgroundColor:"#1B5583",data:[]}},actual:{ordinary:{label:"Actual - Ordinary",backgroundColor:"#93e093",data:[]},half:{label:"Actual - Time & Half",backgroundColor:"#1f77b4",data:[]},double:{label:"Actual - Double",backgroundColor:"#ff7f0e",data:[]}},variance:{ordinary:{label:"Variance - Ordinary",backgroundColor:"#2ca02c",data:[]},half:{label:"Variance - Time & Half",backgroundColor:"#d62728",data:[]},double:{label:"Variance - Double",backgroundColor:"#9467bd",data:[]}}};for(const Re of o.value)Te.schedule.ordinary.data.push(Re[1]),Te.actual.half.data.push(Re[2]),Te.variance.double.data.push(Re[3]),Te.actual.ordinary.data.push(Re[4]),Te.schedule.half.data.push(Re[5]),Te.schedule.double.data.push(Re[6]),Te.variance.ordinary.data.push(Re[7]),Te.variance.half.data.push(Re[8]),Te.variance.double.data.push(Re[9]);let xe=[];return d.value[0].isSelected&&(xe.push(Te.schedule.ordinary),xe.push(Te.actual.ordinary),xe.push(Te.variance.ordinary)),d.value[1].isSelected&&(xe.push(Te.schedule.half),xe.push(Te.actual.half),xe.push(Te.variance.half)),d.value[2].isSelected&&(xe.push(Te.schedule.double),xe.push(Te.actual.double),xe.push(Te.variance.double)),xe}function ue(){let Te=[];Te=i.value.map(ot=>ot[0]);let xe=document.getElementById("payDetailChart");if(!xe)return;let Re=xe.getContext("2d"),Ye={type:"bar",data:{labels:Te,datasets:J()},options:{responsive:!0}};Ui?le():Ui=new co(Re,Ye)}async function oe(){if($.value){K.alert("No data to export");return}K.loading();const Te=i.value;K.clear();let xe="data:text/csv;charset=utf-8,";xe+=fw[0].join(",")+`\r
`+fw[1].join(",")+`\r
`,Te.map(ot=>{xe+=ot.map(fn=>`"${fn}"`).join(",")+`\r
`}),xe+=[...Y.value].slice().map(ot=>`"${ot}"`).join(",")+`\r
`;var Re=encodeURI(xe),Ye=document.createElement("a");Ye.setAttribute("href",Re),Ye.setAttribute("download","Analytic.csv"),document.body.appendChild(Ye),Ye.click()}function le(){if(!Ui)return;const Te=i.value.map(xe=>xe[0]);Ui.data.labels=Te,Ui.data.datasets=J(),Ui.update()}function me(Te){L.value={"grid-template-columns":`100px repeat(3, ${Te*80+Te-1}px)`}}function Se(Te){F.value={"grid-template-columns":`100px repeat(${Te*3}, 80px)`}}return{selectableOption:d,fromDate:k,toDate:x,graphData:o,data:i,selectedDate:n,dataHours:r,dataUnits:a,unitOptions:c,calculatedData:h,totals:Y,displayN:p,displayList:g,heading:y,secondHeading:_,weekStart:T,weekEnd:w,headingStyle:L,secondHeadingStyle:F,currentEmployeeList:N,loadDataBySelection:G,selectChartOption:j,setGraphData:ue,exportCSV:oe}}}),Zh=e=>(ft("data-v-27f54eba"),e=e(),pt(),e),noe={key:0,class:"mt-4"},soe=Zh(()=>m("h3",null,"No data found.",-1)),ioe=[soe],ooe={key:1,class:"mt-4 costAnalaysisBody"},roe={class:"d-flex align-center"},aoe=Zh(()=>m("span",null,"Select Data",-1)),loe={class:"cost-grid mt-4"},coe=Zh(()=>m("div",{class:"table-cell"},null,-1)),uoe=Zh(()=>m("div",{class:"table-cell"},null,-1)),doe={key:0,class:"table-cell"},hoe={key:0,class:"table-cell bold"},foe={class:"main-canvas-wrapper"},poe={class:"myChart-wrapper",style:{"min-height":"600px"}},moe={class:"main-canvas",ref:"myChartRef",id:"payDetailChart",colours:"[ { fillColor: '#ffff00' }, { fillColor: '#0066ff' } ]"},goe={class:"mt-4"};function yoe(e,t,n,s,i,o){const r=ye("multi-select"),a=ye("perfect-scrollbar");return e.data[0]?(S(),D("div",ooe,[m("div",roe,[aoe,ce(r,{class:"ml-2",selectOptionInput:e.selectableOption,targetString:"value",onSelectOption:e.selectChartOption},null,8,["selectOptionInput","onSelectOption"])]),m("div",loe,[m("div",{class:"cost-grid-heading",style:wt(e.headingStyle)},[coe,(S(!0),D(de,null,$e(e.heading,(c,d)=>(S(),D("div",{class:"table-cell",key:d},H(c),1))),128))],4),m("div",{class:"cost-grid-second-heading",style:wt(e.secondHeadingStyle)},[uoe,(S(!0),D(de,null,$e(e.secondHeading,(c,d)=>(S(),D("div",{class:"table-cell",key:d},H(c),1))),128))],4),ce(a,null,{default:Ze(()=>[(S(!0),D(de,null,$e(e.data,(c,d)=>(S(),D("div",{class:"day-arr",key:d,style:wt(e.secondHeadingStyle)},[(S(!0),D(de,null,$e(c,(h,p)=>(S(),D("span",{class:"day-cell",key:p},[h!=null?(S(),D("div",doe,H(h),1)):X("",!0)]))),128))],4))),128)),m("div",{class:"day-arr",style:wt(e.secondHeadingStyle)},[(S(!0),D(de,null,$e(e.totals,(c,d)=>(S(),D("span",{class:"day-cell",key:d},[c!=null?(S(),D("div",hoe,H(c),1)):X("",!0)]))),128))],4)]),_:1})]),ge(m("div",foe,[m("div",poe,[m("canvas",moe,null,512)])],512),[[rs,e.currentEmployeeList.length<=20]]),ge(m("div",goe,"Graphs can only show up to 20 employees.",512),[[rs,e.currentEmployeeList.length>20]])])):(S(),D("div",noe,ioe))}const voe=Ne(toe,[["render",yoe],["__scopeId","data-v-27f54eba"]]),_oe=Ve({name:"Analysis",components:{PayDetailView:voe,DetailCostReport:Jse,SimpleAnalysis:mie,CostAnalysisWeekly:Fie,EmployeeWeekly:eoe,Modal:cs,CustomSelect:ir,MultiSelect:el,DatePicker:bs},setup(){const e=_n(),t=V([]),n=V(1),s=V(20),i=V(5),o=V([]),r=V(0),a=V(!1),c=V(),d=V(),h=V(),p=V(),g=V(),y=V(),_=V(Fr.value),T=V([Fr.value,Fr.unit]),w=V(null),k=V(null),x=V([]),$=V([]),L=V(""),F=V(""),R=V(0),W=V(0),z=V(null),Y=V(null),N=V(M()),G=V(gn.weekly),j=V(gn.weekly),J=V([]),ue=V([gn.simple,gn.detailed,gn.weekly,gn.employeeWeekly,gn.payDetailView]),oe=V1(),le=Affinity.user||oe.appContext.config.globalProperties.$user;Ti(()=>{(!w.value||!k.value)&&(w.value||(w.value=M().startOf("month"),L.value=w.value.format("DD/MM/YYYY")),k.value||(k.value=M().endOf("month").startOf("day"),F.value=k.value.format("DD/MM/YYYY"))),me()});async function me(){await e.dispatch(Ja.getEmployees,le.EmployeeNo).then(st=>{$.value=st.filter(Q=>Q.payType!=="B"&&Q.payType!=="S").map(Q=>(Q.isSelected=!0,Q)),x.value=st.filter(Q=>Q.PayType!=="B"&&Q.PayType!=="S").map(Q=>Q.employeeNo)}),await Se()}async function Se(){try{if(w.value&&k.value&&k.value.diff(w.value,"weeks")>=6)throw K.alert("You can only view information up to six weeks in the past."),"weeks error";j.value=G.value,j.value===gn.simple?d.value.loadGridData():j.value===gn.detailed?h.value.loadGridData():j.value===gn.weekly?p.value.loadGridData():j.value===gn.employeeWeekly?g.value.loadDataBySelection():j.value===gn.payDetailView&&y.value.loadDataBySelection()}catch{}}async function Te(st,Q){let be=st.target.getClientRects()[0];R.value=be.bottom,W.value=be.left,w&&(Y.value=w.value.clone().subtract(1,"day"),z.value=null),N.value=k.value?k.value:M();const _e=await Re();k.value=_e||void 0,F.value=k.value.format("DD/MM/YYYY")}async function xe(st,Q){let be=st.target.getClientRects()[0];R.value=be.bottom,W.value=be.left,k&&(Y.value=null,z.value=k.value.clone().add(1,"day")),N.value=w.value?w.value:M();const _e=await Re();w.value=_e||void 0,L.value=w.value.format("DD/MM/YYYY")}async function Re(){return await c.value.toggleShow(N.value)}async function Ye(){j.value===gn.simple?await d.value.exportCSV():j.value===gn.detailed?await h.value.exportCSV():j.value===gn.weekly?await p.value.exportCSV():j.value===gn.employeeWeekly?await g.value.exportCSV():j.value===gn.payDetailView&&await y.value.exportCSV()}async function ot(st){G.value=st}function fn(st){_.value=st}function Ue(){return $.value.filter(st=>st.isSelected).map(st=>st.employeeNo)}return{DatePickerRef:c,CostDetailAnalysisRef:h,SimpleAnalysisRef:d,CostAnalysisWeeklyRef:p,EmployeeWeeklyRef:g,PayDetailViewRef:y,data:t,dataAnalysis:J,options:ue,selectedView:j,selectedViewFromDropdown:G,pageNumber:n,pageSize:s,totalPages:i,pageList:o,noDataError:a,recordCount:r,selectedUnit:_,unitOptions:T,dateModalTop:R,dateModalLeft:W,datePickerMax:z,datePickerMin:Y,datePickerTargetDay:N,fromDate:w,toDate:k,fromDateText:L,toDateText:F,employeeList:x,selectableEmployeeList:$,updateToDateTime:Te,updateFromDateTime:xe,exportCSVByView:Ye,selectGridData:ot,loadGridDataBySelection:Se,selectUnitOption:fn,selectedEmployeeList:Ue,SelectableView:gn}}}),XT=e=>(ft("data-v-6dec44f5"),e=e(),pt(),e),boe={class:"cost-report-controls"},Soe={class:"select-view"},woe={key:0,class:"select-unit ml-2"},Doe={key:1,class:"select-employee ml-2"},koe={class:"ml-2"},Toe=XT(()=>m("label",null,"From",-1)),Coe={class:"ml-2"},Eoe=XT(()=>m("label",null,"To",-1)),xoe={class:"btn-show-wrap ml-2"},Moe={key:0},$oe={key:0,class:"cost-report-wrap"},Aoe={key:1,class:"cost-report-wrap"},Ooe={key:2,class:"cost-report-wrap"},Poe={key:3,class:"cost-report-wrap"},Loe={key:4,class:"cost-report-wrap"};function Roe(e,t,n,s,i,o){const r=ye("custom-select"),a=ye("multi-select"),c=ye("DetailCostReport"),d=ye("SimpleAnalysis"),h=ye("CostAnalysisWeekly"),p=ye("EmployeeWeekly"),g=ye("PayDetailView"),y=ye("date-picker");return S(),D("div",null,[m("div",null,[m("div",boe,[m("div",Soe,[ce(r,{options:e.options,selected:e.selectedViewFromDropdown,onSelectOption:e.selectGridData},null,8,["options","selected","onSelectOption"])]),e.selectedViewFromDropdown!==e.SelectableView.simple&&e.selectedViewFromDropdown!==e.SelectableView.detailed?(S(),D("div",woe,[ce(r,{options:e.unitOptions,selected:e.selectedUnit,width:100,onSelectOption:e.selectUnitOption},null,8,["options","selected","onSelectOption"])])):X("",!0),e.selectableEmployeeList.length>0?(S(),D("div",Doe,[ce(a,{selectOptionInput:e.selectableEmployeeList,targetString:"commonName",allowAll:!0},null,8,["selectOptionInput"])])):X("",!0),m("div",koe,[Toe,ge(m("input",{"onUpdate:modelValue":t[0]||(t[0]=_=>e.fromDateText=_),class:"input-box date-box ml-2",type:"text",onClick:t[1]||(t[1]=_=>e.updateFromDateTime(_,e.fromDate))},null,512),[[xt,e.fromDateText]])]),m("div",Coe,[Eoe,ge(m("input",{"onUpdate:modelValue":t[2]||(t[2]=_=>e.toDateText=_),class:"input-box date-box ml-2",type:"text",onClick:t[3]||(t[3]=_=>e.updateToDateTime(_,e.toDate))},null,512),[[xt,e.toDateText]])]),m("div",xoe,[m("button",{class:"light-blue small action-button white",onClick:t[4]||(t[4]=_=>e.loadGridDataBySelection())}," Show ")]),m("button",{class:"export-csv light-blue small action-button white ml-2",onClick:t[5]||(t[5]=(..._)=>e.exportCSVByView&&e.exportCSVByView(..._))}," Export CSV ")])]),e.employeeList.length>0?(S(),D("div",Moe,[m("div",null,[e.selectedView===e.SelectableView.detailed?(S(),D("div",$oe,[ce(c,{ref:"CostDetailAnalysisRef",fromDate:e.fromDate,toDate:e.toDate,"employee-list":e.selectedEmployeeList()},null,8,["fromDate","toDate","employee-list"])])):X("",!0),e.selectedView===e.SelectableView.simple?(S(),D("div",Aoe,[ce(d,{ref:"SimpleAnalysisRef",fromDate:e.fromDate,toDate:e.toDate,"employee-list":e.selectedEmployeeList()},null,8,["fromDate","toDate","employee-list"])])):X("",!0),e.selectedView===e.SelectableView.weekly?(S(),D("div",Ooe,[ce(h,{ref:"CostAnalysisWeeklyRef",fromDate:e.fromDate,toDate:e.toDate,selectedUnit:e.selectedUnit,"employee-list":e.selectedEmployeeList()},null,8,["fromDate","toDate","selectedUnit","employee-list"])])):X("",!0),e.selectedView===e.SelectableView.employeeWeekly?(S(),D("div",Poe,[ce(p,{ref:"EmployeeWeeklyRef",fromDate:e.fromDate,toDate:e.toDate,selectedUnit:e.selectedUnit,"employee-list":e.selectedEmployeeList()},null,8,["fromDate","toDate","selectedUnit","employee-list"])])):X("",!0),e.selectedView===e.SelectableView.payDetailView?(S(),D("div",Loe,[ce(g,{ref:"PayDetailViewRef",fromDate:e.fromDate,toDate:e.toDate,selectedUnit:e.selectedUnit,"employee-list":e.selectedEmployeeList()},null,8,["fromDate","toDate","selectedUnit","employee-list"])])):X("",!0)])])):X("",!0),ce(y,{ref:"DatePickerRef",top:e.dateModalTop,leftInput:e.dateModalLeft,"max-date":e.datePickerMax,"min-date":e.datePickerMin,date:e.datePickerTargetDay},null,8,["top","leftInput","max-date","min-date","date"])])}const Noe=Ne(_oe,[["render",Roe],["__scopeId","data-v-6dec44f5"]]),Foe=[{path:"/login",name:"Login",component:Mse},{path:"/my-schedules",name:"My Schedule",component:G0},{path:"/availability",name:"Availability",component:fse},{path:"/flex-schedule",name:"Flex Schedule",component:Mte,beforeEnter:(e,t,n)=>{Rc()?n("/flex-schedule-mobile"):n()}},{path:"/flex-schedule-mobile",name:"FlexScheduleMobile",component:zte},{path:"/my-team",name:"EmployeeTeamSchedule",component:qte},{path:"/my-team-mobile",name:"EmployeeTeamScheduleMobile",component:cne},{path:"/team-schedules",name:"Schedule Management",component:SU},{path:"/employee-allocations",name:"Employee Allocation",component:Q8},{path:"/cost-reports",name:"Analysis",component:Noe},{path:"/",name:"Home",component:G0}],Ioe=oB({history:P3("/"),routes:Foe}),Yoe={state:{magic:123},modules:{FlexSchedule:j4,LookUp:Wq,EmployeeModule:F5,AnalysisModule:Ise}},Hoe=new WI.Store(Yoe);function Woe(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s&&s.push(n)||e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&s.splice(s.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map(function(s){s(n)}),(e.get("*")||[]).slice().map(function(s){s(t,n)})}}}const Boe=["top","right","bottom","left"],pw=["start","end"],mw=Boe.reduce((e,t)=>e.concat(t,t+"-"+pw[0],t+"-"+pw[1]),[]),$r=Math.min,Cr=Math.max,Voe={left:"right",right:"left",bottom:"top",top:"bottom"},Uoe={start:"end",end:"start"};function sg(e,t,n){return Cr(e,$r(t,n))}function Xr(e,t){return typeof e=="function"?e(t):e}function ki(e){return e.split("-")[0]}function Zs(e){return e.split("-")[1]}function ZT(e){return e==="x"?"y":"x"}function My(e){return e==="y"?"height":"width"}function Br(e){return["top","bottom"].includes(ki(e))?"y":"x"}function $y(e){return ZT(Br(e))}function JT(e,t,n){n===void 0&&(n=!1);const s=Zs(e),i=$y(e),o=My(i);let r=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=Gd(r)),[r,Gd(r)]}function zoe(e){const t=Gd(e);return[jd(e),t,jd(t)]}function jd(e){return e.replace(/start|end/g,t=>Uoe[t])}function joe(e,t,n){const s=["left","right"],i=["right","left"],o=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:s:t?s:i;case"left":case"right":return t?o:r;default:return[]}}function Goe(e,t,n,s){const i=Zs(e);let o=joe(ki(e),n==="start",s);return i&&(o=o.map(r=>r+"-"+i),t&&(o=o.concat(o.map(jd)))),o}function Gd(e){return e.replace(/left|right|bottom|top/g,t=>Voe[t])}function Koe(e){return{top:0,right:0,bottom:0,left:0,...e}}function QT(e){return typeof e!="number"?Koe(e):{top:e,right:e,bottom:e,left:e}}function ec(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function gw(e,t,n){let{reference:s,floating:i}=e;const o=Br(t),r=$y(t),a=My(r),c=ki(t),d=o==="y",h=s.x+s.width/2-i.width/2,p=s.y+s.height/2-i.height/2,g=s[a]/2-i[a]/2;let y;switch(c){case"top":y={x:h,y:s.y-i.height};break;case"bottom":y={x:h,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:p};break;case"left":y={x:s.x-i.width,y:p};break;default:y={x:s.x,y:s.y}}switch(Zs(t)){case"start":y[r]-=g*(n&&d?-1:1);break;case"end":y[r]+=g*(n&&d?-1:1);break}return y}const qoe=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:r}=n,a=o.filter(Boolean),c=await(r.isRTL==null?void 0:r.isRTL(t));let d=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=gw(d,s,c),g=s,y={},_=0;for(let T=0;T<a.length;T++){const{name:w,fn:k}=a[T],{x,y:$,data:L,reset:F}=await k({x:h,y:p,initialPlacement:s,placement:g,strategy:i,middlewareData:y,rects:d,platform:r,elements:{reference:e,floating:t}});h=x??h,p=$??p,y={...y,[w]:{...y[w],...L}},F&&_<=50&&(_++,typeof F=="object"&&(F.placement&&(g=F.placement),F.rects&&(d=F.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:h,y:p}=gw(d,g,c)),T=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:y}};async function Jh(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:r,elements:a,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=Xr(t,e),_=QT(y),w=a[g?p==="floating"?"reference":"floating":p],k=ec(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),x=p==="floating"?{x:s,y:i,width:r.floating.width,height:r.floating.height}:r.reference,$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),L=await(o.isElement==null?void 0:o.isElement($))?await(o.getScale==null?void 0:o.getScale($))||{x:1,y:1}:{x:1,y:1},F=ec(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:$,strategy:c}):x);return{top:(k.top-F.top+_.top)/L.y,bottom:(F.bottom-k.bottom+_.bottom)/L.y,left:(k.left-F.left+_.left)/L.x,right:(F.right-k.right+_.right)/L.x}}const Xoe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:o,platform:r,elements:a,middlewareData:c}=t,{element:d,padding:h=0}=Xr(e,t)||{};if(d==null)return{};const p=QT(h),g={x:n,y:s},y=$y(i),_=My(y),T=await r.getDimensions(d),w=y==="y",k=w?"top":"left",x=w?"bottom":"right",$=w?"clientHeight":"clientWidth",L=o.reference[_]+o.reference[y]-g[y]-o.floating[_],F=g[y]-o.reference[y],R=await(r.getOffsetParent==null?void 0:r.getOffsetParent(d));let W=R?R[$]:0;(!W||!await(r.isElement==null?void 0:r.isElement(R)))&&(W=a.floating[$]||o.floating[_]);const z=L/2-F/2,Y=W/2-T[_]/2-1,N=$r(p[k],Y),G=$r(p[x],Y),j=N,J=W-T[_]-G,ue=W/2-T[_]/2+z,oe=sg(j,ue,J),le=!c.arrow&&Zs(i)!=null&&ue!==oe&&o.reference[_]/2-(ue<j?N:G)-T[_]/2<0,me=le?ue<j?ue-j:ue-J:0;return{[y]:g[y]+me,data:{[y]:oe,centerOffset:ue-oe-me,...le&&{alignmentOffset:me}},reset:le}}});function Zoe(e,t,n){return(e?[...n.filter(i=>Zs(i)===e),...n.filter(i=>Zs(i)!==e)]:n.filter(i=>ki(i)===i)).filter(i=>e?Zs(i)===e||(t?jd(i)!==i:!1):!0)}const Joe=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,s,i;const{rects:o,middlewareData:r,placement:a,platform:c,elements:d}=t,{crossAxis:h=!1,alignment:p,allowedPlacements:g=mw,autoAlignment:y=!0,..._}=Xr(e,t),T=p!==void 0||g===mw?Zoe(p||null,y,g):g,w=await Jh(t,_),k=((n=r.autoPlacement)==null?void 0:n.index)||0,x=T[k];if(x==null)return{};const $=JT(x,o,await(c.isRTL==null?void 0:c.isRTL(d.floating)));if(a!==x)return{reset:{placement:T[0]}};const L=[w[ki(x)],w[$[0]],w[$[1]]],F=[...((s=r.autoPlacement)==null?void 0:s.overflows)||[],{placement:x,overflows:L}],R=T[k+1];if(R)return{data:{index:k+1,overflows:F},reset:{placement:R}};const W=F.map(N=>{const G=Zs(N.placement);return[N.placement,G&&h?N.overflows.slice(0,2).reduce((j,J)=>j+J,0):N.overflows[0],N.overflows]}).sort((N,G)=>N[1]-G[1]),Y=((i=W.filter(N=>N[2].slice(0,Zs(N[0])?2:3).every(G=>G<=0))[0])==null?void 0:i[0])||W[0][0];return Y!==a?{data:{index:k+1,overflows:F},reset:{placement:Y}}:{}}}},Qoe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:o,rects:r,initialPlacement:a,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:T=!0,...w}=Xr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=ki(i),x=Br(a),$=ki(a)===a,L=await(c.isRTL==null?void 0:c.isRTL(d.floating)),F=g||($||!T?[Gd(a)]:zoe(a)),R=_!=="none";!g&&R&&F.push(...Goe(a,T,_,L));const W=[a,...F],z=await Jh(t,w),Y=[];let N=((s=o.flip)==null?void 0:s.overflows)||[];if(h&&Y.push(z[k]),p){const ue=JT(i,r,L);Y.push(z[ue[0]],z[ue[1]])}if(N=[...N,{placement:i,overflows:Y}],!Y.every(ue=>ue<=0)){var G,j;const ue=(((G=o.flip)==null?void 0:G.index)||0)+1,oe=W[ue];if(oe)return{data:{index:ue,overflows:N},reset:{placement:oe}};let le=(j=N.filter(me=>me.overflows[0]<=0).sort((me,Se)=>me.overflows[1]-Se.overflows[1])[0])==null?void 0:j.placement;if(!le)switch(y){case"bestFit":{var J;const me=(J=N.filter(Se=>{if(R){const Te=Br(Se.placement);return Te===x||Te==="y"}return!0}).map(Se=>[Se.placement,Se.overflows.filter(Te=>Te>0).reduce((Te,xe)=>Te+xe,0)]).sort((Se,Te)=>Se[1]-Te[1])[0])==null?void 0:J[0];me&&(le=me);break}case"initialPlacement":le=a;break}if(i!==le)return{reset:{placement:le}}}return{}}}};async function ere(e,t){const{placement:n,platform:s,elements:i}=e,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),r=ki(n),a=Zs(n),c=Br(n)==="y",d=["left","top"].includes(r)?-1:1,h=o&&c?-1:1,p=Xr(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return a&&typeof _=="number"&&(y=a==="end"?_*-1:_),c?{x:y*h,y:g*d}:{x:g*d,y:y*h}}const tre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:o,placement:r,middlewareData:a}=t,c=await ere(t,e);return r===((n=a.offset)==null?void 0:n.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:r}}}}},nre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:a={fn:w=>{let{x:k,y:x}=w;return{x:k,y:x}}},...c}=Xr(e,t),d={x:n,y:s},h=await Jh(t,c),p=Br(ki(i)),g=ZT(p);let y=d[g],_=d[p];if(o){const w=g==="y"?"top":"left",k=g==="y"?"bottom":"right",x=y+h[w],$=y-h[k];y=sg(x,y,$)}if(r){const w=p==="y"?"top":"left",k=p==="y"?"bottom":"right",x=_+h[w],$=_-h[k];_=sg(x,_,$)}const T=a.fn({...t,[g]:y,[p]:_});return{...T,data:{x:T.x-n,y:T.y-s}}}}},sre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:s,platform:i,elements:o}=t,{apply:r=()=>{},...a}=Xr(e,t),c=await Jh(t,a),d=ki(n),h=Zs(n),p=Br(n)==="y",{width:g,height:y}=s.floating;let _,T;d==="top"||d==="bottom"?(_=d,T=h===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(T=d,_=h==="end"?"top":"bottom");const w=y-c.top-c.bottom,k=g-c.left-c.right,x=$r(y-c[_],w),$=$r(g-c[T],k),L=!t.middlewareData.shift;let F=x,R=$;if(p?R=h||L?$r($,k):k:F=h||L?$r(x,w):w,L&&!h){const z=Cr(c.left,0),Y=Cr(c.right,0),N=Cr(c.top,0),G=Cr(c.bottom,0);p?R=g-2*(z!==0||Y!==0?z+Y:Cr(c.left,c.right)):F=y-2*(N!==0||G!==0?N+G:Cr(c.top,c.bottom))}await r({...t,availableWidth:R,availableHeight:F});const W=await i.getDimensions(o.floating);return g!==W.width||y!==W.height?{reset:{rects:!0}}:{}}}};function Rs(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bi(e){return Rs(e).getComputedStyle(e)}const yw=Math.min,tc=Math.max,Kd=Math.round;function eC(e){const t=bi(e);let n=parseFloat(t.width),s=parseFloat(t.height);const i=e.offsetWidth,o=e.offsetHeight,r=Kd(n)!==i||Kd(s)!==o;return r&&(n=i,s=o),{width:n,height:s,fallback:r}}function er(e){return nC(e)?(e.nodeName||"").toLowerCase():""}let sd;function tC(){if(sd)return sd;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(sd=e.brands.map(t=>t.brand+"/"+t.version).join(" "),sd):navigator.userAgent}function Si(e){return e instanceof Rs(e).HTMLElement}function Ko(e){return e instanceof Rs(e).Element}function nC(e){return e instanceof Rs(e).Node}function vw(e){return typeof ShadowRoot>"u"?!1:e instanceof Rs(e).ShadowRoot||e instanceof ShadowRoot}function Qh(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=bi(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function ire(e){return["table","td","th"].includes(er(e))}function ig(e){const t=/firefox/i.test(tC()),n=bi(e),s=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!s&&s!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const o=n.contain;return o!=null&&o.includes(i)})}function sC(){return!/^((?!chrome|android).)*safari/i.test(tC())}function Ay(e){return["html","body","#document"].includes(er(e))}function iC(e){return Ko(e)?e:e.contextElement}const oC={x:1,y:1};function Ra(e){const t=iC(e);if(!Si(t))return oC;const n=t.getBoundingClientRect(),{width:s,height:i,fallback:o}=eC(t);let r=(o?Kd(n.width):n.width)/s,a=(o?Kd(n.height):n.height)/i;return r&&Number.isFinite(r)||(r=1),a&&Number.isFinite(a)||(a=1),{x:r,y:a}}function wc(e,t,n,s){var i,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=iC(e);let c=oC;t&&(s?Ko(s)&&(c=Ra(s)):c=Ra(e));const d=a?Rs(a):window,h=!sC()&&n;let p=(r.left+(h&&((i=d.visualViewport)==null?void 0:i.offsetLeft)||0))/c.x,g=(r.top+(h&&((o=d.visualViewport)==null?void 0:o.offsetTop)||0))/c.y,y=r.width/c.x,_=r.height/c.y;if(a){const T=Rs(a),w=s&&Ko(s)?Rs(s):s;let k=T.frameElement;for(;k&&s&&w!==T;){const x=Ra(k),$=k.getBoundingClientRect(),L=getComputedStyle(k);$.x+=(k.clientLeft+parseFloat(L.paddingLeft))*x.x,$.y+=(k.clientTop+parseFloat(L.paddingTop))*x.y,p*=x.x,g*=x.y,y*=x.x,_*=x.y,p+=$.x,g+=$.y,k=Rs(k).frameElement}}return{width:y,height:_,top:g,right:p+y,bottom:g+_,left:p,x:p,y:g}}function qo(e){return((nC(e)?e.ownerDocument:e.document)||window.document).documentElement}function ef(e){return Ko(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function rC(e){return wc(qo(e)).left+ef(e).scrollLeft}function Dc(e){if(er(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vw(e)&&e.host||qo(e);return vw(t)?t.host:t}function aC(e){const t=Dc(e);return Ay(t)?t.ownerDocument.body:Si(t)&&Qh(t)?t:aC(t)}function qd(e,t){var n;t===void 0&&(t=[]);const s=aC(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Rs(s);return i?t.concat(o,o.visualViewport||[],Qh(s)?s:[]):t.concat(s,qd(s))}function _w(e,t,n){return t==="viewport"?ec(function(s,i){const o=Rs(s),r=qo(s),a=o.visualViewport;let c=r.clientWidth,d=r.clientHeight,h=0,p=0;if(a){c=a.width,d=a.height;const g=sC();(g||!g&&i==="fixed")&&(h=a.offsetLeft,p=a.offsetTop)}return{width:c,height:d,x:h,y:p}}(e,n)):Ko(t)?ec(function(s,i){const o=wc(s,!0,i==="fixed"),r=o.top+s.clientTop,a=o.left+s.clientLeft,c=Si(s)?Ra(s):{x:1,y:1};return{width:s.clientWidth*c.x,height:s.clientHeight*c.y,x:a*c.x,y:r*c.y}}(t,n)):ec(function(s){const i=qo(s),o=ef(s),r=s.ownerDocument.body,a=tc(i.scrollWidth,i.clientWidth,r.scrollWidth,r.clientWidth),c=tc(i.scrollHeight,i.clientHeight,r.scrollHeight,r.clientHeight);let d=-o.scrollLeft+rC(s);const h=-o.scrollTop;return bi(r).direction==="rtl"&&(d+=tc(i.clientWidth,r.clientWidth)-a),{width:a,height:c,x:d,y:h}}(qo(e)))}function bw(e){return Si(e)&&bi(e).position!=="fixed"?e.offsetParent:null}function Sw(e){const t=Rs(e);let n=bw(e);for(;n&&ire(n)&&bi(n).position==="static";)n=bw(n);return n&&(er(n)==="html"||er(n)==="body"&&bi(n).position==="static"&&!ig(n))?t:n||function(s){let i=Dc(s);for(;Si(i)&&!Ay(i);){if(ig(i))return i;i=Dc(i)}return null}(e)||t}function ore(e,t,n){const s=Si(t),i=qo(t),o=wc(e,!0,n==="fixed",t);let r={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(s||!s&&n!=="fixed")if((er(t)!=="body"||Qh(i))&&(r=ef(t)),Si(t)){const c=wc(t,!0);a.x=c.x+t.clientLeft,a.y=c.y+t.clientTop}else i&&(a.x=rC(i));return{x:o.left+r.scrollLeft-a.x,y:o.top+r.scrollTop-a.y,width:o.width,height:o.height}}const rre={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=n==="clippingAncestors"?function(d,h){const p=h.get(d);if(p)return p;let g=qd(d).filter(w=>Ko(w)&&er(w)!=="body"),y=null;const _=bi(d).position==="fixed";let T=_?Dc(d):d;for(;Ko(T)&&!Ay(T);){const w=bi(T),k=ig(T);(_?k||y:k||w.position!=="static"||!y||!["absolute","fixed"].includes(y.position))?y=w:g=g.filter(x=>x!==T),T=Dc(T)}return h.set(d,g),g}(t,this._c):[].concat(n),r=[...o,s],a=r[0],c=r.reduce((d,h)=>{const p=_w(t,h,i);return d.top=tc(p.top,d.top),d.right=yw(p.right,d.right),d.bottom=yw(p.bottom,d.bottom),d.left=tc(p.left,d.left),d},_w(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:s}=e;const i=Si(n),o=qo(n);if(n===o)return t;let r={scrollLeft:0,scrollTop:0},a={x:1,y:1};const c={x:0,y:0};if((i||!i&&s!=="fixed")&&((er(n)!=="body"||Qh(o))&&(r=ef(n)),Si(n))){const d=wc(n);a=Ra(n),c.x=d.x+n.clientLeft,c.y=d.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-r.scrollLeft*a.x+c.x,y:t.y*a.y-r.scrollTop*a.y+c.y}},isElement:Ko,getDimensions:function(e){return Si(e)?eC(e):e.getBoundingClientRect()},getOffsetParent:Sw,getDocumentElement:qo,getScale:Ra,async getElementRects(e){let{reference:t,floating:n,strategy:s}=e;const i=this.getOffsetParent||Sw,o=this.getDimensions;return{reference:ore(t,await i(n),s),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>bi(e).direction==="rtl"},are=(e,t,n)=>{const s=new Map,i={platform:rre,...n},o={...i.platform,_c:s};return qoe(e,t,{...i,platform:o})};function lC(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&e[n]?lC(e[n],t[n]):e[n]=t[n])}const ao={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:0,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function kc(e,t){let n=ao.themes[e]||{},s;do s=n[t],typeof s>"u"?n.$extend?n=ao.themes[n.$extend]||{}:(n=null,s=ao[t]):n=null;while(n);return s}function lre(e){const t=[e];let n=ao.themes[e]||{};do n.$extend&&!n.$resetCss?(t.push(n.$extend),n=ao.themes[n.$extend]||{}):n=null;while(n);return t.map(s=>`v-popper--theme-${s}`)}function ww(e){const t=[e];let n=ao.themes[e]||{};do n.$extend?(t.push(n.$extend),n=ao.themes[n.$extend]||{}):n=null;while(n);return t}let Vr=!1;if(typeof window<"u"){Vr=!1;try{const e=Object.defineProperty({},"passive",{get(){Vr=!0}});window.addEventListener("test",null,e)}catch{}}let cC=!1;typeof window<"u"&&typeof navigator<"u"&&(cC=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const uC=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),Dw={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},kw={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function Tw(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function dm(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const Gs=[];let Dr=null;const Cw={};function Ew(e){let t=Cw[e];return t||(t=Cw[e]=[]),t}let og=function(){};typeof window<"u"&&(og=window.Element);function yt(e){return function(t){return kc(t.theme,e)}}const hm="__floating-vue__popper",dC=()=>Ve({name:"VPopper",provide(){return{[hm]:{parentPopper:this}}},inject:{[hm]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:yt("disabled")},positioningDisabled:{type:Boolean,default:yt("positioningDisabled")},placement:{type:String,default:yt("placement"),validator:e=>uC.includes(e)},delay:{type:[String,Number,Object],default:yt("delay")},distance:{type:[Number,String],default:yt("distance")},skidding:{type:[Number,String],default:yt("skidding")},triggers:{type:Array,default:yt("triggers")},showTriggers:{type:[Array,Function],default:yt("showTriggers")},hideTriggers:{type:[Array,Function],default:yt("hideTriggers")},popperTriggers:{type:Array,default:yt("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:yt("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:yt("popperHideTriggers")},container:{type:[String,Object,og,Boolean],default:yt("container")},boundary:{type:[String,og],default:yt("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:yt("strategy")},autoHide:{type:[Boolean,Function],default:yt("autoHide")},handleResize:{type:Boolean,default:yt("handleResize")},instantMove:{type:Boolean,default:yt("instantMove")},eagerMount:{type:Boolean,default:yt("eagerMount")},popperClass:{type:[String,Array,Object],default:yt("popperClass")},computeTransformOrigin:{type:Boolean,default:yt("computeTransformOrigin")},autoMinSize:{type:Boolean,default:yt("autoMinSize")},autoSize:{type:[Boolean,String],default:yt("autoSize")},autoMaxSize:{type:Boolean,default:yt("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:yt("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:yt("preventOverflow")},overflowPadding:{type:[Number,String],default:yt("overflowPadding")},arrowPadding:{type:[Number,String],default:yt("arrowPadding")},arrowOverflow:{type:Boolean,default:yt("arrowOverflow")},flip:{type:Boolean,default:yt("flip")},shift:{type:Boolean,default:yt("shift")},shiftCrossAxis:{type:Boolean,default:yt("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:yt("noAutoFocus")},disposeTimeout:{type:Number,default:yt("disposeTimeout")}},emits:{show:()=>!0,hide:()=>!0,"update:shown":e=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[hm])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},...["triggers","positioningDisabled"].reduce((e,t)=>(e[t]="$_refreshListeners",e),{}),...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})},created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:n=!1}={}){var s,i;(s=this.parentPopper)!=null&&s.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((i=this.parentPopper)==null?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var e;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((e=this.referenceNode)==null?void 0:e.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(t=>t.nodeType===t.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.$_isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(tre({mainAxis:this.distance,crossAxis:this.skidding}));const t=this.placement.startsWith("auto");if(t?e.middleware.push(Joe({alignment:this.placement.split("-")[1]??""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(nre({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!t&&this.flip&&e.middleware.push(Qoe({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(Xoe({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:s,rects:i,middlewareData:o})=>{let r;const{centerOffset:a}=o.arrow;return s.startsWith("top")||s.startsWith("bottom")?r=Math.abs(a)>i.reference.width/2:r=Math.abs(a)>i.reference.height/2,{data:{overflow:r}}}}),this.autoMinSize||this.autoSize){const s=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:i,placement:o,middlewareData:r})=>{var a;if((a=r.autoSize)!=null&&a.skip)return{};let c,d;return o.startsWith("top")||o.startsWith("bottom")?c=i.reference.width:d=i.reference.height,this.$_innerNode.style[s==="min"?"minWidth":s==="max"?"maxWidth":"width"]=c!=null?`${c}px`:null,this.$_innerNode.style[s==="min"?"minHeight":s==="max"?"maxHeight":"height"]=d!=null?`${d}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(sre({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:s,availableHeight:i})=>{this.$_innerNode.style.maxWidth=s!=null?`${s}px`:null,this.$_innerNode.style.maxHeight=i!=null?`${i}px`:null}})));const n=await are(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:n.x,y:n.y,placement:n.placement,strategy:n.strategy,arrow:{...n.middlewareData.arrow,...n.middlewareData.arrowOverflow}})},$_scheduleShow(e=null,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Dr&&this.instantMove&&Dr.instantMove&&Dr!==this.parentPopper){Dr.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e=null,t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Dr=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await dm(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...qd(this.$_referenceNode),...qd(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),s=n.parentNode.getBoundingClientRect(),i=t.x+t.width/2-(s.left+n.offsetLeft),o=t.y+t.height/2-(s.top+n.offsetTop);this.result.transformOrigin=`${i}px ${o}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let n=0;n<Gs.length;n++)t=Gs[n],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}Gs.push(this),document.body.classList.add("v-popper--some-open");for(const t of ww(this.theme))Ew(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await dm(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,Tw(Gs,this),Gs.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of ww(this.theme)){const s=Ew(n);Tw(s,this),s.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}Dr===this&&(Dr=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=this.disposeTimeout;t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await dm(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,Dw,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],Dw,this.popperTriggers,this.popperShowTriggers,e);const t=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,kw,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],kw,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,n){this.$_events.push({targetNodes:e,eventType:t,handler:n}),e.forEach(s=>s.addEventListener(t,n,Vr?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,n,s,i){let o=n;s!=null&&(o=typeof s=="function"?s(o):s),o.forEach(r=>{const a=t[r];a&&this.$_registerEventListeners(e,a,i)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(n=>{const{targetNodes:s,eventType:i,handler:o}=n;!e||e===i?s.forEach(r=>r.removeEventListener(i,o)):t.push(n)}),this.$_events=t},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const n of this.$_targetNodes){const s=n.getAttribute(e);s&&(n.removeAttribute(e),n.setAttribute(t,s))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const n in e){const s=e[n];s==null?t.removeAttribute(n):t.setAttribute(n,s)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.$_pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(nc>=e.left&&nc<=e.right&&sc>=e.top&&sc<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),n=nc-Mo,s=sc-$o,i=t.left+t.width/2-Mo+(t.top+t.height/2)-$o+t.width+t.height,o=Mo+n*i,r=$o+s*i;return id(Mo,$o,o,r,t.left,t.top,t.left,t.bottom)||id(Mo,$o,o,r,t.left,t.top,t.right,t.top)||id(Mo,$o,o,r,t.right,t.top,t.right,t.bottom)||id(Mo,$o,o,r,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document<"u"&&typeof window<"u"&&(cC?(document.addEventListener("touchstart",xw,Vr?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",ure,Vr?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",xw,!0),window.addEventListener("click",cre,!0)),window.addEventListener("resize",fre));function xw(e){for(let t=0;t<Gs.length;t++){const n=Gs[t];try{const s=n.popperNode();n.$_mouseDownContains=s.contains(e.target)}catch{}}}function cre(e){hC(e)}function ure(e){hC(e,!0)}function hC(e,t=!1){const n={};for(let s=Gs.length-1;s>=0;s--){const i=Gs[s];try{const o=i.$_containsGlobalTarget=dre(i,e);i.$_pendingHide=!1,requestAnimationFrame(()=>{if(i.$_pendingHide=!1,!n[i.randomId]&&Mw(i,o,e)){if(i.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&o){let a=i.parentPopper;for(;a;)n[a.randomId]=!0,a=a.parentPopper;return}let r=i.parentPopper;for(;r&&Mw(r,r.$_containsGlobalTarget,e);)r.$_handleGlobalClose(e,t),r=r.parentPopper}})}catch{}}}function dre(e,t){const n=e.popperNode();return e.$_mouseDownContains||n.contains(t.target)}function Mw(e,t,n){return n.closeAllPopover||n.closePopover&&t||hre(e,n)&&!t}function hre(e,t){if(typeof e.autoHide=="function"){const n=e.autoHide(t);return e.lastAutoHide=n,n}return e.autoHide}function fre(e){for(let t=0;t<Gs.length;t++)Gs[t].$_computePosition(e)}let Mo=0,$o=0,nc=0,sc=0;typeof window<"u"&&window.addEventListener("mousemove",e=>{Mo=nc,$o=sc,nc=e.clientX,sc=e.clientY},Vr?{passive:!0}:void 0);function id(e,t,n,s,i,o,r,a){const c=((r-i)*(t-o)-(a-o)*(e-i))/((a-o)*(n-e)-(r-i)*(s-t)),d=((n-e)*(t-o)-(s-t)*(e-i))/((a-o)*(n-e)-(r-i)*(s-t));return c>=0&&c<=1&&d>=0&&d<=1}const pre={extends:dC()},tf=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n};function mre(e,t,n,s,i,o){return S(),D("div",{ref:"reference",class:nt(["v-popper",{"v-popper--shown":e.slotData.isShown}])},[Pr(e.$slots,"default",gL(B1(e.slotData)))],2)}const gre=tf(pre,[["render",mre]]);function yre(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let Sd;function rg(){rg.init||(rg.init=!0,Sd=yre()!==-1)}var nf={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){rg(),Ks(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Sd&&this.$el.appendChild(e),e.data="about:blank",Sd||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Sd&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const vre=JL();ft("data-v-b329ee4c");const _re={class:"resize-observer",tabindex:"-1"};pt();const bre=vre((e,t,n,s,i,o)=>(S(),qt("div",_re)));nf.render=bre;nf.__scopeId="data-v-b329ee4c";nf.__file="src/components/ResizeObserver.vue";const fC=(e="theme")=>({computed:{themeClass(){return lre(this[e])}}}),Sre=Ve({name:"VPopperContent",components:{ResizeObserver:nf},mixins:[fC()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),wre=["id","aria-hidden","tabindex","data-popper-placement"],Dre={ref:"inner",class:"v-popper__inner"},kre=m("div",{class:"v-popper__arrow-outer"},null,-1),Tre=m("div",{class:"v-popper__arrow-inner"},null,-1),Cre=[kre,Tre];function Ere(e,t,n,s,i,o){const r=ye("ResizeObserver");return S(),D("div",{id:e.popperId,ref:"popover",class:nt(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:wt(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=X1(a=>e.autoHide&&e.$emit("hide"),["esc"]))},[m("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=a=>e.autoHide&&e.$emit("hide"))}),m("div",{class:"v-popper__wrapper",style:wt(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[m("div",Dre,[e.mounted?(S(),D(de,{key:0},[m("div",null,[Pr(e.$slots,"default")]),e.handleResize?(S(),qt(r,{key:0,onNotify:t[1]||(t[1]=a=>e.$emit("resize",a))})):X("",!0)],64)):X("",!0)],512),m("div",{ref:"arrow",class:"v-popper__arrow-container",style:wt(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},Cre,4)],4)],46,wre)}const pC=tf(Sre,[["render",Ere]]),mC={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}},xre=Ve({name:"VPopperWrapper",components:{Popper:gre,PopperContent:pC},mixins:[mC,fC("finalTheme")],props:{theme:{type:String,default:null},referenceNode:{type:Function,default:null},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:void 0},positioningDisabled:{type:Boolean,default:void 0},placement:{type:String,default:void 0},delay:{type:[String,Number,Object],default:void 0},distance:{type:[Number,String],default:void 0},skidding:{type:[Number,String],default:void 0},triggers:{type:Array,default:void 0},showTriggers:{type:[Array,Function],default:void 0},hideTriggers:{type:[Array,Function],default:void 0},popperTriggers:{type:Array,default:void 0},popperShowTriggers:{type:[Array,Function],default:void 0},popperHideTriggers:{type:[Array,Function],default:void 0},container:{type:[String,Object,Element,Boolean],default:void 0},boundary:{type:[String,Element],default:void 0},strategy:{type:String,default:void 0},autoHide:{type:[Boolean,Function],default:void 0},handleResize:{type:Boolean,default:void 0},instantMove:{type:Boolean,default:void 0},eagerMount:{type:Boolean,default:void 0},popperClass:{type:[String,Array,Object],default:void 0},computeTransformOrigin:{type:Boolean,default:void 0},autoMinSize:{type:Boolean,default:void 0},autoSize:{type:[Boolean,String],default:void 0},autoMaxSize:{type:Boolean,default:void 0},autoBoundaryMaxSize:{type:Boolean,default:void 0},preventOverflow:{type:Boolean,default:void 0},overflowPadding:{type:[Number,String],default:void 0},arrowPadding:{type:[Number,String],default:void 0},arrowOverflow:{type:Boolean,default:void 0},flip:{type:Boolean,default:void 0},shift:{type:Boolean,default:void 0},shiftCrossAxis:{type:Boolean,default:void 0},noAutoFocus:{type:Boolean,default:void 0},disposeTimeout:{type:Number,default:void 0}},emits:{show:()=>!0,hide:()=>!0,"update:shown":e=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function Mre(e,t,n,s,i,o){const r=ye("PopperContent"),a=ye("Popper");return S(),qt(a,lc({ref:"popper"},e.$props,{theme:e.finalTheme,"target-nodes":e.getTargetNodes,"popper-node":()=>e.$refs.popperContent.$el,class:[e.themeClass],onShow:t[0]||(t[0]=()=>e.$emit("show")),onHide:t[1]||(t[1]=()=>e.$emit("hide")),"onUpdate:shown":t[2]||(t[2]=c=>e.$emit("update:shown",c)),onApplyShow:t[3]||(t[3]=()=>e.$emit("apply-show")),onApplyHide:t[4]||(t[4]=()=>e.$emit("apply-hide")),onCloseGroup:t[5]||(t[5]=()=>e.$emit("close-group")),onCloseDirective:t[6]||(t[6]=()=>e.$emit("close-directive")),onAutoHide:t[7]||(t[7]=()=>e.$emit("auto-hide")),onResize:t[8]||(t[8]=()=>e.$emit("resize"))}),{default:Ze(({popperId:c,isShown:d,shouldMountContent:h,skipTransition:p,autoHide:g,show:y,hide:_,handleResize:T,onResize:w,classes:k,result:x})=>[Pr(e.$slots,"default",{shown:d,show:y,hide:_}),ce(r,{ref:"popperContent","popper-id":c,theme:e.finalTheme,shown:d,mounted:h,"skip-transition":p,"auto-hide":g,"handle-resize":T,classes:k,result:x,onHide:_,onResize:w},{default:Ze(()=>[Pr(e.$slots,"popper",{shown:d,hide:_})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},16,["theme","target-nodes","popper-node","class"])}const Oy=tf(xre,[["render",Mre]]),$re={...Oy,name:"VDropdown",vPopperTheme:"dropdown"},Are={...Oy,name:"VMenu",vPopperTheme:"menu"},Ore={...Oy,name:"VTooltip",vPopperTheme:"tooltip"},Pre=Ve({name:"VTooltipDirective",components:{Popper:dC(),PopperContent:pC},mixins:[mC],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>kc(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>kc(e.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,n=this.content(this);n.then?n.then(s=>this.onResult(t,s)):this.onResult(t,n)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),Lre=["innerHTML"],Rre=["textContent"];function Nre(e,t,n,s,i,o){const r=ye("PopperContent"),a=ye("Popper");return S(),qt(a,lc({ref:"popper"},e.$attrs,{theme:e.theme,"target-nodes":e.targetNodes,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:Ze(({popperId:c,isShown:d,shouldMountContent:h,skipTransition:p,autoHide:g,hide:y,handleResize:_,onResize:T,classes:w,result:k})=>[ce(r,{ref:"popperContent",class:nt({"v-popper--tooltip-loading":e.loading}),"popper-id":c,theme:e.theme,shown:d,mounted:h,"skip-transition":p,"auto-hide":g,"handle-resize":_,classes:w,result:k,onHide:y,onResize:T},{default:Ze(()=>[e.html?(S(),D("div",{key:0,innerHTML:e.finalContent},null,8,Lre)):(S(),D("div",{key:1,textContent:H(e.finalContent)},null,8,Rre))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const Fre=tf(Pre,[["render",Nre]]),gC="v-popper--has-tooltip";function Ire(e,t){let n=e.placement;if(!n&&t)for(const s of uC)t[s]&&(n=s);return n||(n=kc(e.theme||"tooltip","placement")),n}function yC(e,t,n){let s;const i=typeof t;return i==="string"?s={content:t}:t&&i==="object"?s=t:s={content:!1},s.placement=Ire(s,n),s.targetNodes=()=>[e],s.referenceNode=()=>e,s}let fm,Tc,Yre=0;function Hre(){if(fm)return;Tc=V([]),fm=Z1({name:"VTooltipDirectiveApp",setup(){return{directives:Tc}},render(){return this.directives.map(t=>Ga(Fre,{...t.options,shown:t.shown||t.options.shown,key:t.id}))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),fm.mount(e)}function Wre(e,t,n){Hre();const s=V(yC(e,t,n)),i=V(!1),o={id:Yre++,options:s,shown:i};return Tc.value.push(o),e.classList&&e.classList.add(gC),e.$_popper={options:s,item:o,show(){i.value=!0},hide(){i.value=!1}}}function vC(e){if(e.$_popper){const t=Tc.value.indexOf(e.$_popper.item);t!==-1&&Tc.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(gC)}function $w(e,{value:t,modifiers:n}){const s=yC(e,t,n);if(!s.content||kc(s.theme||"tooltip","disabled"))vC(e);else{let i;e.$_popper?(i=e.$_popper,i.options.value=s):i=Wre(e,t,n),typeof t.shown<"u"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?i.show():i.hide())}}const Bre={beforeMount:$w,updated:$w,beforeUnmount(e){vC(e)}};function Aw(e){e.addEventListener("click",_C),e.addEventListener("touchstart",bC,Vr?{passive:!0}:!1)}function Ow(e){e.removeEventListener("click",_C),e.removeEventListener("touchstart",bC),e.removeEventListener("touchend",SC),e.removeEventListener("touchcancel",wC)}function _C(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function bC(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",SC),t.addEventListener("touchcancel",wC)}}function SC(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const n=e.changedTouches[0],s=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-s.screenY)<20&&Math.abs(n.screenX-s.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function wC(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}const Vre={beforeMount(e,{value:t,modifiers:n}){e.$_closePopoverModifiers=n,(typeof t>"u"||t)&&Aw(e)},updated(e,{value:t,oldValue:n,modifiers:s}){e.$_closePopoverModifiers=s,t!==n&&(typeof t>"u"||t?Aw(e):Ow(e))},beforeUnmount(e){Ow(e)}};function Ure(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,lC(ao,t),e.directive("tooltip",Bre),e.directive("close-popper",Vre),e.component("VTooltip",Ore),e.component("VDropdown",$re),e.component("VMenu",Are))}const zre={version:"2.0.0",install:Ure,options:ao},jre={reformatDate(e){var t;if(!e||typeof e=="string")return e;if(typeof e=="object"&&((t=e.constructor)==null?void 0:t.name)==="Date")return M(e).format("DD/MM/YYYY");if(e.isValid()){let n=M(e);return n==null||!n.isValid()?e:n.format("DD/MM/YYYY")}else return e},reformatDateString(e,t){return!e||typeof e!="string"?e:M(e,t).format("DD/MM/YYYY")},reformatTime(e){if(!e)return e;let t=M(e);if(t==null||!t.isValid()){let n=M(e,"h:m");return n==null||!n.isValid()?e:n.format("HH:mm")}return t.format("HH:mm")},reformatBreakHours(e){if(!e)return e;let t=e,n=Math.floor(t),s=t-n;if(s>0&&(s=Math.round(s*60)),n&&s)return`${n}:${s}`;if(n)return`${n} hour`;if(s)return`${s} min`},ordinalSuffix(e){let t=e%10,n=e%100;return t==1&&n!=11?e+"st":t==2&&n!=12?e+"nd":t==3&&n!=13?e+"rd":e+"th"}},Gre={width:24,height:24,body:'<path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6l1.41 1.41Z"/>'},Kre={width:24,height:24,body:'<path fill="currentColor" d="M15.41 16.58L10.83 12l4.58-4.59L14 6l-6 6l6 6l1.41-1.42Z"/>'},qre={width:24,height:24,body:'<path fill="currentColor" d="M8.59 16.58L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.42Z"/>'},Xre={width:24,height:24,body:'<path fill="currentColor" d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6l1.41-1.42Z"/>'},Zre={chevronUp:Gre,chevronLeft:Kre,chevronRight:qre,chevronDown:Xre},Al={},Jre={install:e=>{function t(o){e.config.globalProperties.$CompanyConfig?e.config.globalProperties.$CompanyConfig.isAllowPersonal=o:e.config.globalProperties.$CompanyConfig={isAllowPersonal:o}}function n(o){e.config.globalProperties.$CompanyConfig?e.config.globalProperties.$CompanyConfig.isAllowSundayFirst=o:e.config.globalProperties.$CompanyConfig={isAllowSundayFirst:o}}function s(){return e.config.globalProperties.$CompanyConfig?e.config.globalProperties.$CompanyConfig.isAllowPersonal:null}function i(){return e.config.globalProperties.$CompanyConfig?e.config.globalProperties.$CompanyConfig.isAllowSundayFirst:null}Al.setAllowPersonal=t,Al.getAllowPersonal=s,Al.setAllowSundayFirst=n,Al.getAllowSundayFirst=i,e.provide("MANAGE_COMPANY_CONFIG",Al)}};/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function vi(e){return getComputedStyle(e)}function ts(e,t){for(var n in t){var s=t[n];typeof s=="number"&&(s=s+"px"),e.style[n]=s}return e}function od(e){var t=document.createElement("div");return t.className=e,t}var Pw=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Wo(e,t){if(!Pw)throw new Error("No element matching method supported");return Pw.call(e,t)}function Ca(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function Lw(e,t){return Array.prototype.filter.call(e.children,function(n){return Wo(n,t)})}var dn={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},DC={x:null,y:null};function kC(e,t){var n=e.element.classList,s=dn.state.scrolling(t);n.contains(s)?clearTimeout(DC[t]):n.add(s)}function TC(e,t){DC[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(dn.state.scrolling(t))},e.settings.scrollingThreshold)}function Qre(e,t){kC(e,t),TC(e,t)}var Uc=function(t){this.element=t,this.handlers={}},CC={isEmpty:{configurable:!0}};Uc.prototype.bind=function(t,n){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(n),this.element.addEventListener(t,n,!1)};Uc.prototype.unbind=function(t,n){var s=this;this.handlers[t]=this.handlers[t].filter(function(i){return n&&i!==n?!0:(s.element.removeEventListener(t,i,!1),!1)})};Uc.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};CC.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return e.handlers[t].length===0})};Object.defineProperties(Uc.prototype,CC);var sl=function(){this.eventElements=[]};sl.prototype.eventElement=function(t){var n=this.eventElements.filter(function(s){return s.element===t})[0];return n||(n=new Uc(t),this.eventElements.push(n)),n};sl.prototype.bind=function(t,n,s){this.eventElement(t).bind(n,s)};sl.prototype.unbind=function(t,n,s){var i=this.eventElement(t);i.unbind(n,s),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)};sl.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]};sl.prototype.once=function(t,n,s){var i=this.eventElement(t),o=function(r){i.unbind(n,o),s(r)};i.bind(n,o)};function rd(e){if(typeof window.CustomEvent=="function")return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function Xd(e,t,n,s,i){s===void 0&&(s=!0),i===void 0&&(i=!1);var o;if(t==="top")o=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(t==="left")o=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");eae(e,n,o,s,i)}function eae(e,t,n,s,i){var o=n[0],r=n[1],a=n[2],c=n[3],d=n[4],h=n[5];s===void 0&&(s=!0),i===void 0&&(i=!1);var p=e.element;e.reach[c]=null,p[a]<1&&(e.reach[c]="start"),p[a]>e[o]-e[r]-1&&(e.reach[c]="end"),t&&(p.dispatchEvent(rd("ps-scroll-"+c)),t<0?p.dispatchEvent(rd("ps-scroll-"+d)):t>0&&p.dispatchEvent(rd("ps-scroll-"+h)),s&&Qre(e,c)),e.reach[c]&&(t||i)&&p.dispatchEvent(rd("ps-"+c+"-reach-"+e.reach[c]))}function Jt(e){return parseInt(e,10)||0}function tae(e){return Wo(e,"input,[contenteditable]")||Wo(e,"select,[contenteditable]")||Wo(e,"textarea,[contenteditable]")||Wo(e,"button,[contenteditable]")}function nae(e){var t=vi(e);return Jt(t.width)+Jt(t.paddingLeft)+Jt(t.paddingRight)+Jt(t.borderLeftWidth)+Jt(t.borderRightWidth)}var Da={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function uo(e){var t=e.element,n=Math.floor(t.scrollTop),s=t.getBoundingClientRect();e.containerWidth=Math.round(s.width),e.containerHeight=Math.round(s.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(Lw(t,dn.element.rail("x")).forEach(function(i){return Ca(i)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(Lw(t,dn.element.rail("y")).forEach(function(i){return Ca(i)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=Rw(e,Jt(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=Jt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=Rw(e,Jt(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=Jt(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),sae(t,e),e.scrollbarXActive?t.classList.add(dn.state.active("x")):(t.classList.remove(dn.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=e.isRtl===!0?e.contentWidth:0),e.scrollbarYActive?t.classList.add(dn.state.active("y")):(t.classList.remove(dn.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function Rw(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function sae(e,t){var n={width:t.railXWidth},s=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-s:n.top=t.scrollbarXTop+s,ts(t.scrollbarXRail,n);var i={top:s,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth*2-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft,ts(t.scrollbarYRail,i),ts(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),ts(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function iae(e){e.element,e.event.bind(e.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top,s=n>e.scrollbarYTop?1:-1;e.element.scrollTop+=s*e.containerHeight,uo(e),t.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left,s=n>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=s*e.containerWidth,uo(e),t.stopPropagation()})}function oae(e){Nw(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Nw(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function Nw(e,t){var n=t[0],s=t[1],i=t[2],o=t[3],r=t[4],a=t[5],c=t[6],d=t[7],h=t[8],p=e.element,g=null,y=null,_=null;function T(x){x.touches&&x.touches[0]&&(x[i]=x.touches[0].pageY),p[c]=g+_*(x[i]-y),kC(e,d),uo(e),x.stopPropagation(),x.type.startsWith("touch")&&x.changedTouches.length>1&&x.preventDefault()}function w(){TC(e,d),e[h].classList.remove(dn.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",T)}function k(x,$){g=p[c],$&&x.touches&&(x[i]=x.touches[0].pageY),y=x[i],_=(e[s]-e[n])/(e[o]-e[a]),$?e.event.bind(e.ownerDocument,"touchmove",T):(e.event.bind(e.ownerDocument,"mousemove",T),e.event.once(e.ownerDocument,"mouseup",w),x.preventDefault()),e[h].classList.add(dn.state.clicking),x.stopPropagation()}e.event.bind(e[r],"mousedown",function(x){k(x)}),e.event.bind(e[r],"touchstart",function(x){k(x,!0)})}function rae(e){var t=e.element,n=function(){return Wo(t,":hover")},s=function(){return Wo(e.scrollbarX,":focus")||Wo(e.scrollbarY,":focus")};function i(o,r){var a=Math.floor(t.scrollTop);if(o===0){if(!e.scrollbarYActive)return!1;if(a===0&&r>0||a>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var c=t.scrollLeft;if(r===0){if(!e.scrollbarXActive)return!1;if(c===0&&o<0||c>=e.contentWidth-e.containerWidth&&o>0)return!e.settings.wheelPropagation}return!0}e.event.bind(e.ownerDocument,"keydown",function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)&&!(!n()&&!s())){var r=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(r){if(r.tagName==="IFRAME")r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(tae(r))return}var a=0,c=0;switch(o.which){case 37:o.metaKey?a=-e.contentWidth:o.altKey?a=-e.containerWidth:a=-30;break;case 38:o.metaKey?c=e.contentHeight:o.altKey?c=e.containerHeight:c=30;break;case 39:o.metaKey?a=e.contentWidth:o.altKey?a=e.containerWidth:a=30;break;case 40:o.metaKey?c=-e.contentHeight:o.altKey?c=-e.containerHeight:c=-30;break;case 32:o.shiftKey?c=e.containerHeight:c=-e.containerHeight;break;case 33:c=e.containerHeight;break;case 34:c=-e.containerHeight;break;case 36:c=e.contentHeight;break;case 35:c=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&a!==0||e.settings.suppressScrollY&&c!==0||(t.scrollTop-=c,t.scrollLeft+=a,uo(e),i(a,c)&&o.preventDefault())}})}function aae(e){var t=e.element;function n(r,a){var c=Math.floor(t.scrollTop),d=t.scrollTop===0,h=c+t.offsetHeight===t.scrollHeight,p=t.scrollLeft===0,g=t.scrollLeft+t.offsetWidth===t.scrollWidth,y;return Math.abs(a)>Math.abs(r)?y=d||h:y=p||g,y?!e.settings.wheelPropagation:!0}function s(r){var a=r.deltaX,c=-1*r.deltaY;return(typeof a>"u"||typeof c>"u")&&(a=-1*r.wheelDeltaX/6,c=r.wheelDeltaY/6),r.deltaMode&&r.deltaMode===1&&(a*=10,c*=10),a!==a&&c!==c&&(a=0,c=r.wheelDelta),r.shiftKey?[-c,-a]:[a,c]}function i(r,a,c){if(!Da.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(r))return!1;for(var d=r;d&&d!==t;){if(d.classList.contains(dn.element.consuming))return!0;var h=vi(d);if(c&&h.overflowY.match(/(scroll|auto)/)){var p=d.scrollHeight-d.clientHeight;if(p>0&&(d.scrollTop>0&&c<0||d.scrollTop<p&&c>0))return!0}if(a&&h.overflowX.match(/(scroll|auto)/)){var g=d.scrollWidth-d.clientWidth;if(g>0&&(d.scrollLeft>0&&a<0||d.scrollLeft<g&&a>0))return!0}d=d.parentNode}return!1}function o(r){var a=s(r),c=a[0],d=a[1];if(!i(r.target,c,d)){var h=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(d?t.scrollTop-=d*e.settings.wheelSpeed:t.scrollTop+=c*e.settings.wheelSpeed,h=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(c?t.scrollLeft+=c*e.settings.wheelSpeed:t.scrollLeft-=d*e.settings.wheelSpeed,h=!0):(t.scrollTop-=d*e.settings.wheelSpeed,t.scrollLeft+=c*e.settings.wheelSpeed),uo(e),h=h||n(c,d),h&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}typeof window.onwheel<"u"?e.event.bind(t,"wheel",o):typeof window.onmousewheel<"u"&&e.event.bind(t,"mousewheel",o)}function lae(e){if(!Da.supportsTouch&&!Da.supportsIePointer)return;var t=e.element;function n(_,T){var w=Math.floor(t.scrollTop),k=t.scrollLeft,x=Math.abs(_),$=Math.abs(T);if($>x){if(T<0&&w===e.contentHeight-e.containerHeight||T>0&&w===0)return window.scrollY===0&&T>0&&Da.isChrome}else if(x>$&&(_<0&&k===e.contentWidth-e.containerWidth||_>0&&k===0))return!0;return!0}function s(_,T){t.scrollTop-=T,t.scrollLeft-=_,uo(e)}var i={},o=0,r={},a=null;function c(_){return _.targetTouches?_.targetTouches[0]:_}function d(_){return _.pointerType&&_.pointerType==="pen"&&_.buttons===0?!1:!!(_.targetTouches&&_.targetTouches.length===1||_.pointerType&&_.pointerType!=="mouse"&&_.pointerType!==_.MSPOINTER_TYPE_MOUSE)}function h(_){if(d(_)){var T=c(_);i.pageX=T.pageX,i.pageY=T.pageY,o=new Date().getTime(),a!==null&&clearInterval(a)}}function p(_,T,w){if(!t.contains(_))return!1;for(var k=_;k&&k!==t;){if(k.classList.contains(dn.element.consuming))return!0;var x=vi(k);if(w&&x.overflowY.match(/(scroll|auto)/)){var $=k.scrollHeight-k.clientHeight;if($>0&&(k.scrollTop>0&&w<0||k.scrollTop<$&&w>0))return!0}if(T&&x.overflowX.match(/(scroll|auto)/)){var L=k.scrollWidth-k.clientWidth;if(L>0&&(k.scrollLeft>0&&T<0||k.scrollLeft<L&&T>0))return!0}k=k.parentNode}return!1}function g(_){if(d(_)){var T=c(_),w={pageX:T.pageX,pageY:T.pageY},k=w.pageX-i.pageX,x=w.pageY-i.pageY;if(p(_.target,k,x))return;s(k,x),i=w;var $=new Date().getTime(),L=$-o;L>0&&(r.x=k/L,r.y=x/L,o=$),n(k,x)&&_.preventDefault()}}function y(){e.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){if(e.isInitialized){clearInterval(a);return}if(!r.x&&!r.y){clearInterval(a);return}if(Math.abs(r.x)<.01&&Math.abs(r.y)<.01){clearInterval(a);return}if(!e.element){clearInterval(a);return}s(r.x*30,r.y*30),r.x*=.8,r.y*=.8},10))}Da.supportsTouch?(e.event.bind(t,"touchstart",h),e.event.bind(t,"touchmove",g),e.event.bind(t,"touchend",y)):Da.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",h),e.event.bind(t,"pointermove",g),e.event.bind(t,"pointerup",y)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",h),e.event.bind(t,"MSPointerMove",g),e.event.bind(t,"MSPointerUp",y)))}var cae=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},uae={"click-rail":iae,"drag-thumb":oae,keyboard:rae,wheel:aae,touch:lae},zc=function(t,n){var s=this;if(n===void 0&&(n={}),typeof t=="string"&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=t,t.classList.add(dn.main),this.settings=cae();for(var i in n)this.settings[i]=n[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o=function(){return t.classList.add(dn.state.focus)},r=function(){return t.classList.remove(dn.state.focus)};this.isRtl=vi(t).direction==="rtl",this.isRtl===!0&&t.classList.add(dn.rtl),this.isNegativeScroll=function(){var d=t.scrollLeft,h=null;return t.scrollLeft=-1,h=t.scrollLeft<0,t.scrollLeft=d,h}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new sl,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=od(dn.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=od(dn.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",r),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=vi(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Jt(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Jt(a.borderLeftWidth)+Jt(a.borderRightWidth),ts(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Jt(a.marginLeft)+Jt(a.marginRight),ts(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=od(dn.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=od(dn.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",r),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=vi(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Jt(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?nae(this.scrollbarY):null,this.railBorderYWidth=Jt(c.borderTopWidth)+Jt(c.borderBottomWidth),ts(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Jt(c.marginTop)+Jt(c.marginBottom),ts(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(d){return uae[d](s)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(d){return s.onScroll(d)}),uo(this)};zc.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,ts(this.scrollbarXRail,{display:"block"}),ts(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Jt(vi(this.scrollbarXRail).marginLeft)+Jt(vi(this.scrollbarXRail).marginRight),this.railYMarginHeight=Jt(vi(this.scrollbarYRail).marginTop)+Jt(vi(this.scrollbarYRail).marginBottom),ts(this.scrollbarXRail,{display:"none"}),ts(this.scrollbarYRail,{display:"none"}),uo(this),Xd(this,"top",0,!1,!0),Xd(this,"left",0,!1,!0),ts(this.scrollbarXRail,{display:""}),ts(this.scrollbarYRail,{display:""}))};zc.prototype.onScroll=function(t){this.isAlive&&(uo(this),Xd(this,"top",this.element.scrollTop-this.lastScrollTop),Xd(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};zc.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),Ca(this.scrollbarX),Ca(this.scrollbarY),Ca(this.scrollbarXRail),Ca(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};zc.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};const Fw=["scroll","ps-scroll-y","ps-scroll-x","ps-scroll-up","ps-scroll-down","ps-scroll-left","ps-scroll-right","ps-y-reach-start","ps-y-reach-end","ps-x-reach-start","ps-x-reach-end"];var ba={name:"PerfectScrollbar",props:{options:{type:Object,required:!1,default:()=>{}},tag:{type:String,required:!1,default:"div"},watchOptions:{type:Boolean,required:!1,default:!1}},emits:Fw,data(){return{ps:null}},watch:{watchOptions(e){!e&&this.watcher?this.watcher():this.createWatcher()}},mounted(){this.create(),this.watchOptions&&this.createWatcher()},updated(){this.$nextTick(()=>{this.update()})},beforeUnmount(){this.destroy()},methods:{create(){this.ps&&this.$isServer||(this.ps=new zc(this.$el,this.options),Fw.forEach(e=>{this.ps.element.addEventListener(e,t=>this.$emit(e,t))}))},createWatcher(){this.watcher=this.$watch("options",()=>{this.destroy(),this.create()},{deep:!0})},update(){this.ps&&this.ps.update()},destroy(){this.ps&&(this.ps.destroy(),this.ps=null)}},render(){return Ga(this.tag,{class:"ps"},this.$slots.default&&this.$slots.default())}},dae={install:(e,t)=>{t&&(t.name&&typeof t.name=="string"&&(ba.name=t.name),t.options&&typeof t.options=="object"&&(ba.props.options.default=()=>t.options),t.tag&&typeof t.tag=="string"&&(ba.props.tag.default=t.tag),t.watchOptions&&typeof t.watchOptions=="boolean"&&(ba.props.watchOptions=t.watchOptions)),e.component(ba.name,ba)}};const os=Woe();navigator.serviceWorker.getRegistrations().then(function(e){for(let t of e)t.unregister()});window.$globalConfig={t:""};window.$globalUser={t:""};window.myVue=Z1(n3);window.myVue.config.globalProperties.emitter=os;window.myVue.config.globalProperties.$config=V(window.$globalConfig);window.myVue.config.globalProperties.$user=V(window.$globalUser);window.myVue.use(zre);window.myVue.use(dae);window.myVue.use(Jre);window.myVue.use(Hoe).use(Ioe).mount("#app");window.myVue.config.globalProperties.$filters=jre;window.myVue.config.globalProperties.$icons=Zre});export default hae();
