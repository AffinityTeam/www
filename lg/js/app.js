(function(e){function t(t){for(var a,n,o=t[0],l=t[1],u=t[2],c=0,m=[];c<o.length;c++)n=o[c],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==s[l]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},s={app:0},i=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("ac1f"),r("841c"),r("1276"),r("00b4");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},i=[],n=r("2877"),o={},l=Object(n["a"])(o,s,i,!1,null,null,null),u=l.exports,d=r("8c4f"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"login-underlay",attrs:{id:"login-underlay"}},[r("Header"),r("Footer")],1),r("div",{staticClass:"login"},[r("div",{staticClass:"login-box-bg hidden",attrs:{id:"login-box-bg"}}),r("div",{staticClass:"login-box-wrapper"},[r("div",{staticClass:"login-box smaller",attrs:{id:"login-box"}},[e._m(0),r("div",{staticClass:"box-body"},[r("div",{staticClass:"errormsg",domProps:{innerHTML:e._s(this.error)}}),r("form",{on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("fieldset",[r("div",{staticClass:"errormsg hidden"},[e._v(" We could not log you in ")]),r("div",{staticClass:"login-box-row label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",id:"username",name:"username",autocomplete:"off",placeholder:"Username or email"},domProps:{value:e.userName},on:{change:e.checkEmail,input:function(t){t.target.composing||(e.userName=t.target.value)}}}),r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.usernameHelp,expression:"usernameHelp"}],staticClass:"username-question"},[r("span",{staticClass:"icon-help-round"})])]),e.showEmailUsers?r("div",{staticClass:"login-box-row label"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.emailUser,expression:"emailUser"}],attrs:{id:"emailuser",name:"emailuser"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.emailUser=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"null",disabled:"",selected:""}},[e._v("Username and company")]),e._l(e.availableEmailUsers,(function(t){return r("option",{key:t.UserName,domProps:{value:t.UserName}},[e._v(" "+e._s(t.UserName)+", "+e._s(t.CompanyName)+" ("+e._s(t.CompanyNumber)+") ")])}))],2)]):e._e(),r("div",{staticClass:"login-box-row label"},[r("input",{ref:"password",attrs:{type:"password",id:"password",name:"password",autocomplete:"off",placeholder:"Password"}})]),r("div",{staticClass:"login-box-row buttons"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loader"}),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"button green",attrs:{type:"submit",value:"Login",id:"loginButton"}})]),r("div",{staticClass:"login-box-row buttons"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberMe,expression:"rememberMe"}],attrs:{type:"checkbox",id:"rememberMe",name:"rememberMe"},domProps:{checked:Array.isArray(e.rememberMe)?e._i(e.rememberMe,null)>-1:e.rememberMe},on:{change:function(t){var r=e.rememberMe,a=t.target,s=!!a.checked;if(Array.isArray(r)){var i=null,n=e._i(r,i);a.checked?n<0&&(e.rememberMe=r.concat([i])):n>-1&&(e.rememberMe=r.slice(0,n).concat(r.slice(n+1)))}else e.rememberMe=s}}}),r("label",{attrs:{for:"rememberMe"}},[e._v("Remember my username")])]),r("div",{staticClass:"login-box-row buttons stacked"},[r("router-link",{attrs:{to:{path:"/Recover",query:{redirectUrl:e.redirectUrl}}}},[e._v("I have forgotten my password")])],1)])])])])]),r("CitrixLogin")],1)])},m=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-title"},[r("span",{staticClass:"icon-key"}),e._v(" Login ")])}],p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"citrixlogin"}},[r("a",{attrs:{href:"https://citrix.affinitylogon.com/"}},[e._v("Affinity Desktop User Login")])])}],f={name:"CitrixLogin"},v=f,g=Object(n["a"])(v,p,h,!1,null,null,null),w=g.exports,b=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},y=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-underlay-header"},[r("div",{staticClass:"heading"},[e._v("Affinity Self Service")]),r("div",{staticClass:"heading mobile"},[e._v("Self Service")]),r("div",{staticClass:"companylogo"},[r("img",{attrs:{alt:"",src:"https://cdn.jsdelivr.net/gh/affinityteam/www-assets/v1/images/logo/affinity1_300_90.png"}})])])}],A={name:"Header"},E=A,C=Object(n["a"])(E,b,y,!1,null,null,null),P=C.exports,x=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},S=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-underlay-footer"},[r("br"),r("br"),r("img",{attrs:{alt:"",src:"data:image/png;base64,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"}})])}],U={name:"Footer"},N=U,_=Object(n["a"])(N,x,S,!1,null,null,null),T=_.exports,R={name:"Login",components:{CitrixLogin:w,Header:P,Footer:T},props:["successMessage"],data:function(){return{usernameHelp:"This can be your username, email, or membership number (but not your surname).",error:"",loading:!1,userName:"",availableEmailUsers:null,rememberMe:!1,redirectUrl:"",emailUser:null}},computed:{showEmailUsers:function(){return this.availableEmailUsers&&this.availableEmailUsers.length>1}},methods:{populatePage:function(){var e=this;this.loading=!0,"undefined"!=typeof this.$route.query&&"undefined"!=typeof this.$route.query.redirectUrl&&(this.redirectUrl=this.$route.query.redirectUrl),this.$ajax.post("/auth/PopulatePage",{RedirectUrl:this.redirectUrl}).then((function(t){if("undefined"!=typeof t.data){if(t.data.Error)e.error=t.data.Error;else if(t.data.ClientRedirect&&t.data.RedirectUrl)window.location.href=t.data.RedirectUrl;else if(null!=t.data.RedirectPage){var r={};"SetupQuestions"==t.data.RedirectPage&&t.data.Questions.length&&(r={questions:t.data.Questions}),e.$router.push({name:t.data.RedirectPage,params:r,query:{redirectUrl:t.data.RedirectUrl}})}t.data.RememberMe&&t.data.UserName&&(e.userName=t.data.UserName,e.rememberMe=!0),null!=t.data.EmailUsers&&null!=t.data.EmailUsers.Users&&(e.availableEmailUsers=t.data.EmailUsers.Users)}})).catch((function(){})).then((function(){e.loading=!1}))},checkEmail:function(){var e=this,t=this.userName;t&&this.$validateEmail(t)&&(this.loading=!0,this.$ajax.get("/auth/CheckEmail",{params:{email:t}}).then((function(t){e.userName==t.data.EmailAddress&&(e.availableEmailUsers=t.data.Users)})).catch().then((function(){e.loading=!1})))},handleFormSubmit:function(){var e=this,t={redirectUrl:this.redirectUrl,userName:this.userName,password:this.$refs.password.value,rememberMe:this.rememberMe,emailUser:this.emailUser};this.error="",""==t.userName&&""==t.password?this.error="Username and Password cannot be blank.":""==t.userName?this.error="Username cannot be blank.":""==t.password&&(this.error="Password cannot be blank."),""==this.error&&(this.loading=!0,this.$ajax.post("/auth/login",t).then((function(t){if("undefined"!=typeof t.data)if(null!=t.data.Error)e.error=t.data.Error;else if(t.data.ClientRedirect&&t.data.RedirectUrl.length)window.location.href=t.data.RedirectUrl;else if(t.data.RedirectPage.length){var r={};"SetupQuestions"==t.data.RedirectPage&&t.data.Questions.length&&(r={questions:t.data.Questions}),e.$router.push({name:t.data.RedirectPage,params:r,query:{redirectUrl:t.data.RedirectUrl}})}})).catch((function(){})).then((function(){e.loading=!1})))}},mounted:function(){this.populatePage()}},O=R,k=Object(n["a"])(O,c,m,!1,null,null,null),q=k.exports,$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"login-underlay",attrs:{id:"login-underlay"}},[r("Header"),r("Footer")],1),r("div",{staticClass:"login"},[r("div",{staticClass:"login-box-bg hidden",attrs:{id:"login-box-bg"}}),r("div",{staticClass:"login-box-wrapper"},[r("div",{staticClass:"login-box smaller",attrs:{id:"login-box"}},[e._m(0),r("div",{staticClass:"box-body"},[r("div",{staticClass:"errormsg",domProps:{innerHTML:e._s(this.error)}}),r("form",{on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("fieldset",[r("div",{staticClass:"errormsg hidden"},[e._v("We could not log you in")]),r("div",{staticClass:"login-box-row label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",id:"username",name:"username",autocomplete:"off",placeholder:"E-mail address"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})]),r("div",{staticClass:"login-box-row buttons"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loader"}),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"button green",attrs:{type:"submit",value:"Submit",id:"loginButton"}})])])])])])]),r("CitrixLogin")],1)])},I=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-title"},[r("span",{staticClass:"icon-key"}),e._v(" Login with SSO ")])}],D={name:"LoginSSO",components:{CitrixLogin:w,Header:P,Footer:T},data:function(){return{error:"",loading:!1,userName:"",redirectUrl:"",emailUser:null}},computed:{},methods:{populatePage:function(){var e=this;this.loading=!0,"undefined"!=typeof this.$route.query&&"undefined"!=typeof this.$route.query.redirectUrl&&(this.redirectUrl=this.$route.query.redirectUrl),this.$ajax.post("/auth/PopulatePage",{RedirectUrl:this.redirectUrl}).then((function(t){if("undefined"!=typeof t.data)if(t.data.Error)e.error=t.data.Error;else if(t.data.ClientRedirect&&t.data.RedirectUrl)window.location.href=t.data.RedirectUrl;else if(null!=t.data.RedirectPage){var r={};"SetupQuestions"==t.data.RedirectPage&&t.data.Questions.length&&(r={questions:t.data.Questions}),e.$router.push({name:t.data.RedirectPage,params:r,query:{redirectUrl:t.data.RedirectUrl}})}})).catch((function(){e.loading=!1})).then((function(){e.loading=!1}))},handleFormSubmit:function(){var e=this,t={email:this.userName};this.error="",""!=t.email?(this.loading=!0,this.$ajax.post("/Auth/Loginsso",t).then((function(t){t.data?window.location.href=t.data:(e.error="E-mail address not found.",e.loading=!1)})).catch((function(){e.loading=!1}))):this.error="E-mail address cannot be blank."}},mounted:function(){this.populatePage()}},L=D,j=Object(n["a"])(L,$,I,!1,null,null,null),Q=j.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("setup",{attrs:{title:"Setup Your Email",error:e.error}},[r("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("div",{staticClass:"default-form w-border",staticStyle:{"text-align":"left",margin:"auto"}},[r("div",{staticClass:"form-row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.WorkEmail,expression:"WorkEmail"}],staticClass:"long",attrs:{type:"text",placeholder:"Enter Work Email (optional)"},domProps:{value:e.WorkEmail},on:{input:function(t){t.target.composing||(e.WorkEmail=t.target.value)}}})]),r("div",{staticClass:"form-row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.HomeEmail,expression:"HomeEmail"}],staticClass:"long",attrs:{type:"text",placeholder:"Enter Personal Email (optional)"},domProps:{value:e.HomeEmail},on:{input:function(t){t.target.composing||(e.HomeEmail=t.target.value)}}})]),r("div",{staticClass:"form-row",staticStyle:{"text-align":"center"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner small light"}),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"button large blue",attrs:{type:"submit",value:"Continue"}})])])])])},F=[],M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",{staticClass:"content errorpage"},[r("div",{staticClass:"section shadow"},[r("div",{staticClass:"section-body"},[r("h1",{directives:[{name:"show",rawName:"v-show",value:!e.hidePageTitle,expression:"!hidePageTitle"}],staticStyle:{"font-size":"30px"}},[e._v(" "+e._s(e.title)+" ")]),e.success?r("div",{staticClass:"section-row"},[r("p",{staticStyle:{color:"#44ec72"}},[e._v(e._s(e.success))])]):e._e(),e.error?r("div",{staticClass:"section-row"},[r("p",{staticStyle:{color:"red"}},[e._v(e._s(e.error))])]):e._e(),r("div",{staticClass:"section"},[e._t("default")],2),e._m(1)])])]),r("div",{staticClass:"idserve-footer"},[e._v(" Â© Copyright "+e._s((new Date).getFullYear())+" Affinity - "),r("a",{attrs:{href:"http://www.affinityteam.co.nz/",target:"affinity"}},[e._v("Affinity Employer Services")]),e._m(2),r("span",{staticClass:"mobile hidden"},[e._v("(mobile)")])])])},z=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header idserve-header",attrs:{id:"idserve-header"}},[r("div",{staticClass:"idserve-header-title displayname"},[e._v(" Affinity Self Service ")]),r("div",{staticClass:"idserve-header-logo idserve-logo-base64"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"section-row"},[r("img",{attrs:{id:"alfred",alt:"",src:"https://cdn.jsdelivr.net/gh/affinityteam/www-assets/v1/images/alfred1_357_355.png"}}),r("br"),r("br")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{attrs:{href:"http://www.affinityteam.co.nz/",target:"affinity"}},[r("span",{staticClass:"idserve-footer-logo idserve-logo-base64"})])}],V={name:"Setup",props:["title","error","hidePageTitle","success"],mounted:function(){}},W=V,Y=Object(n["a"])(W,M,z,!1,null,null,null),X=Y.exports,B={name:"Emails",components:{Setup:X},data:function(){return{error:"",loading:!1,redirectUrl:"",WorkEmail:"",HomeEmail:""}},methods:{handleFormSubmit:function(){var e=this,t={redirectUrl:this.redirectUrl,HomeEmail:this.HomeEmail,WorkEmail:this.WorkEmail};this.error="","undefined"!=typeof t.WorkEmail&&t.WorkEmail.length&&!this.$validateEmail(t.WorkEmail)?this.error="Work email is not valid.":"undefined"!=typeof t.HomeEmail&&t.HomeEmail.length&&!this.$validateEmail(t.HomeEmail)&&(this.error="Personal email is not valid."),""==this.error&&(this.loading=!0,this.$ajax.post("/Setup/Emails",t).then((function(t){if("undefined"!=typeof t.data)if(null!=t.data.Error)e.error=t.data.Error;else if(t.data.ClientRedirect&&t.data.RedirectUrl.length)window.location.href=t.data.RedirectUrl;else if(null!=t.data.RedirectPage){var r=null!=t.data.RedirectUrl?{redirectUrl:t.data.RedirectUrl}:{};e.$router.push({name:t.data.RedirectPage,query:r})}})).catch((function(){})).then((function(){e.loading=!1})))}},mounted:function(){"undefined"!=typeof this.$route.query&&"undefined"!=typeof this.$route.query.redirectUrl&&(this.redirectUrl=this.$route.query.redirectUrl)}},G=B,Z=Object(n["a"])(G,H,F,!1,null,null,null),K=Z.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("setup",{attrs:{title:"Answer Security Questions",error:e.error}},[r("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("h3",[e._v(e._s(e.pageSubtitle))]),r("div",{staticClass:"default-form w-border",staticStyle:{"text-align":"left",margin:"auto"}},[r("br"),e._l(e.questions,(function(t){return r("span",{key:t},[r("div",{staticClass:"form-row"},[e._v(" "+e._s(t.Text)+" ")]),r("div",{staticClass:"form-row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.AnswerText,expression:"question.AnswerText"}],staticClass:"long",attrs:{type:"text",placeholder:"Answer the Question",autocomplete:"off"},domProps:{value:t.AnswerText},on:{input:function(r){r.target.composing||e.$set(t,"AnswerText",r.target.value)}}})]),r("br")])})),r("div",{staticClass:"form-row",staticStyle:{"text-align":"center"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner small light"}),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"button large blue",attrs:{type:"submit",value:"Continue"}})])],2)])])},ee=[],te={name:"Reset",data:function(){return{error:"",loading:!1,userId:"",userName:"",redirectUrl:"",email:"",recoveryToken:"",setPassToken:"",companyName:"",firstName:"",lastName:"",questions:[],pageSubtitle:""}},components:{Setup:X},methods:{handleFormSubmit:function(){var e=this,t={questions:this.questions,userName:this.userName,email:this.email,token:this.recoveryToken,companyName:this.companyName,firstName:this.firstName,lastName:this.lastName,userId:this.userId};this.error="";for(var r=!0,a=0;a<t.questions.length;a++)if(t.questions[a].hasOwnProperty("AnswerText")&&null==t.questions[a].AnswerText){r=!1;break}r?(this.loading=!0,this.$ajax.post("/Password/Reset",t).then((function(t){null!=t.data.Error?e.error=t.data.Error:t.data.RedirectPage&&(e.setPassToken=t.data.Token,e.$router.push({name:t.data.RedirectPage,params:{setPassToken:e.setPassToken,userId:e.userId,pageSubtitle:e.pageSubtitle},query:{redirectUrl:e.redirectUrl}}))})).catch((function(){})).then((function(){e.loading=!1}))):this.error="All answers must be filled out."},populatePage:function(){var e=this;this.loading=!0,this.$ajax.get("/Password/Reset").then((function(t){"undefined"!=typeof t.data&&(null!=t.data.Error?e.error=t.data.Error:(e.questions=t.data.Questions,e.userName=t.data.UserName,e.email=t.data.Email,e.recoveryToken=t.data.Token,e.companyName=t.data.CompanyName,e.firstName=t.data.FirstName,e.lastName=t.data.LastName,e.userId=t.data.UserId,e.pageSubtitle=e.companyName+" / "+e.firstName+" "+e.lastName))})).catch((function(){})).then((function(){e.loading=!1}))}},mounted:function(){this.populatePage(),"undefined"!=typeof this.$route.query&&"undefined"!=typeof this.$route.query.redirectUrl&&(this.redirectUrl=this.$route.query.redirectUrl)}},re=te,ae=Object(n["a"])(re,J,ee,!1,null,null,null),se=ae.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("setup",{attrs:{title:"Reset Your Password",error:e.error,hidePageTitle:e.hidePageTitle}},[r("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("div",{staticClass:"default-form w-border",staticStyle:{"text-align":"center",margin:"auto"}},[r("div",{staticClass:"form-row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"},{name:"show",rawName:"v-show",value:!e.hideInput,expression:"!hideInput"}],staticClass:"long",attrs:{type:"text",autocomplete:"off",placeholder:"Username or email"},domProps:{value:e.userName},on:{input:[function(t){t.target.composing||(e.userName=t.target.value)},e.checkEmail]}})]),e.showEmailUsers?r("div",{staticClass:"form-row label"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.emailUser,expression:"emailUser"}],staticStyle:{width:"500px","box-sizing":"content-box"},attrs:{id:"emailuser",name:"emailuser"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.emailUser=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"null",disabled:"",selected:""}},[e._v(" Username and company ")]),e._l(e.availableEmailUsers,(function(t){return r("option",{key:t.EmployeeNumber,domProps:{value:t.UserName}},[e._v(" "+e._s(t.UserName)+", "+e._s(t.CompanyName)+" ("+e._s(t.CompanyNumber)+") ")])}))],2)]):e._e(),r("div",{staticClass:"form-row",staticStyle:{"text-align":"center"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner small light"}),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"button large blue",attrs:{type:"submit",value:"Continue"}})])])])])},ne=[],oe=(r("d3b7"),{name:"Recover",data:function(){return{error:"",loading:!1,userName:"",redirectUrl:"",token:"",availableEmailUsers:null,instructionsMessage:"",hideInput:!1,emailUser:null,hidePageTitle:!1}},components:{Setup:X},computed:{showEmailUsers:function(){return this.availableEmailUsers&&this.availableEmailUsers.length>1}},methods:{handleFormSubmit:function(){var e=this,t={redirectUrl:this.redirectUrl,userName:this.userName,emailUser:this.emailUser,targetPath:this.$route.path};this.error="",""==t.userName&&(this.error="Username cannot be blank."),""==this.error&&(this.loading=!0,this.$ajax.post("/Password/Recover",t).then((function(t){if(t.data)if(t.data.Error)e.error=t.data.Error;else{var r=!!t.data.email||!t.data.mobileNumber&&null,a={sentToEmail:r,email:t.data.email,mobileNumber:t.data.mobileNumber,memberId:t.data.memberId,token:t.data.token};e.$router.push({name:null==r?"SetupQuestions":"OTP",params:a})}})).finally((function(){e.loading=!1})))},validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},checkEmail:function(){var e=this,t=this.userName;t&&this.validateEmail(t)&&(this.loading=!0,this.$ajax.get("/auth/CheckEmail",{params:{email:t}}).then((function(t){e.userName==t.data.EmailAddress&&(e.availableEmailUsers=t.data.Users),e.error=""})).catch().then((function(){e.loading=!1})))},verifyToken:function(e,t){var r=this;this.hideInput=!0,this.loading=!0,this.hidePageTitle=!0;var a={token:e,userId:t,redirectUrl:this.redirectUrl};this.$ajax.post("/Password/VerifyToken",a).then((function(e){"undefined"!=typeof e.data&&(null!=e.data.Error?r.error=e.data.Error:null!=e.data.RedirectPage&&(r.instructionsMessage=e.data.InstructionsMessage,r.$router.push({name:e.data.RedirectPage,query:{redirectUrl:r.redirectUrl}})))})).catch((function(){})).then((function(){r.loading=!1}))}},mounted:function(){"undefined"!=typeof this.$route.query&&("undefined"!=typeof this.$route.query.redirectUrl&&(this.redirectUrl=this.$route.query.redirectUrl),"undefined"!=typeof this.$route.query.token&&"undefined"!=typeof this.$route.query.userId&&this.verifyToken(this.$route.query.token,this.$route.query.userId))}}),le=oe,ue=Object(n["a"])(le,ie,ne,!1,null,null,null),de=ue.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("setup",{attrs:{title:"Setup Password",error:e.error}},[r("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("passwordPage",{attrs:{loading:e.loading},model:{value:e.output,callback:function(t){e.output=t},expression:"output"}})],1)])},me=[],pe={name:"SetupPassword",data:function(){return{error:"",loading:!1,redirectUrl:"",output:{password:"",confirmPassword:""}}},components:{Setup:X},methods:{handleFormSubmit:function(){var e=this,t={redirectUrl:this.redirectUrl,password:this.output.password,confirmPassword:this.output.confirmPassword};this.error="",""==t.password&&""==t.confirmPassword?this.error="Password fields cannot be blank.":""==t.confirmPassword?this.error="Confirm Password field cannot be blank.":""==t.password?this.error="Password field cannot be blank.":t.password!=t.confirmPassword&&(this.error="Password fields do not match."),""==this.error&&(this.loading=!0,this.$ajax.post("/Setup/Password",t).then((function(t){if("undefined"!=typeof t.data)if(null!=t.data.Error)e.error=t.data.Error;else if(t.data.ClientRedirect&&t.data.RedirectUrl.length)window.location.href=t.data.RedirectUrl;else if(null!=t.data.RedirectPage){var r=null!=t.data.RedirectUrl?{redirectUrl:t.data.RedirectUrl}:{};e.$router.push({name:t.data.RedirectPage,query:r})}})).catch((function(){})).then((function(){e.loading=!1})))}},mounted:function(){"undefined"!=typeof this.$route.query&&"undefined"!=typeof this.$route.query.redirectUrl&&(this.redirectUrl=this.$route.query.redirectUrl)}},he=pe,fe=Object(n["a"])(he,ce,me,!1,null,null,null),ve=fe.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("setup",{attrs:{title:"Setup Security Questions",error:e.error}},[r("form",{attrs:{method:"post",id:"form-questions-setup"},on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("div",{staticClass:"default-form w-border",staticStyle:{margin:"0 auto","text-align":"left"}},[r("div",{staticClass:"title-row section-title",staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.userInfo)+" ")]),e._l(e.questionList,(function(t,a){return r("div",{key:t.id,staticClass:"form-row security-question"},[r("span",[e._v(" "+e._s(t.Text)+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.questionList[a].Id,expression:"questionList[index].Id"}],attrs:{type:"hidden"},domProps:{value:e.questionList[a].Id},on:{input:function(t){t.target.composing||e.$set(e.questionList[a],"Id",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.questionList[a].Text,expression:"questionList[index].Text"}],attrs:{type:"hidden"},domProps:{value:e.questionList[a].Text},on:{input:function(t){t.target.composing||e.$set(e.questionList[a],"Text",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.questionList[a].AnswerId,expression:"questionList[index].AnswerId"}],attrs:{type:"hidden"},domProps:{value:e.questionList[a].AnswerId},on:{input:function(t){t.target.composing||e.$set(e.questionList[a],"AnswerId",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.questionList[a].AnswerText,expression:"questionList[index].AnswerText"}],staticClass:"long",attrs:{type:"text"},domProps:{value:e.questionList[a].AnswerText},on:{input:function(t){t.target.composing||e.$set(e.questionList[a],"AnswerText",t.target.value)}}})])})),r("div",{staticClass:"form-row",staticStyle:{"text-align":"center"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner small light"}),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"button large blue",attrs:{type:"submit",value:"Continue"}})]),r("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.sentToEmail,expression:"sentToEmail !== null"}],staticClass:"form-row",staticStyle:{"text-align":"center"}},[r("button",{staticClass:"button large green",on:{click:e.handleGoToOTP}},[e._v(" Back to OTP ")])])],2)])])},we=[],be=(r("159b"),r("99af"),r("bc3a")),ye=r.n(be),Ae={install:function(e,t){ye.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",t&&t.handleUnauthorized&&ye.a.interceptors.response.use((function(e){return e}),(function(e){return e&&401==e.response.status&&(window.location.href="/"),Promise.reject(e)})),e.prototype.$ajax=ye.a,e.ajax=ye.a}},Ee={SUCCESS:"SUCCESS",FAILED:"FAILED",TOKEN_EXPIRED:"TOKEN_EXPIRED",EXPIRED:"EXPIRED",UNKNOWN_USER:"UNKNOWN_USER",BAD_REQUEST:"BAD_REQUEST",NOT_FOUND:"NOT_FOUND",SERVER_ERROR:"SERVER_ERROR"},Ce=function(e,t){switch(e){case Ee.FAILED:if("QUESTIONS"===t)return"You need to answer all three security questions before your password can be reset.";if("PASSWORD"===t)return"Please complete all fields.";if("SEND_OTP"===t)return"Sending of OTP confirmation code has failed. Please try again later.";if("VERIFY_OTP"===t)return"You have inputted an invalid confirmation code.";case Ee.TOKEN_EXPIRED:return"You are away for several minutes.";case Ee.EXPIRED:return"Confirmation code is already expired.";case Ee.UNKNOWN_USER:return"You need to enter a valid username or email address.";case Ee.BAD_REQUEST:return"Something went wrong. Please try again after 5 minutes.";case Ee.SERVER_ERROR:return"Something went wrong. Please try again after 5 minutes.";default:return""}},Pe={name:"SetupQuestions",props:["token","memberId","redirectUrl","sentToEmail","email","mobileNumber"],components:{Setup:X},data:function(){return{error:"",loading:!1,questionList:[],data:{},userInfo:""}},methods:{handleFormSubmit:function(){var e=this;if(this.error="",this.questionList.forEach((function(t){""===t.AnswerText&&(e.error="All answers must be filled out.")})),""==this.error){this.loading=!0;var t={UserId:this.memberId,Token:this.token,Questions:this.questionList};this.$ajax.post("/Password/VerifyAnswers",t).then((function(t){var r=Ce(t.data.result);if(r)e.error=r;else if(t.data.verified){var a={userId:e.memberId,token:t.data.token,redirectUrl:e.redirectUrl};e.$router.push({name:"SetNew",params:a})}})).catch((function(){})).then((function(){e.loading=!1}))}},handleGoToOTP:function(){var e={sentToEmail:this.sentToEmail,email:this.email,mobileNumber:this.mobileNumber,memberId:this.memberId,token:this.token};this.$router.push({name:"OTP",params:e})},populatePage:function(){var e=this;this.loading=!0,this.$ajax.post("/Password/GetSecurityQuestions",{memberId:this.memberId,token:this.token}).then((function(t){"undefined"!=typeof t.data&&(t.data.error?e.error=t.data.errorMsg:t.data.data.Questions.length&&(e.questionList=t.data.data.Questions,e.userInfo="".concat(t.data.data.CompanyName," / ").concat(t.data.data.FirstName," ").concat(t.data.data.LastName)))})).catch((function(){})).then((function(){e.loading=!1}))}},mounted:function(){this.memberId?this.populatePage():this.$router.push({name:"Recover",query:this.$route.query.redirectUrl?{redirectUrl:this.$route.query.redirectUrl}:void 0})}},xe=Pe,Se=Object(n["a"])(xe,ge,we,!1,null,null,null),Ue=Se.exports,Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("setup",{attrs:{title:e.instructionsMessage}})},_e=[],Te={props:["instructionsMessage"],components:{Setup:X},methods:{},mounted:function(){}},Re=Te,Oe=Object(n["a"])(Re,Ne,_e,!1,null,null,null),ke=Oe.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("setup",{attrs:{title:"Set New Password",error:e.error,success:e.success}},[r("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("h3",[e._v(e._s(e.pageSubtitle))]),r("passwordPage",{attrs:{loading:e.loading},model:{value:e.output,callback:function(t){e.output=t},expression:"output"}})],1)])},$e=[],Ie=r("ade3"),De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"default-form w-border",staticStyle:{"text-align":"left",margin:"auto"}},[r("div",{staticClass:"form-row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.output.password,expression:"output.password"}],staticClass:"long",attrs:{type:"password",placeholder:"Enter new Password"},domProps:{value:e.output.password},on:{input:function(t){t.target.composing||e.$set(e.output,"password",t.target.value)}}})]),r("div",{staticClass:"form-row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.output.confirmPassword,expression:"output.confirmPassword"}],staticClass:"long",attrs:{type:"password",placeholder:"Enter new Password again"},domProps:{value:e.output.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.output,"confirmPassword",t.target.value)}}})]),r("div",{staticClass:"form-row",staticStyle:{"text-align":"center"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner small light"}),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"button large blue",attrs:{type:"submit",value:"Continue"}})])])},Le=[],je=a["a"].extend({name:"PasswordPage",props:["passwordVal","confirmPasswordVal","loading"],data:function(){return{output:{password:"",confirmPassword:""}}},watch:{"output.password":function(){this.$emit("input",this.output)},"output.confirmPassword":function(){this.$emit("input",this.output)}}});a["a"].component("passwordPage",je);var Qe,He=je,Fe=He,Me=Object(n["a"])(Fe,De,Le,!1,null,null,null),ze=Me.exports,Ve=(Qe={name:"SetNew",props:["pageSubtitle","userId","token","redirectUrl"],components:{PasswordPage:ze},data:function(){return{error:"",loading:!1,success:"",output:{password:"",confirmPassword:""}}}},Object(Ie["a"])(Qe,"components",{Setup:X}),Object(Ie["a"])(Qe,"methods",{handleFormSubmit:function(){var e=this,t={Password:this.output.password,ConfirmPassword:this.output.confirmPassword,UserId:this.userId,Token:this.token};this.error="",""==t.Password&&""==t.ConfirmPassword?this.error="Password fields cannot be blank.":""==t.ConfirmPassword?this.error="Confirm Password field cannot be blank.":""==t.Password?this.error="Password field cannot be blank.":t.Password!=t.ConfirmPassword&&(this.error="Password fields do not match."),""==this.error&&(this.loading=!0,this.$ajax.post("/Password/SetNew",t).then((function(t){if("undefined"!=typeof t.data){var r=Ce(t.data.result);if(r)e.error=t.data.errorMsg,e.loading=!1;else{var a=e;e.success="You have successfully reset your password. You will be redirected to Login page in 5 seconds.",setTimeout((function(){a.$router.push({name:"Login",query:e.redirectUrl?{redirectUrl:e.redirectUrl}:void 0})}),5e3)}}})).catch((function(){return e.error="Oops! Something went wrong...Please try again after 5 minutes."})))}}),Qe),We=Ve,Ye=Object(n["a"])(We,qe,$e,!1,null,null,null),Xe=Ye.exports,Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("setup",{attrs:{title:"Reset Your Password",error:e.error,hidePageTitle:e.hidePageTitle}},[e.sendingOtp?r("div",{staticClass:"otp-sending-progress"},[r("div",[e._v(" Sending OTP code to your "+e._s(e.otpToEmail?"email address":"contact number")+"..."),r("span",{staticStyle:{"white-space":"nowrap"}},[e._v("Please wait")])])]):e._e(),e.verifyingOtp?r("div",{staticClass:"otp-sending-progress"},[r("div",[e._v(" Verifying confirmation code..."),r("span",{staticStyle:{"white-space":"nowrap"}},[e._v("Please wait")])])]):e._e(),r("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.handleFormSubmit.apply(null,arguments)}}},[r("div",{staticClass:"default-form w-border",staticStyle:{"text-align":"center",margin:"auto"}},[r("p",{staticClass:"p-activation-note"},[r("strong",[e._v("Confirm your identity")]),e._v(" by entering the confirmation code ")]),r("p",[e._v(" Confirmation code sent to "),r("span",[e._v(e._s(e.otpToEmail?e.email:e.mobileNumber))])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"otp-control"},[r("v-otp-input",{ref:"otpInput",attrs:{"input-classes":"otp-input",separator:"","num-inputs":6,"should-auto-focus":!0,"is-input-num":!1},on:{"on-change":e.handleOtpChange,"on-complete":e.handleOtpComplete}})],1)]),r("div",{staticClass:"form-row"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.verifyingOtp,expression:"verifyingOtp"}],staticClass:"spinner small light"}),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.verifyingOtp,expression:"!verifyingOtp"}],staticClass:"button large blue",attrs:{type:"submit",value:"Verify Code"}})]),r("div",{staticClass:"form-row"},[r("a",{staticStyle:{cursor:"pointer"},on:{click:e.sendOtp}},[e._v("Send me a new code")]),e._v(" "+e._s(" or")),r("br"),e.email&&!e.otpToEmail?r("span",{},[r("a",{staticStyle:{cursor:"pointer"},on:{click:e.handleSwitchOtpReceiver}},[e._v("Send code through my email ("+e._s(e.email)+")")]),e._v(e._s(" or")+" "),r("br")]):e._e(),e.mobileNumber&&e.otpToEmail?r("span",{},[r("a",{staticStyle:{cursor:"pointer"},on:{click:e.handleSwitchOtpReceiver}},[e._v("Send code through my contact number ("+e._s(e.mobileNumber)+")")]),e._v(" or "),r("br")]):e._e(),r("a",{staticStyle:{cursor:"pointer"},on:{click:e.handleGoToQuestions}},[e._v("Answer my Security Questions")])])])])])},Ge=[],Ze={name:"OTP",props:["sentToEmail","email","mobileNumber","memberId","token","redirectUrl"],data:function(){return{otpToEmail:this.$props.sentToEmail,sendingOtp:!1,verifyingOtp:!1,code:"",error:"",hidePageTitle:!1}},methods:{handleFormSubmit:function(){var e=this;if(!this.code||this.code.length<6)return this.error="Insert the confirmation code that was sent to your\n\t\t\t\t\t".concat(this.otpToEmail?"email address ("+this.email+")":"contact number ("+this.mobileNumber+")"),!1;this.error="";var t=this.otpToEmail?"/Password/VerifyEmailOTP":"/Password/VerifySMSOTP";this.verifyingOtp=!0,this.$ajax.post(t,{memberId:this.memberId,verificationCode:this.code,token:this.token}).then((function(t){console.log(t),e.verifyingOtp=!1;var r=Ce(t.data.result,"VERIFY_OTP");if(""===r){var a={userId:e.memberId,token:t.data.token,redirectUrl:e.redirectUrl};e.$router.push({name:"SetNew",params:a})}else e.error=r,e.$refs.otpInput.clearInput()})).finally((function(){return e.verifyingOtp=!1}))},handleOtpChange:function(e){this.code=e},handleOtpComplete:function(e){this.code=e},sendOtp:function(){var e=this,t=this.otpToEmail?"/Password/SendOTPToEmail":"/Password/SendOTPToSMS";this.sendingOtp=!0,this.$ajax.get(t,{params:{memberId:this.memberId,token:this.token}}).then((function(t){var r=Ce(t.result,"SEND_OTP");r&&(e.error=r)})).finally((function(){return e.sendingOtp=!1}))},handleSwitchOtpReceiver:function(){this.otpToEmail=!this.otpToEmail,this.sendOtp()},handleGoToQuestions:function(){this.$router.push({name:"SetupQuestions",params:{memberId:this.memberId,token:this.token,redirectUrl:this.redirectUrl,email:this.email,sentToEmail:this.sentToEmail,mobileNumber:this.mobileNumber}})}},components:{Setup:X},mounted:function(){this.memberId?this.sendOtp():this.$router.push({name:"Recover",query:{redirectUrl:this.$route.query.redirectUrl}})}},Ke=Ze,Je=Object(n["a"])(Ke,Be,Ge,!1,null,null,null),et=Je.exports;a["a"].use(d["a"]);var tt=[{path:"/",name:"Login",component:q},{path:"/LoginSSO",name:"LoginSSO",component:Q},{path:"/Emails",name:"Emails",component:K},{path:"/Reset",name:"Reset",component:se},{path:"/Recover",name:"Recover",component:de},{path:"/SetupPassword",name:"SetupPassword",component:ve},{path:"/SetupQuestions",name:"SetupQuestions",component:Ue,props:!0},{path:"/Instructions",name:"Instructions",component:ke,props:!0},{path:"/SetNew",name:"SetNew",component:Xe,props:!0},{path:"/Otp",name:"OTP",component:et,props:!0}],rt=new d["a"]({mode:"history",base:"/",routes:tt}),at=rt,st=r("e37d"),it=r("cc46"),nt=r.n(it);r("a1a3");a["a"].component("v-otp-input",nt.a),a["a"].use(Ae,{handleUnautorized:!0}),a["a"].use(st["a"]),a["a"].prototype.$reformatUrl=function(e){var t=!1,r=window.location.search;if(null!=r){var a=r.split("?")[1];"undefined"!=typeof a&&(t=!0)}t&&(window.location.href="/#/"+e+r)},a["a"].prototype.$validateEmail=function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},a["a"].config.productionTip=!1,new a["a"]({router:at,render:function(e){return e(u)}}).$mount("#app")},a1a3:function(e,t,r){}});
//# sourceMappingURL=app.js.map